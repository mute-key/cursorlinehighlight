"use strict";var hn=Object.create;var Ge=Object.defineProperty;var Nn=Object.getOwnPropertyDescriptor;var bn=Object.getOwnPropertyNames;var kn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty;var Sn=(e,t)=>{for(var o in t)Ge(e,o,{get:t[o],enumerable:!0})},Vt=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of bn(t))!Wn.call(e,r)&&r!==o&&Ge(e,r,{get:()=>t[r],enumerable:!(n=Nn(t,r))||n.enumerable});return e};var g=(e,t,o)=>(o=e!=null?hn(kn(e)):{},Vt(t||!e||!e.__esModule?Ge(o,"default",{value:e,enumerable:!0}):o,e)),vn=e=>Vt(Ge({},"__esModule",{value:!0}),e);var ti={};Sn(ti,{activate:()=>Zr,deactivate:()=>ei});module.exports=vn(ti);var jt=g(require("vscode"));var gt=g(require("vscode"));var zt=16,qt=17,he=18;var Ne=256,d=257,u=258,l=259,p=260;var F=513,M=514,$=515,Y=516,k=517;var He=518,Fe=519;var ut=769,xt=770,_t=771;var Z=777,ee=778,be=776,te=779,oe=780,ne=781,re=782,ie=783,se=784;var Me=790,$e=791,Ye=792;var ue=793,xe=794,_e=795,fe=796,ge=797;var O=37,S=38,v=42,D=50,I=58,w=74,A=82,P=90,U=146,X=154,B=218;var K={general:"general",cursorOnly:"cursorOnly",singleLine:"singleLine",multiLine:"multiLine",multiCursor:"multiCursor",selectionText:"selectionText",diagnosticText:"diagnosticText"},Qt={name:void 0,renderLimiter:void 0,generalConfigInfo:{borderOpacity:void 0,backgroundOpacity:void 0,selectionTextEnabled:void 0,diagnosticTextEnabled:void 0},configError:void 0},Zt={selectionTextEnabled:["selectionText","enabled"],diagnosticTextEnabled:["diagnosticText","enabled"]},eo={cursorOnlyText:F,singleLineText:M,multiLineCursorText:$,multiLineAnchorText:Y,multiCursorText:k},to={enabled:void 0,color:void 0,colorOpacity:void 0,backgroundColor:void 0,backgroundOpacity:void 0,fontStyle:void 0,fontWeight:void 0,leftMargin:void 0,cursorOnlyText:void 0,singleLineText:void 0,multiLineCursorText:void 0,multiLineAnchorText:void 0,multiCursorText:void 0,selectionCountTextStyle:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0,opacity:void 0,fontStyle:void 0,fontWeight:void 0}},oo={[d]:"cursorOnly",[u]:"singleLine",[l]:"multiLine",[p]:"multiCursor"},no=["cursorOnlyText","singleLineText","multiLineCursorText","multiLineAnchorText","multiCursorText"],ro={leftMargin:void 0,placeholderDecorationOption:{},selectionDecorationOption:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0}},Ee={isWholeLine:void 0,rangeBehavior:void 0,after:{}},io={contentText:void 0,color:void 0,backgroundColor:void 0,fontWeight:void 0,fontStyle:void 0,textDecoration:void 0,margin:void 0},pi={[Ne]:{KEY:Ne,MASK:15},[d]:{KEY:d,MASK:1},[u]:{KEY:u,MASK:2},[l]:{KEY:l,MASK:4},[p]:{KEY:p,MASK:8}},Et={displayWhenCursorOnly:void 0,displayWhenSingleLine:void 0,displayWhenMultiLine:void 0,displayWhenMultiCursor:void 0,DiagnosticKind:void 0,placeTextOnPreviousOrNextLine:void 0,overrideLayoutPlaceholderColorToHighestSeverity:void 0,overrideAllOk:void 0},wn={openningBracket:void 0,closingBracket:void 0,lineEqual:void 0,lineUp:void 0,lineDown:void 0},so={enabled:void 0,leftMargin:void 0,visibility:Et,glyphList:wn,problemPlaceholderContentText:void 0,allOkPlaceholderContentText:void 0,allOkContentText:void 0,diagnosticPlaceholderTextStyle:void 0,okNotationTextStyle:void 0,okTextStyle:void 0,okWorkspaceContentText:void 0,okEditorContentText:void 0,warningNotationTextStyle:void 0,warningTextStyle:void 0,warningWorkspaceContentText:void 0,warningEditorContentText:void 0,errorNotationTextStyle:void 0,errorTextStyle:void 0,errorWorkspaceContentText:void 0,errorEditorContentText:void 0},ao={okNotationTextStyle:te,warningNotationTextStyle:oe,errorNotationTextStyle:ne},co={okNotationTextStyle:re,warningNotationTextStyle:ie,errorNotationTextStyle:se},lo={okNotationTextStyle:be},To={contentText:void 0,notation:void 0},po={allOkPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],allOkContentText:["okTextStyle","okNotationTextStyle"],problemPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],okEditorContentText:["okTextStyle","okNotationTextStyle"],warningEditorContentText:["warningTextStyle","warningNotationTextStyle"],errorEditorContentText:["errorTextStyle","errorNotationTextStyle"],okWorkspaceContentText:["okTextStyle","okNotationTextStyle"],warningWorkspaceContentText:["warningTextStyle","warningNotationTextStyle"],errorWorkspaceContentText:["errorTextStyle","errorNotationTextStyle"]},uo={problemPlaceholderContentText:ee,allOkPlaceholderContentText:Z,allOkContentText:be,okEditorContentText:te,warningEditorContentText:oe,errorEditorContentText:ne,okWorkspaceContentText:re,warningWorkspaceContentText:ie,errorWorkspaceContentText:se},xo=[["okNotationTextStyle","okTextStyle"],["warningNotationTextStyle","warningTextStyle"],["errorNotationTextStyle","errorTextStyle"]],_o=["problemPlaceholderContentText","allOkPlaceholderContentText","okWorkspaceContentText","okEditorContentText","allOkContentText","warningWorkspaceContentText","warningEditorContentText","errorWorkspaceContentText","errorEditorContentText"],fo={[gt.DiagnosticSeverity.Warning]:"warning",[gt.DiagnosticSeverity.Error]:"error"},go={leftMargin:void 0,diagonosticDecorationOption:{diagnosticPlaceholderTextStyle:void 0,okTextStyle:void 0,okNotationTextStyle:void 0,warningTextStyle:void 0,warningNotationTextStyle:void 0,errorTextStyle:void 0,errorNotationTextStyle:void 0}},ft={none:[0],bottom:[2,0],"top-bottom":[10],"top-right-bottom-left":[15,0],left:[1]},An={none:[0,0,0],"top-bottom":[8,2,0],left:[1,1,1]},Ke={[d]:ft,[u]:ft,[l]:An,[p]:ft},Eo={isWholeLine:!1,borderWidth:"2px",borderStyle:"dotted",borderColor:"#ff0000",borderPosition:"bottom",backgroundColor:"#ff0000"},Ot={borderOpacity:1,backgroundOpacity:.5,selectionTextEnabled:!1},ui={selectionTextColor:"#FF0000",selectionTextOpacity:1,selectionTextBackgroundColor:null,selectionTextFontStyle:"normal",selectionTextFontWeight:"bold"};var Oo={[zt]:void 0,[qt]:void 0,[he]:void 0},mo={appliedHighlight:[0],diagnosticSignature:[0]},Oe=[d,u,l,p],Co={[Ne]:[],[d]:[],[u]:[],[l]:[],[p]:[]},Lo={[d]:void 0,[u]:void 0,[l]:void 0,[p]:void 0},Ro={override:0,severity:0,editor:{warning:{line:[1],total:0},error:{line:[1],total:0}},workspace:{warning:{source:0,total:0},error:{source:0,total:0}}},yo={[F]:void 0,[M]:void 0,[$]:void 0,[Y]:void 0,[k]:void 0},ho={[O]:[],[S]:[],[v]:[],[D]:[],[I]:[],[w]:[],[A]:[],[P]:[],[U]:[],[X]:[],[B]:[]},mt=[v,D,I,w,A,P,U,X,B],No={[ue]:void 0,[xe]:void 0,[_e]:void 0,[fe]:void 0,[ge]:void 0},bo=[O,...mt],_i={[ut]:te,[xt]:oe,[_t]:ne},fi={[ut]:re,[xt]:ie,[_t]:se};var m=g(require("vscode")),ko=(e,t,o,n)=>new m.Range(new m.Position(e,t),new m.Position(o,n)),je=(e,t)=>new m.Range(e,t);var Ve=e=>{let t=new m.Position(e.selection.end.line,e.selection.end.character);return new m.Range(t,t)},Wo=(e,t=1)=>{let o=e.selection.end.line,n=new m.Position(e.selection.start.line!==0?o-t:o,e.selection.end.character);return new m.Range(n,n)},So=(e,t=1)=>{let o=new m.Position(e.selection.end.line+t,e.selection.end.character);return new m.Range(o,o)},j=e=>new m.Range(e,e),vo=e=>je(e.start,e.end),C=[];var It=g(require("vscode"));var Un=/(\${pre})/s,Xn=/(\${post})/s,Bn=/(\${src})/s,Gn=/(\${wrn})/s,Hn=/(\${err})/s,Fn=/(\${editor})/s,Mn=/(\${workspace})/s,$n=/(\${allok})/s,Yn={allok:$n},Kn={editor:Fn,workspace:Mn},ae={pre:Un,post:Xn},Do={wrn:Gn},Io={src:Bn},wo={err:Hn},Ao={problemPlaceholderContentText:Kn,allOkPlaceholderContentText:Yn,allOkContentText:ae,okWorkspaceContentText:ae,okEditorContentText:ae,warningWorkspaceContentText:{...ae,...Io,...Do},warningEditorContentText:{...ae,...Do},errorWorkspaceContentText:{...ae,...Io,...wo},errorEditorContentText:{...ae,...wo}},jn=/(\${col})/s,Vn=/(\${zCol})/s,Ct=/(\${lc})/s,ke=/(\${ln})/s,ze=/(\${char})/s,zn=/(\${nth})/s,qn=/(\${count})/s,Po={cursorOnlyText:{col:jn,zCol:Vn,ln:ke},singleLineText:{char:ze,ln:ke},multiLineCursorText:{lc:Ct,ln:ke,char:ze},multiLineAnchorText:{lc:Ct,ln:ke,char:ze},multiCursorText:{nth:zn,count:qn,lc:Ct,ln:ke,char:ze}},Uo=e=>new RegExp(`^( {${e}}|[\r
]+)*$`,"gm"),qe=/^[%\.].*[%\.]$/s,Xo=/(\t|[\r\n]+)*$/gm;var Bo=/(\${[A-z]*})/g,Go=/\${([^{}]+)}/s;var me=g(require("vscode"));var le={...yo},Lt={...Oo},L={[F]:[],[M]:[],[Y]:[],[$]:[],[k]:[]},G={...Ee},Yo=(e,t)=>{G.isWholeLine=!0,G.rangeBehavior=me.DecorationRangeBehavior.ClosedClosed,e!==k&&(L[e].splice(0),L[e].push(...le[e].contentText.map((o,n)=>(G.after={...o.after},me.window.createTextEditorDecorationType(o)))))},Ho=(e,t=0)=>{let o=e.selection.active.character+t,n=e.document.lineAt(e.selection.active.line).text.length+t;return o===n?o:o+"/"+n},Jn={col:({editor:e})=>Ho(e,1),zCol:({editor:e})=>Ho(e)},Qn={char:({editor:e})=>e.selection.end.character-e.selection.start.character},Je={ln:({editor:e})=>e.selection.active.line+1},Fo={lc:He,char:Fe},Zn={[He]:e=>e.selection.end.line-e.selection.start.line+1,[Fe]:e=>e.document.getText(e.selection).replace(Lt[he],"").length},er={nth:({idx:e})=>e+1,count:({editor:e})=>e.selections.length,ln:({idx:e,editor:t})=>t.selections[e].end.line+1,lc:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line,i=r?1:e.selections[0].end.line-e.selections[0].start.line+1;for(;t<n;)o=o+i,t++;return o},char:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line;for(;t<n;){if(r)o=o+(e.selections[t].end.character-e.selections[t].start.character);else{let i=e.document.getText(e.selections[t]);o=o+i.replace(Lt[he],"").length}t++}return o}},tr={cursorOnlyText:{...Jn,...Je},singleLineText:{...Je,...Qn},multiLineCursorText:{...Je,...Fo},multiLineAnchorText:{...Je,...Fo},multiCursorText:er},Rt=(e,t,o)=>(n,r)=>{o.renderOptions=n,typeof n.after.contentText!="string"&&(G.after={...n.after},G.after.contentText=String(G.after.contentText(t)),o.renderOptions=G),t.editor.setDecorations(e[r],[o])},yt=(e,t)=>{Se(e.setDecorations,t);let o={idx:0,editor:e},n=L[F],r={range:j(e.selection.active),renderOptions:{}};le[F].contentText.forEach(Rt(n,o,r))},ht=(e,t)=>{Se(e.setDecorations,t);let o={idx:0,editor:e},n=L[M],r={range:j(e.selection.active),renderOptions:{}};le[M].contentText.forEach(Rt(n,o,r))},Mo=(e,t,o,n,r)=>(i,s)=>{if(o.range=n,o.renderOptions=i,typeof i.after.contentText!="string"){let a=i.after.contentText;r[a]===null&&(r[a]=Zn[a](me.window.activeTextEditor)),G.after={...i.after},G.after.contentText=String(r[a]),o.renderOptions=G}e(t[s],[o])},$o={range:void 0,renderOptions:void 0,__proto__:null},Nt=(e,t)=>{l!==t[0]&&Se(e.setDecorations,t);let o={[He]:null,[Fe]:null};le[Y].contentText.forEach(Mo(e.setDecorations,L[Y],{...$o},j(e.selection.anchor),o)),le[$].contentText.forEach(Mo(e.setDecorations,L[$],{...$o},j(e.selection.active),o))},bt=(e,t)=>{Se(e.setDecorations,t);let o=[],n=le[k].contentText,r={idx:e.selections.length,editor:e};for(;r.idx--;){if(new Set(o).has(e.selections[r.idx].end.line))continue;let s=n.map(c=>me.window.createTextEditorDecorationType(c)),a={range:vo(e.selections[r.idx]),renderOptions:{}};n.forEach(Rt(s,r,a)),L[k].push(s),o.push(e.selections[r.idx].end.line)}},Ko=e=>{for(let t of Oe)Se(e.setDecorations,[t])},or=e=>t=>{e(t,C),t.dispose()},Se=(e,t)=>{switch(t[0]){case d:L[F].forEach(ce(e));break;case u:L[M].forEach(ce(e));break;case l:L[Y].forEach(ce(e)),L[$].forEach(ce(e));break;case p:for(let o of L[k])o.forEach(or(e));L[k].splice(0);break;default:break}},hi={[d]:(e,t)=>yt(e,t),[u]:(e,t)=>ht(e,t),[l]:(e,t)=>Nt(e,t),[p]:(e,t)=>bt(e,t)},Qe=()=>({functionOf:tr,textOf:le,infoOf:Lt});var Ze=Symbol("prefix"),et=Symbol("postfix");var tt=g(require("vscode"));var R={...Ro},ve={},kt=()=>{R.editor.warning.line.splice(0),R.editor.error.line.splice(0),R.editor.warning.total=0,R.editor.error.total=0},rr=()=>{R.workspace.warning.source=0,R.workspace.warning.total=0,R.workspace.error.source=0,R.workspace.error.total=0},Vo=e=>{R.override=e},ir=(e,t,o,n=void 0)=>{Object.keys(t).forEach(r=>{t[r].length>0&&(e.workspace[r].source+=1,e.workspace[r].total+=t[r].length),o===n&&(e.editor[r].line=[...new Set([...e.editor[r].line,...t[r].map(i=>i.range.start.line)])],e.editor[r].total=0,e.editor[r].total=t[r].length)})},sr=(e,t,o)=>{for(let n of t)if(n.severity<=tt.DiagnosticSeverity.Warning){typeof e[o.fsPath]!="object"&&(e[o.fsPath]={});let r=fo[n.severity];Array.isArray(e[o.fsPath][r])||(e[o.fsPath][r]=[]),e[o.fsPath][r].push(n)}},ar=e=>{let t=e.editor.error.total!==0||e.editor.warning.total!==0,o=e.workspace.error.total!==0||e.workspace.warning.total!==0;if(!t&&!o)return 1;let n=e.editor.warning.total<=e.editor.error.total&&t?4:2,r=e.workspace.warning.total<=e.workspace.error.total&&o?4:2;return Math.max(n,r)},ot=(e=void 0)=>{for(let o in ve)delete ve[o];rr();let t=tt.languages.getDiagnostics();for(let[o,n]of t)sr(ve,n,o);for(let[o,n]of Object.entries(ve))ir(R,n,o,e?.fsPath);return e&&!Object.hasOwn(ve,e.fsPath)&&kt(),R.severity=ar(R),R};var vt={...ho},Ce={...No},De={[O]:[],[S]:[],[v]:[],[D]:[],[I]:[],[w]:[],[A]:[],[P]:[],[U]:[],[X]:[],[B]:[]},x=(e,t)=>{De[e].push(...t)},qo=()=>{bo.forEach(e=>{De[e].forEach(t=>t.dispose()),vt[e].splice(0),De[e].splice(0)})},cr={...Et},lr={allok:Me},dr={editor:$e,workspace:Ye},de={pre:Ze,post:et},Jo=(e,t)=>{let o=[],n=e.length,r=!1,i=!1,s=!1;for(;n--;){if(e[n]>t&&!i)i=!0;else if(e[n]<t&&!r)r=!0;else if(e[n]===t&&!s){s=!0,i=!1,r=!1;break}if(i&&r)break}return o.push(Ce[ue],s?Ce[_e]:"",r?Ce[fe]:"",i?Ce[ge]:"",Ce[xe]),o.join("")},Tr={wrn:({state:e,line:t})=>String(e.editor.warning.total)+Jo(e.editor.warning.line,t)},pr={err:({state:e,line:t})=>String(e.editor.error.total)+Jo(e.editor.error.line,t)},ur={src:({state:e})=>String(e.workspace.warning.source)},xr={wrn:({state:e})=>String(e.workspace.warning.total)},_r={src:({state:e})=>String(e.workspace.error.source)},fr={err:({state:e})=>String(e.workspace.error.total)},Qo={rangeFunction:Ve,problemPlaceholderContentText:dr,allOkPlaceholderContentText:lr,allOkContentText:de,okWorkspaceContentText:de,okEditorContentText:de,warningEditorContentText:{...de,...Tr},warningWorkspaceContentText:{...de,...ur,...xr},errorEditorContentText:{...de,...pr},errorWorkspaceContentText:{...de,..._r,...fr}},gr=e=>{let t=(e.editor.warning.total?2:0)|(e.editor.error.total?4:0),o=(e.workspace.warning.total?2:0)|(e.workspace.error.total?4:0);return t===0&&o===0?e.override:(t?t<<5:32)|(o?o<<2:4)|2},Dt=(e,t)=>{De[t[0]]?.forEach(ce(e))},Wt={...Ee},Er=(e,t,o,n)=>(r,i)=>{Wt.after={...r.after},typeof r.after.contentText!="string"&&(Wt.after.contentText=r.after.contentText(n)),o.renderOptions=Wt,e.setDecorations(De[t][i],[o])},zo={range:{},renderOptions:{}},St={state:{},line:{}},nt=e=>t=>{Dt(t.setDecorations,e.diagnosticSignature);let o=ot(t.document.uri),n=gr(o);St.state=o,St.line=t.selection.start.line,zo.range=Qo.rangeFunction(t),vt[n].forEach(Er(t,n,{...zo},St)),e.diagnosticSignature[0]=n},rt=()=>({functionOf:Qo,textOf:{contentText:vt,glyphList:Ce},configOf:cr});var wt={...mo},Zo=e=>It.window.createTextEditorDecorationType(e),q=(e,t,o)=>e(t,o),ce=e=>t=>e(t,C),it=e=>{e.appliedHighlight[0]=d,e.diagnosticSignature[0]=O},Le=()=>{let e=t=>{tn(t),Ko(t),Dt(t.setDecorations,wt.diagnosticSignature)};It.window.visibleTextEditors.forEach(e)},At=e=>{let t=Qe();t.infoOf.size=Number(e.options.tabSize??e.options.indentSize??4),t.infoOf.type=e.options.insertSpaces?`
`:"	",t.infoOf.regex=e.options.insertSpaces?Uo(t.infoOf.size):Xo},st=e=>{V[d].splice(0),V[u].splice(0),V[l].splice(0),V[p].splice(0);let t=rt(),o={[d]:t.configOf.displayWhenCursorOnly,[u]:t.configOf.displayWhenSingleLine,[l]:t.configOf.displayWhenMultiLine,[p]:t.configOf.displayWhenMultiCursor},n={[d]:Pt,[u]:Ut,[l]:Xt,[p]:Bt},r={[d]:yt,[u]:ht,[l]:Nt,[p]:bt};Oe.forEach(i=>{let s=[];s.push(n[i]),e.generalConfigInfo.selectionTextEnabled&&s.push(r[i]),e.generalConfigInfo.diagnosticTextEnabled&&o[i]&&s.push(nt(wt)),V[i].push(...s)})},V={[d]:[],[u]:[],[l]:[],[p]:[]},Or=(e,t)=>o=>o(e,t),Re=(e,t)=>{let o=Or(e,t);return e.selections.length===1?e.selections[0].isEmpty?(V[d].forEach(o),d):e.selections[0].isSingleLine?(V[u].forEach(o),u):(V[l].forEach(o),l):(V[p].forEach(o),p)},en=()=>({stateOf:wt});var y={...Co},mr={...Lo};var Pt=(e,t)=>{J(e.setDecorations,t,C),q(e.setDecorations,y[d][0],[j(e.selection.active)])},Ut=(e,t)=>{J(e.setDecorations,t,C),q(e.setDecorations,y[u][0],[je(e.selection.start,e.selection.end)])},Xt=(e,t)=>{l!==t[0]&&J(e.setDecorations,t,C),q(e.setDecorations,y[l][0],[j(e.selection.start)]),q(e.setDecorations,y[l][1],[j(e.selection.end)]),q(e.setDecorations,y[l][2],[e.selection])},Bt=(e,t)=>{J(e.setDecorations,t,C),q(e.setDecorations,y[p][0],e.selections.reduce((o,n)=>(o.push(je(n.start,n.active)),o),[])),q(e.setDecorations,y[p][1],e.selections.reduce((o,n)=>(o.push(ko(n.active.line,0,n.active.line,n.active.character)),o),[]))},at=(e,t)=>o=>e(o,t),J=(e,t,o)=>{switch(t[0]){case d:y[d].forEach(at(e,o));break;case u:y[u].forEach(at(e,o));break;case l:y[l].forEach(at(e,o));break;case p:y[p].forEach(at(e,o));break;default:break}},tn=e=>{J(e.setDecorations,[d],C),J(e.setDecorations,[u],C),J(e.setDecorations,[l],C),J(e.setDecorations,[p],C)},Vi={[d]:(e,t)=>Pt(e,t),[u]:(e,t)=>Ut(e,t),[l]:(e,t)=>Xt(e,t),[p]:(e,t)=>Bt(e,t)};var on=()=>({styleOf:y,infoOf:mr});var dn=g(require("vscode"));var Ie=g(require("vscode"));var Gt=class{#e;#t;constructor(t,o){this.#e=t,this.#t=o}get(){return{section:this.#e,message:this.#t}}},Ht=class{static ignored=!1;static notified=!1;static packageName;static errorList=[];static configurationSectionList(){return this.errorList.map(t=>t.get().section)}static ifExtensionName(t){return t.indexOf(this.packageName)!==-1&&t.split(".").length>2?t.replace(this.packageName+".",""):t}static pushErrorMessage(){return Ie.window.showErrorMessage("Please revise invalid values in configuration.","Fix Configuration","Ignore")}static userSelect(t){return function(o){return o==="Fix Configuration"?(Ie.commands.executeCommand("workbench.action.openSettings",t),!1):!0}}static fixConfiguration(){return async()=>{this.ignored=await this.pushErrorMessage().then(this.userSelect(this.configurationSectionList().join(" ")))}}static pushMessage(t){return()=>Ie.window.showInformationMessage(t)?.then(()=>{})}},E=class extends Ht{static configurationUpdated(){this.notified=!1,this.ignored=!1}static setPackageName(t){this.packageName=t}static check(){return this.errorList.length>0}static register(t,o){return this.errorList.push(new Gt(t,o))}static clear(){this.errorList.splice(0)}static notify(t=0){if(this.check()&&!this.notified&&!this.ignored){this.notified=!0,setTimeout(this.fixConfiguration(),t);return}setTimeout(this.pushMessage("Config has been updated succeefully. Configuration Reloaded... (Messaage Dismiss in 2 second.)"),t)}};var ct=g(require("vscode"));var nn=()=>{let e=z("editor");e.update("renderLineHighlight","gutter",ct.ConfigurationTarget.Global),e.update("roundedSelection",!1,ct.ConfigurationTarget.Global)};var we=e=>{if(!(!e||e==="null"||e.length===0||qe.test(e)))return e},rn=e=>e.filter(t=>t!==void 0&&t.length>0||typeof t!="string"),sn=e=>e==="null"||e.length===0?null:e;var lt=(e,t,o,n)=>{let r=n||4,i=[];for(;r--;)e>>r&1?i.push(Array.isArray(t)?t[r]:t):i.push(o);return i};var an=(e,t)=>{let o=e.match(t),n=[];if(o&&o.index!==void 0)return n=e.split(t),n[0].length===0?(delete n[0],{position:0,array:[...n]}):n[2].length===0?(delete n[2],{position:1,array:[...n]}):{position:1,array:n}},Q=(e,t=.6,o,n)=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(c=>c+c).join("")),/^[0-9A-Fa-f]{6}$/.test(e)||(e=o.replace(/^#/,""),t=n);let i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return`rgba(${i}, ${s}, ${a}, ${t})`};var cn=g(require("vscode"));var dt=e=>`0 0 0 ${e}`,Cr=e=>{if(e)return{...e,array:e.array.filter(t=>t!==void 0)}},Tt=(e,t)=>{let o={...e};return o.after={...e.after},o.after.contentText=t,o},Lr=(e,t,o,n,r,i)=>{let s=Cr(an(r.nextSearchString,n));s&&(Object.hasOwn(t,o)&&(s.array[s.position]=t[o]),i?(e.contentText?.push(...s.array),e.position[r.lastPosition+s.position]=o):s.position===0?(e.contentText?.push(s.array[0]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[1],r.lastPosition=r.lastPosition+s.position+1):s.position===1&&s.array.length===2?(e.position[r.lastPosition+s.position]=o,e.contentText?.push(...s.array)):s.position===1&&s.array.length===3&&(e.contentText?.push(s.array[0],s.array[1]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[2],r.lastPosition=r.lastPosition+s.position+1))},ln=(e,t,o,n,r)=>{let i=e.match(Bo);if(i!==null&&Object.hasOwn(n,t)){i.length>Object.keys(n[t]).length&&E.register(r+"."+t,"numbers of placeholder exceed availability");let s={nextSearchString:e,lastPosition:0};o.textOf[t].contentText=[],i.forEach((a,c)=>{let T=a.match(Go);T&&(Object.hasOwn(n[t],T[1])?Lr(o.textOf[t],o.functionOf[t],T[1],n[t][T[1]],s,c===i.length-1):E.register(r+"."+t,`Invalid placeholder '${T[1]}' is set in user configration. Load default value instead for now. Please revise the value entered.`))}),o.textOf[t].contentText=rn(o.textOf[t].contentText)}else o.textOf[t].contentText=[e]},Ae=(e,t=!0,o=void 0)=>{let n={...Ee};if(n.isWholeLine=t,n.rangeBehavior=cn.DecorationRangeBehavior.ClosedOpen,n.after={...io},o&&(n.after.contentText=o),!!e.color)return n.after.color=Q(e.color,e.colorOpacity,"#333333",.7),e.backgroundColor&&e.backgroundColor!=="null"&&e.backgroundColor.length>0?n.after.backgroundColor=Q(e.backgroundColor,e.backgroundOpacity,"#333333",.7):delete n.after.backgroundColor,e.fontWeight!=="normal"?n.after.fontWeight=e.fontWeight:delete n.after.fontWeight,e.fontStyle!=="normal"?n.after.fontStyle=e.fontStyle:delete n.after.fontStyle,delete n.after.margin,delete n.after.textDecoration,n};var z=e=>dn.workspace.getConfiguration(e),Ft={borderColor:{of:"borderOpacity",fn:(e,t,o)=>Q(e,t,o)},backgroundColor:{of:"backgroundOpacity",fn:(e,t,o)=>Q(e,t,o)}},Pe=(e,t,o,n)=>{try{let r=e.get(t,o);return r===void 0&&console.warn(`Config value for ${t} is undefined or caused an error. Using default value.`),typeof r=="string"?sn(r):r}catch(r){return n&&E.register(n+"."+t,`Failed to get config value for ${n+"."+t}:`),console.error(`Failed to get config value for ${e+"."+t}:`,r),e.inspect(t)?.defaultValue}},Ue=(e,t,o,n,r)=>{Object.entries(e).forEach(([i,s])=>{if(typeof s!="object"){let a=Pe(z(t),i,"not found",t);if(a&&r&&n&&o&&o.includes(i)){let c={contentText:[],position:{}};n.textOf[i]={...c},ln(a,i,n,r,t)}Object.hasOwn(e,i)&&a!==void 0&&(e[i]=a)}else Ue(e[i],t+"."+i,o,n)})};var Rr=e=>e,yr=(e,t)=>{let o=oo[t],n=Eo,r=z(e.name+"."+o);return Object.entries(n).reduce((i,[s,a])=>{let c=Pe(r,Rr(s),a,e.name+"."+o);if(c!=null)if(Object.hasOwn(Ft,s)){let T=Ft[s];i[s]=T.fn(c,e.generalConfigInfo[T.of],a)}else i[s]=c;return i},{})},hr=e=>(e.border=`${e.borderStyle} ${e.borderColor};`,delete e.borderStyle,delete e.borderColor,e),Nr=(e,t,o)=>{try{let n=o(e,t);if(!n||n.length===0)return;let r=n.reduce((i,s)=>{let a={...e};return a.borderWidth=s,i.push(a),i},[]).reduce((i,s,a)=>(t===l&&a!==2&&delete s.backgroundColor,i.push(Zo(hr(s))),i),[]);return r.length===0?void 0:r}catch(n){console.log("creating decoration type thrown error:",t,n);return}},br=(e,t)=>{if(Object.hasOwn(Ke,t))return Object.hasOwn(Ke[t],String(e.borderPosition))?kr(e,Ke[t][e.borderPosition]):void 0},kr=(e,t)=>{let o=[];for(let n of t){let r=lt(n,String(e.borderWidth),"0");o.push(r.join(" "))}return o},Wr=(e,t)=>{let o=t.replaceAll(" ","").split("|"),n=!1,r=!1,i=!1,s=!1,a=!1;return o.length>1&&(n=/isWholeLine/s.test(o[1]),r=/beforeCursor/s.test(o[1]),i=/afterCursor/s.test(o[1]),s=/atLineStart/s.test(o[1]),a=/selectionOnly/s.test(o[1]),e===l&&o[0]==="left"&&(n=!0)),{isWholeLine:n,borderPosition:o[0],beforeCursor:r,afterCursor:i,atLineStart:s,selectionOnly:a}},Mt=e=>{for(let t in e.generalConfigInfo)if(t==="diagnosticTextEnabled"||t==="selectionTextEnabled"){let o=Zt[t],n=z(e.name+"."+o[0]),r=Pe(n,o[1],Ot[t],e.name+"."+o[0]);e.generalConfigInfo[t]=r}else{let o=z(e.name+"."+K.general);e.generalConfigInfo[t]=Pe(o,t,Ot[t],e.name+"."+K.general)}},ye=(e,t)=>{let o=on();o.styleOf[t]&&o.styleOf[t].forEach(s=>s.dispose());let n=yr(e,t),r=Wr(t,String(n.borderPosition));o.infoOf[t]=r,n.borderPosition=r.borderPosition,n.isWholeLine=r.isWholeLine;let i=Nr(n,t,br);if(!i)return!1;o.styleOf[t]=i,delete o.styleOf,delete o.infoOf},Tn=e=>{Mt(e);for(let t of Oe)ye(e,t);return!0};var $t=g(require("vscode"));var pn={borderOpacity:"general.borderOpacity",backgroundOpacity:"general.backgroundOpacity",statusTextEnabled:"selectionText.enabled",statusTextIconEnabled:"selectionText.iconEnabled",statusTextColor:"selectionText.color",statusTextBackgroundColor:"selectionText.backgroundColor",statusTextOpacity:"selectionText.opacity",statusTextFontStyle:"selectionText.fontStyle",statusTextFontWeight:"selectionText.fontWeight",cursorOnlyBorderColor:"cursorOnly.borderColor",cursorOnlyBackgroundColor:"cursorOnly.backgroundColor",cursorOnlyBorderPosition:"cursorOnly.borderPosition",cursorOnlyBorderWidth:"cursorOnly.borderWidth",cursorOnlyBorderStyle:"cursorOnly.borderStyle",cursorOnlyBorderStyleWithafterCursor:"cursorOnly.borderStyleWithafterCursor",singleLineBorderColor:"singleLine.borderColor",singleLineBackgroundColor:"singleLine.backgroundColor",singleLine:"singleLine.borderPosition",singleLineBorderWidth:"singleLine.borderWidth",singleLineBorderStyle:"singleLine.borderStyle",multiLineBorderColor:"multiLine.borderColor",multiLineBackgroundColor:"multiLine.backgroundColor",multiLineBorderPosition:"multiLine.borderPosition",multiLineBorderWidth:"multiLine.borderWidth",multiLineBorderStyle:"multiLine.borderStyle",multiCursorBorderColor:"multiCursor.borderColor",multiCursorBackgroundColor:"multiCursor.backgroundColor",multiCursorBorderPosition:"multiCursor.borderPosition",multiCursorBorderWidth:"multiCursor.borderWidth",multiCursorBorderStyle:"multiCursor.borderStyle"},Sr=(e,t,o)=>e.update(t,o,$t.ConfigurationTarget.Global),vr=(e,t)=>e.update(t,void 0,$t.ConfigurationTarget.Global),un=async e=>{let t=z(e.name);Object.entries(t).forEach(async([o,n])=>{if((typeof n=="string"||typeof n=="number"||typeof n=="boolean")&&Object.hasOwn(pn,o)){let r=pn[o];await Sr(t,r,n),await vr(t,o)}})};var Dr=(e,t)=>e.contentText.map((o,n)=>{let r=typeof o=="string"?t.placeholderDecorationOption:t.selectionDecorationOption[e.position[n]],i=Tt(r,o);return typeof o=="symbol"&&(e.position[n]=i.after.contentText),i}).filter(o=>o!==void 0),Ir=(e,t)=>{t.placeholderDecorationOption=Ae(e,!0),Object.keys(t.selectionDecorationOption).forEach((o,n)=>{let r={color:e.selectionCountTextStyle[o],colorOpacity:e.selectionCountTextStyle.opacity,fontStyle:e.selectionCountTextStyle.fontStyle,fontWeight:e.selectionCountTextStyle.fontWeight};t.selectionDecorationOption[o]=Ae(r,!0)})},wr=(e,t,o,n)=>{Object.entries(t).forEach(([r,i],s)=>{let a=Dr(i,o),c=eo[r];e[c]={contentText:a,position:Object.entries(i.position)},(n&&n!=="0px"||n!=="0em")&&e[c].contentText[0]&&(e[c].contentText[0].after.margin=dt(n)),Yo(c,e[c].contentText.length)})},Xe=(e,t=!1)=>{let o={...to},n={...ro},r=Qe(),i={functionOf:r.functionOf,textOf:{}};return Ue(o,e.name+"."+K.selectionText,no,i,Po),Ir(o,n),wr(r.textOf,i.textOf,n,o.leftMargin),delete r.functionOf,delete r.infoOf,delete r.textOf,delete i.textOf,delete i.functionOf,!0};var H=g(require("vscode"));var Ar=["pre","post"],Pr={pre:"prefix",post:"postfix"},Ur=(e,t,o)=>{!o||o==="0px"||o==="0em"||Object.entries(e).forEach(([n,r],i)=>{e[n][0].after.margin=dt(o)})},Xr=({textPosition:e,primaryStyle:t,secondaryStyle:o,notation:n,leftMargin:r})=>e.contentText.map((i,s)=>{let a=e.position[s],c=t;if(Ar.includes(a)){if(!Object.hasOwn(n,Pr[a]))return;c=o}return Tt(c,i)}).filter(i=>i!==void 0),Br=(e,t,o,n,r="")=>{let i=(a,c,T,_)=>{if(Object.hasOwn(c[T],_)){c[T][_].notation&&(a.notation=c[T][_].notation);let f=Xr(a);c[T][_].contentText=f}};Object.entries(o).forEach(([a,c])=>{let T=po[a],_={textPosition:c,primaryStyle:n.diagonosticDecorationOption[T[0]],secondaryStyle:T[1]?n.diagonosticDecorationOption[T[1]]:null,notation:[],leftMargin:r};["workspace","editor","all","layout"].forEach(f=>{i(_,e,f,uo[a])})});let s=a=>a.contentText.map(c=>(c.after.contentText===Ze&&(c.after.contentText=a.notation.prefix?a.notation.prefix:void 0),c.after.contentText===et&&(c.after.contentText=a.notation.postfix?a.notation.postfix:void 0),c)).filter(c=>c.after.contentText!==void 0);console.log(o),e.layout[Z].contentText.forEach(a=>{if(a.after.contentText===Me){let c=s(e.all[be]);x(O,c.map(T=>H.window.createTextEditorDecorationType(T))),t[O].push(...c)}else x(O,[H.window.createTextEditorDecorationType(a)]),t[O].push(a)}),e.layout[ee].contentText.forEach(a=>{if(a.after.contentText===$e){let T=s(e.editor[te]),_=s(e.editor[oe]),f=s(e.editor[ne]);t[S].push(...T),t[v].push(...T),t[D].push(...T),t[I].push(...T),t[w].push(..._),t[A].push(..._),t[P].push(..._),t[U].push(...f),t[X].push(...f),t[B].push(..._,...f);let pe=T.map(b=>H.window.createTextEditorDecorationType(b)),h=_.map(b=>H.window.createTextEditorDecorationType(b)),N=f.map(b=>H.window.createTextEditorDecorationType(b));x(S,pe),x(v,pe),x(D,pe),x(I,pe),x(w,h),x(A,h),x(P,h),x(U,N),x(X,N),x(B,[...h,...N]);return}if(a.after.contentText===Ye){let T=s(e.workspace[re]),_=s(e.workspace[ie]),f=s(e.workspace[se]);t[S].push(...T),t[v].push(..._),t[D].push(...f),t[I].push(..._,...f),t[w].push(..._),t[A].push(...f),t[P].push(..._,...f),t[U].push(...f),t[X].push(..._,...f),t[B].push(..._,...f);let pe=T.map(b=>H.window.createTextEditorDecorationType(b)),h=_.map(b=>H.window.createTextEditorDecorationType(b)),N=f.map(b=>H.window.createTextEditorDecorationType(b));x(S,pe),x(v,h),x(D,N),x(I,[...h,...N]),x(w,h),x(A,N),x(P,[...h,...N]),x(U,N),x(X,[...h,...N]),x(B,[...h,...N]);return}let c=H.window.createTextEditorDecorationType(a);mt.forEach(T=>{t[T].push(a),x(T,[c])})})},xn=(e,t)=>t!=="null"&&t.length>0&&!qe.test(t)?{[e]:t}:{},Gr=(e,t,o)=>({[e]:{...To,notation:{...xn("prefix",t),...xn("postfix",o)}}}),Yt=(e,t,o,n)=>{let r=o+"Prefix",i=o+"Postfix";if(e[t][r]!==void 0&&e[t][i]!==void 0)return Gr(n[t],e[t][r],e[t][i])},Hr=(e,t)=>{let o={},n={},r={1:{styleName:"okNotationTextStyle",target:[n,o]},2:{styleName:"warningNotationTextStyle",target:[n]},4:{styleName:"errorNotationTextStyle",target:[n]}};return Object.entries(r).forEach(([i,s])=>{t&Number(i)&&e[s.styleName]&&s.target.forEach(a=>{a[i]={color:Q(e[s.styleName].color,e[s.styleName].colorOpacity,"#333333",.7)}})}),{[ee]:{override:Object.keys(n).length>0?n:void 0},[Z]:{override:Object.keys(o).length>0?o:void 0}}},Fr=(e,t,o,n,r)=>{let i={workspace:{},editor:{},all:{},layout:{[ee]:{},[Z]:{}}};e.leftMargin&&(t.leftMargin=e.leftMargin),o.forEach(c=>{let T={color:we(e[c].color),colorOpacity:e[c].colorOpacity,backgroundColor:we(e[c].backgroundColor),backgroundOpacity:e[c].backgroundOpacity,fontStyle:we(e[c].fontStyle),fontWeight:we(e[c].fontWeight)};t.diagonosticDecorationOption[c]=Ae(T,!0),i.workspace={...i.workspace,...Yt(e,c,"workspace",co)},i.editor={...i.editor,...Yt(e,c,"editor",ao)},i.all={...i.all,...Yt(e,c,"all",lo)}});let s=r.workspace|r.editor,a=n.overrideLayoutPlaceholderColorToHighestSeverity?Hr(e,s):void 0;return{...i,layout:{[ee]:{},[Z]:{},...a}}},_n=(e=!1,t=!1)=>{let o=7;return o^=e?1:0,o^=t?2:0,o},Mr=e=>{let t=7,o=7;return e.DiagnosticKind==="workspace Only"&&(o=0,t&=_n(e.hideOk,e.hideWarning)),e.DiagnosticKind==="editor Only"&&(t=0,o&=_n(e.hideOk,e.hideWarning)),{workspace:t,editor:o}},$r=(()=>{let e=[...xo];return e.reverse().push(["0","0"]),e})(),Yr=e=>[...lt(e,$r,0,4).filter(t=>t!==0).flat(),"diagnosticPlaceholderTextStyle"],Kr=e=>{let t=e.textOf;for(let o in t.layout)o.override&&delete o.override},jr=(e,t)=>{e[ue]=t.openningBracket,e[xe]=t.closingBracket,e[_e]=t.lineEqual,e[fe]=t.lineUp,e[ge]=t.lineDown},Vr=(e,t)=>{if(t.placeTextOnPreviousOrNextLine==="previousLine"){e.rangeFunction=Wo;return}if(t.placeTextOnPreviousOrNextLine==="nextLine"){e.rangeFunction=So;return}e.rangeFunction=Ve},Be=(e,t=!1)=>{let o={...so},n={...go},r={layout:{},editor:{},workspace:{},all:{}},i=rt(),s={functionOf:i.functionOf,textOf:{}};t&&(Kr(i),qo()),Ue(o,e.name+"."+K.diagnosticText,_o,s,Ao);let a=Mr(o.visibility),c=Yr(a.workspace|a.editor);return Object.assign(r,Fr(o,n,c,o.visibility,a)),Object.assign(i.configOf,o.visibility),Br(r,i.textOf.contentText,s.textOf,n,o.leftMargin),Ur(i.textOf.contentText,o.visibility,o.leftMargin),jr(i.textOf.glyphList,o.glyphList),Vr(i.functionOf,o.visibility),Vo(o.visibility.overrideAllOk?O:S),delete s.textof,delete s.functionOf,delete i.visibilityOf,delete i.functionOf,delete i.textOf.contentText,delete i.textOf.glyphList,delete i.textof,delete i.configOf,!0};var Kt={...Qt},fn=e=>{let t=e?.extension.packageJSON.name;if(!t||(Kt.name=t,!Kt.name))return;let o=Kt,n=en().stateOf;if(o.configError||(o.configError=[],un(o)),nn(),Tn(o))return o.generalConfigInfo.selectionTextEnabled&&Xe(o),o.generalConfigInfo.diagnosticTextEnabled&&Be(o),{config:o,decoration:n}};var Te=g(require("vscode"));var gn=({decorationState:e})=>Te.window.onDidChangeWindowState(t=>{t.focused?Te.window.activeTextEditor&&(e.appliedHighlight[0]=Re(Te.window.activeTextEditor,[d])):Le(),!t.focused&&!t.active&&(Le(),console.log("idling"))}),En=({configInfo:e,decorationState:t})=>Te.window.onDidChangeActiveTextEditor(async o=>{o&&(E.check()&&E.notify(1500),Le(),e.generalConfigInfo.diagnosticTextEnabled&&(await kt(),await ot(o.document.uri)),At(o),t.appliedHighlight[0]=Re(o,[d]))}),On=e=>Te.window.onDidChangeTextEditorOptions(t=>{t.textEditor&&At(t.textEditor)}),mn=({decorationState:e})=>Te.window.onDidChangeTextEditorSelection(t=>{e.appliedHighlight[0]=Re(t.textEditor,e.appliedHighlight)});var Cn=g(require("vscode"));var Ln=({configInfo:e,decorationState:t})=>Cn.workspace.onDidChangeConfiguration(o=>{if(o){let n=Object.keys(K).find(r=>o.affectsConfiguration(e.name+"."+r));if(n){E.configurationUpdated();try{let r={general:()=>Mt(e),cursorOnly:()=>ye(e,d),singleLine:()=>ye(e,u),multiLine:()=>ye(e,l),multiCursor:()=>ye(e,p),selectionText:()=>{Be(e,!0),Xe(e,!0)},diagnosticText:()=>{Xe(e,!0),Be(e,!0)}};r[n](),r.general()}catch(r){console.log("confugration update failed. Will notify user.",r)}finally{st(e),it(t),Le()}}}});var pt=g(require("vscode"));var Rn=({decorationState:e})=>pt.languages.onDidChangeDiagnostics(async t=>{let o=pt.window.activeTextEditor;o&&t&&nt(e)(o)});var yn=async e=>{try{await e.extension.activate(),E.setPackageName(e.extension.packageJSON.name);let t=await fn(e);if(!t){console.error("Failed to initialize config.");return}let o=t.config,n=jt.window.activeTextEditor,r={configInfo:o,decorationState:t.decoration};return st(o),n&&(it(t.decoration),t.decoration.appliedHighlight[0]=Re(n,[d])),[gn(r),En(r),mn(r),On(r),Rn(r),Ln(r)]}catch(t){console.error("Error during extension initialization: ",t),jt.window.showErrorMessage("Extension initialization failed!",t)}};function Zr(e){yn(e).then(t=>{t&&e.subscriptions.push(...t)})}function ei(){}0&&(module.exports={activate,deactivate});
