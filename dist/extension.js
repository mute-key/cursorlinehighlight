"use strict";var Us=Object.create;var Ct=Object.defineProperty;var Xs=Object.getOwnPropertyDescriptor;var js=Object.getOwnPropertyNames;var Ys=Object.getPrototypeOf,Vs=Object.prototype.hasOwnProperty;var $s=(e,t)=>{for(var n in t)Ct(e,n,{get:t[n],enumerable:!0})},ro=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of js(t))!Vs.call(e,r)&&r!==n&&Ct(e,r,{get:()=>t[r],enumerable:!(o=Xs(t,r))||o.enumerable});return e};var h=(e,t,n)=>(n=e!=null?Us(Ys(e)):{},ro(t||!e||!e.__esModule?Ct(n,"default",{value:e,enumerable:!0}):n,e)),zs=e=>ro(Ct({},"__esModule",{value:!0}),e);var Ya={};$s(Ya,{activate:()=>Xa,deactivate:()=>ja});module.exports=zs(Ya);var oo=h(require("vscode"));var et=h(require("vscode"));var Ze=256,u=257,f=258,d=259,p=260;var C=513,O=514,S=515,w=516,_=517,T=518,E=519;var io=544,so=545,co=546;var ao=560,lo=561,uo=562,xo=563,fo=564,po=565,To=566;var cn=769,an=770,ln=771;var q=777,J=778,Qe=776,Z=779,Q=780,ee=781,te=782,ne=783,oe=784;var Ot=790,ht=791,Dt=792;var pe=793,Te=794,Ee=795,me=796,ge=797,Lt=1560,Rt=1562,Nt=2350,bt=2348,yt=2352,St=2350;var Eo=4097,Ce=4098,mo=4099;var go=4353;var I={general:"general",cursorOnly:"cursorOnly",singleLine:"singleLine",multiLine:"multiLine",multiCursor:"multiCursor",selectionText:"selectionText",diagnosticText:"diagnosticText"},Co={name:void 0,renderLimiter:void 0,updateCaller:void 0,generalConfigInfo:{borderOpacity:void 0,backgroundOpacity:void 0,selectionTextEnabled:void 0,diagnosticTextEnabled:void 0},configError:void 0},Oo={selectionTextEnabled:["selectionText","enabled"],diagnosticTextEnabled:["diagnosticText","enabled"]},ho={cursorOnlyText:C,singleLineText:O,multiLineCursorText:w,multiLineAnchorText:_,multiCursorText:T,multiCursorEdit:E},Do={enabled:void 0,color:void 0,colorOpacity:void 0,backgroundColor:void 0,backgroundOpacity:void 0,fontStyle:void 0,fontWeight:void 0,leftMargin:void 0,cursorOnlyText:void 0,singleLineText:void 0,multiLineCursorText:void 0,multiLineAnchorText:void 0,multiCursorText:void 0,multiCursorEdit:void 0,selectionCountTextStyle:{ln:void 0,col:void 0,zCol:void 0,char:void 0,charOnly:void 0,lc:void 0,nth:void 0,count:void 0,opacity:void 0,fontStyle:void 0,fontWeight:void 0}},Lo={[u]:"cursorOnly",[f]:"singleLine",[d]:"multiLine",[p]:"multiCursor"},Ro=["cursorOnlyText","singleLineText","multiLineCursorText","multiLineAnchorText","multiCursorText","multiCursorEdit"],No={leftMargin:void 0,placeholderDecorationOption:{},selectionDecorationOption:{ln:void 0,col:void 0,zCol:void 0,char:void 0,charOnly:void 0,lc:void 0,nth:void 0,count:void 0}},Oe={isWholeLine:void 0,rangeBehavior:void 0,after:{}},bo={contentText:void 0,color:void 0,backgroundColor:void 0,fontWeight:void 0,fontStyle:void 0,textDecoration:void 0,margin:void 0},rl={[Ze]:{KEY:Ze,MASK:15},[u]:{KEY:u,MASK:1},[f]:{KEY:f,MASK:2},[d]:{KEY:d,MASK:4},[p]:{KEY:p,MASK:8}},dn={DiagnosticKind:void 0,placeTextOnPreviousOrNextLine:void 0,overlayCursorPosition:void 0,overrideLayoutPlaceholderColorToHighestSeverity:void 0,overrideAllOk:void 0,autoInlineDatumPoint:void 0},Qs={openningBracket:void 0,closingBracket:void 0,lineEqual:void 0,lineUp:void 0,lineDown:void 0},yo={enabled:void 0,leftMargin:void 0,visibility:dn,glyphList:Qs,problemPlaceholderContentText:void 0,allOkPlaceholderContentText:void 0,allOkContentText:void 0,diagnosticPlaceholderTextStyle:void 0,okNotationTextStyle:void 0,okTextStyle:void 0,okWorkspaceContentText:void 0,okEditorContentText:void 0,warningNotationTextStyle:void 0,warningTextStyle:void 0,warningWorkspaceContentText:void 0,warningEditorContentText:void 0,errorNotationTextStyle:void 0,errorTextStyle:void 0,errorWorkspaceContentText:void 0,errorEditorContentText:void 0},So={okNotationTextStyle:Z,warningNotationTextStyle:Q,errorNotationTextStyle:ee},_o={okNotationTextStyle:te,warningNotationTextStyle:ne,errorNotationTextStyle:oe},Io={okNotationTextStyle:Qe},vo={contentText:void 0,notation:void 0},ko={allOkPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],allOkContentText:["okTextStyle","okNotationTextStyle"],problemPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],okEditorContentText:["okTextStyle","okNotationTextStyle"],warningEditorContentText:["warningTextStyle","warningNotationTextStyle"],errorEditorContentText:["errorTextStyle","errorNotationTextStyle"],okWorkspaceContentText:["okTextStyle","okNotationTextStyle"],warningWorkspaceContentText:["warningTextStyle","warningNotationTextStyle"],errorWorkspaceContentText:["errorTextStyle","errorNotationTextStyle"]},Wo={problemPlaceholderContentText:J,allOkPlaceholderContentText:q,allOkContentText:Qe,okEditorContentText:Z,warningEditorContentText:Q,errorEditorContentText:ee,okWorkspaceContentText:te,warningWorkspaceContentText:ne,errorWorkspaceContentText:oe},Ao=[["okNotationTextStyle","okTextStyle"],["warningNotationTextStyle","warningTextStyle"],["errorNotationTextStyle","errorTextStyle"]],wo=["problemPlaceholderContentText","allOkPlaceholderContentText","okWorkspaceContentText","okEditorContentText","allOkContentText","warningWorkspaceContentText","warningEditorContentText","errorWorkspaceContentText","errorEditorContentText"],Po={[et.DiagnosticSeverity.Warning]:"warning",[et.DiagnosticSeverity.Error]:"error",[et.DiagnosticSeverity.Information]:void 0,[et.DiagnosticSeverity.Hint]:void 0},Bo={leftMargin:void 0,diagnosticDecorationOption:{diagnosticPlaceholderTextStyle:void 0,okTextStyle:void 0,okNotationTextStyle:void 0,warningTextStyle:void 0,warningNotationTextStyle:void 0,errorTextStyle:void 0,errorNotationTextStyle:void 0}},un={none:[0],bottom:[2,0],"top-bottom":[10],"top-right-bottom-left":[15,0],left:[1]},ec={none:[0,0,0],"top-bottom":[8,2,0],left:[1,1,1]},_t={[u]:un,[f]:un,[d]:ec,[p]:un},Ho={isWholeLine:!1,borderWidth:"2px",borderStyle:"dotted",borderColor:"#ff0000",borderPosition:"bottom",backgroundColor:"#ff0000"},xn={borderOpacity:1,backgroundOpacity:.5,selectionTextEnabled:!1},il={selectionTextColor:"#FF0000",selectionTextOpacity:1,selectionTextBackgroundColor:null,selectionTextFontStyle:"normal",selectionTextFontWeight:"bold"};var It=578,fn=577,pn=580,vt=579,Tn=581,tt=583;var G=1,En=2884896,mn=2883872,U=2884608,kt=65,gn=17,he=33,X=129;var Wt=1,Cn=1,On=2;var Ko=5,Fo=1,Mo=12,Go=8,Uo=10,Xo=14,jo=18,Yo=2,Vo=20,$o=0,zo=1,qo=2,Jo=3,Zo=32,Qo=33;var H=37,re=38,De=42,Le=50,Re=58,Ne=74,be=82,ye=90,Se=146,_e=154,Ie=218;var er={size:void 0,type:void 0,regex:void 0},tr={appliedHighlight:[0],eventTrigger:[0],diagnosticSignature:[0],previousLine:[0]},ke=[u,f,d,p],nr={[Ze]:[],[u]:[],[f]:[],[d]:[],[p]:[]},or={[u]:void 0,[f]:void 0,[d]:void 0,[p]:void 0},rr={override:0,severity:0,editor:{warning:{line:[],total:0},error:{line:[],total:0}},workspace:{warning:{source:0,total:0},error:{source:0,total:0}}},ir={[C]:void 0,[O]:void 0,[w]:void 0,[_]:void 0,[T]:void 0,[E]:void 0},sr={[H]:[],[re]:[],[De]:[],[Le]:[],[Re]:[],[Ne]:[],[be]:[],[ye]:[],[Se]:[],[_e]:[],[Ie]:[]},hn=[re,De,Le,Re,Ne,be,ye,Se,_e,Ie],cr={[pe]:void 0,[Te]:void 0,[Ee]:void 0,[me]:void 0,[ge]:void 0},Dn=[H,...hn],cl={[cn]:Z,[an]:Q,[ln]:ee},al={[cn]:te,[an]:ne,[ln]:oe};var j=h(require("vscode"));var We={diagnosticLineDelta:1,autoInlineDatumPoint:0,datumPointOfEditor:0},ar=e=>We.autoInlineDatumPoint=e,Ae=e=>{let t=e.document.lineCount,n=[];for(;t--;)n.push(e.document.lineAt(t).range.end.character);We.datumPointOfEditor=Math.ceil(Math.max(...n)*(We.autoInlineDatumPoint/100))},lr=(e,t)=>{let n=e.document.lineAt(e.selection.end.line+t).range.end.character,o=e.document.lineAt(e.selection.end.line).range.end.character;return n>o&&n>We.datumPointOfEditor},At=(e,t)=>e.selection.end.line+t===e.document.lineCount,ur=e=>e[e.length-1].end.line;var dr=(e,t)=>new j.Range(e,t);var wt=e=>{let t=new j.Position(e.selection.end.line,e.selection.end.character);return new j.Range(t,t)},xr=e=>t=>t.document.lineAt(t.selection.end.line+(At(t,e)?0:We.diagnosticLineDelta)).range,fr=e=>t=>t.document.lineAt(t.selection.end.line+(At(t,e)||lr(t,e)?0:1)).range,pr=e=>t=>t.document.lineAt(ur(t.selections)+(At(t,e)?0:We.diagnosticLineDelta)).range,Tr=e=>t=>t.document.lineAt(ur(t.selections)+(At(t,e)||lr(t,e)?0:1)).range,ie=e=>new j.Range(e,e),Er=e=>new j.Selection(e,e);var v=[];var jn=h(require("vscode"));var mr=/(\${pre})/s,gr=/(\${post})/s,Cr=/(\${src})/s,Or=/(\${wrn})/s,hr=/(\${err})/s,Dr=/(\${editor})/s,Lr=/(\${workspace})/s,Rr=/(\${allok})/s,Nr=/(\${col})/s,br=/(\${zCol})/s,yr=/(\${lc})/s;var Sr=/(\${ln})/s,_r=/(\${char})/s,Ir=/(\${charOnly})/s,vr=/(\${nth})/s,kr=/(\${count})/s,Wr=e=>new RegExp(`^( {${e}}|[\r
]+)*`,"gm"),Pt=/^[%\.].*[%\.]$/s,Ar=/(\t|[\r\n]+)*$/gm;var wr=/(\${[A-z]*})/g,Pr=/\${([^{}]+)}/s;var Gt=h(require("vscode"));var Bt=Symbol("prefix"),Ht=Symbol("postfix");var Ft=h(require("vscode"));var N={...rr},Ln=()=>{N.editor.warning.line.splice(0),N.editor.warning.total=0,N.editor.error.line.splice(0),N.editor.error.total=0},Rn=()=>{N.workspace.warning.source=0,N.workspace.warning.total=0,N.workspace.error.source=0,N.workspace.error.total=0},nc=(e,t,n,o=void 0)=>{Object.keys(t).forEach(r=>{n===o&&(e.editor[r].line=[...new Set([...e.editor[r].line,...t[r].map(i=>i.range.start.line)])],e.editor[r].total=0,e.editor[r].total=t[r].length),t[r].length>0&&(e.workspace[r].source+=1,e.workspace[r].total+=t[r].length)})},oc=(e,t,n)=>{for(let o of t)if(o.severity<=Ft.DiagnosticSeverity.Warning){typeof e[n.fsPath]!="object"&&(e[n.fsPath]={});let r=Po[o.severity];Array.isArray(e[n.fsPath][r])||(e[n.fsPath][r]=[]),e[n.fsPath][r].push(o)}},rc=e=>{let t=e.editor.error.total!==0||e.editor.warning.total!==0,n=e.workspace.error.total!==0||e.workspace.warning.total!==0;if(!t&&!n)return 1;let o=e.editor.warning.total<=e.editor.error.total&&t?4:2,r=e.workspace.warning.total<=e.workspace.error.total&&n?4:2;return Math.max(o,r)},ic=e=>[e.override,e.severity,[...e.editor.warning.line],e.editor.warning.total,[...e.editor.error.line],e.editor.error.total,e.workspace.warning.source,e.workspace.warning.total,e.workspace.error.source,e.workspace.error.total],Kt={},Hr=e=>{N.override=e},Kr=(e=void 0)=>{for(let n in Kt)delete Kt[n];Rn(),Ln();let t=Ft.languages.getDiagnostics();for(let[n,o]of t)oc(Kt,o,n);for(let[n,o]of Object.entries(Kt))nc(N,o,n,e?.fsPath);return N.severity=rc(N),ic(N)};var Be={...sr},Pe={...cr},nt=[],m=(e,t)=>{t.forEach(n=>{typeof n.after.contentText=="number"&&Object.hasOwn(ot,n.after.contentText)&&(ot[n.after.contentText]=n.after,zr.push(n.after.contentText)),Be[e].push([{get range(){return ot.rangeReference},renderOptions:n}])})},ot={rangeReference:void 0,[Lt]:void 0,[Rt]:void 0,[Nt]:void 0,[bt]:void 0,[yt]:void 0,[St]:void 0},Xr=()=>{let e=[];Dn.forEach(o=>{e.push([o,Be[o].length])}),Nn.isWholeLine=!0,Nn.rangeBehavior=Gt.DecorationRangeBehavior.ClosedClosed;let t=Math.max(...e.map(o=>o[1])),n=t;for(nt?.forEach(o=>o.dispose()),nt?.splice(0);n--;)nt.push(Gt.window.createTextEditorDecorationType(Nn));e.forEach(o=>{let r=t-o[1];for(;r--;)Be[o[0]].push([])})},jr=()=>{for(let e of Dn)Be[e]=[]},sc={...dn},Fr=(e,t)=>{let n=[],o=e.length,r=!1,i=!1,s=!1;for(;o--;){if(e[o]>t&&!i)i=!0;else if(e[o]<t&&!r)r=!0;else if(e[o]===t&&!s){s=!0,i=!1,r=!1;break}if(i&&r)break}return n.push(Pe[pe],s?Pe[Ee]:"",r?Pe[me]:"",i?Pe[ge]:"",Pe[Te]),n.join("")},cc={allok:Ot},ac={editor:ht,workspace:Dt},se={pre:Bt,post:Ht},Yr={rangeFunction:wt,problemPlaceholderContentText:ac,allOkPlaceholderContentText:cc,allOkContentText:se,okWorkspaceContentText:se,okEditorContentText:se,warningEditorContentText:{...se,wrn:Lt},errorEditorContentText:{...se,err:Rt},errorWorkspaceContentText:{...se,src:yt,err:St},warningWorkspaceContentText:{...se,src:Nt,wrn:bt}},lc={allok:Rr},uc={editor:Dr,workspace:Lr},ce={pre:mr,post:gr},Mr={wrn:Or},Gr={src:Cr},Ur={err:hr},Vr={problemPlaceholderContentText:uc,allOkPlaceholderContentText:lc,allOkContentText:ce,okWorkspaceContentText:ce,okEditorContentText:ce,warningWorkspaceContentText:{...ce,...Gr,...Mr},warningEditorContentText:{...ce,...Mr},errorWorkspaceContentText:{...ce,...Gr,...Ur},errorEditorContentText:{...ce,...Ur}},Nn={...Oe},Mt=[0,0,[],0,[],0,0,0,0,0],$r=e=>{Mt[0]=e},dc=e=>{let t=(e[3]?2:0)|(e[5]?4:0),n=(e[7]?2:0)|(e[9]?4:0);return t===0&&n===0?e[0]:(t?t<<5:32)|(n?n<<2:4)|2},xc=e=>{let t=e.length;for(;t--;)Mt[t]=e[t]},fc={[Lt]:({state:e,line:t})=>String(e[3])+Fr(e[2],t),[Rt]:({state:e,line:t})=>String(e[5])+Fr(e[4],t),[Nt]:({state:e})=>String(e[6]),[bt]:({state:e})=>String(e[7]),[yt]:({state:e})=>String(e[8]),[St]:({state:e})=>String(e[9])},zr=[],pc=e=>t=>{ot[t].contentText=fc[t](e)},Tc=e=>(t,n)=>{e(nt[n],t)},bn={line:0,state:Object.create(null)},rt=e=>t=>{e.eventTrigger[0]===Ce&&xc(Kr(t.document.uri)),bn.line=t.selection.end.line,bn.state=Mt,zr.forEach(pc(bn)),ot.rangeReference=Yr.rangeFunction(t),Be[dc(Mt)].forEach(Tc(t.setDecorations))},qr=e=>{nt.forEach(ae(e))},Jr=()=>({functionOf:Yr,textOf:{contentText:Be,glyphList:Pe},configOf:sc});var lt=h(require("vscode"));var Ec=e=>Er(e.end),mc=(e,t)=>e.end.line-t.end.line,gc=(e,t,n)=>t===0||n[t-1]<=e,Cc=e=>e.isEmpty,Oc=e=>e.selections=[...e.selections].sort(mc),hc=e=>e.selections=e.selections.map(Ec),Dc=e=>e.find(Cc)!==void 0,Zr=e=>e.selections.every(gc)?(ei(e,Oc),!0):!1,Qr=e=>Dc(e.selections)?(ei(e,hc),!0):!1,ei=async(e,t)=>await t(e);var Lc=e=>t=>t+e[0],He="contentText",yn="range",Rc={get contentText(){return this.indexList.map(Lc(this.baseIndex)).join(",")}},Nc=(e,t,n,o)=>e.map(r=>t(n,r,o)).join(", "),bc={get contentText(){let{columnList:e,columnFunc:t,editor:n,detla:o}=this;return Nc(e,t,n,o)}},yc={get range(){return this.selectionBuffer[this.selectionBufferIndex]}},ti=Object.getOwnPropertyDescriptor(Rc,He),ni=Object.getOwnPropertyDescriptor(bc,He),oi=Object.getOwnPropertyDescriptor(yc,yn),Ke=(e,t,n)=>{Object.defineProperty(e,t,n)},Sn=(e,t,n)=>{let o={...e};return o.after={...e.after,baseIndex:n.baseIndex,indexList:[t.cursorIndex]},Ke(o.after,He,ti),n.baseIndex=o.after.baseIndex,n.indexList=o.after.indexList,Array.isArray(n.indexList)?t.overlay.indexListRefBuffer.push(...n.indexList):t.overlay.indexListRefBuffer.push(n.indexList),o},_n=(e,t,n)=>{let o={...e};return o.after={...e.after,editor:n.lineFn.editor,columnList:[t.selectionBuffer.length-1]},n.columnList=o.after.columnList,Ke(o.after,He,ni),o},In=(e,t)=>{e.after.baseIndex=[0],e.after.indexList=[],t.baseIndex=e.after.baseIndex,t.indexList=e.after.indexList,Ke(e.after,He,ti)},vn=(e,t,n=0,o)=>{e.after.delta=n,e.after.columnFunc=t,e.after.columnList=[],o.columnList=e.after.columnList,Ke(e.after,He,ni)};var ci=(e,t)=>n=>{switch(n.sign&Cn){case Cn:return kn[n.sign](n.body,e,t);case 0:switch(n.sign&On){case On:let o=kn[n.sign];return o(n.body,e);case 0:let r=kn[n.sign];return r(n.body,t);default:return null}default:return null}},Y={sign:tt,body:(e,t)=>{let n=e.calibration;for(;n--;)e.baseIndexRefBuffer[n][0]+=1}},Me={sign:Tn,body:(e,t)=>{e.baseIndexRefBuffer.push(t)}},Fe={sign:vt,body:(e=0,t)=>{t.push(e+1)}},ri={sign:vt,body:(e=0,t)=>{console.log(t),t.unshift(t[0]-1)}};var ai={sign:tt,body:(e,t)=>{e.calibration++}},Wn={sign:pn,body:e=>{e.baseIndex=[0]}},An={sign:It,body:e=>{e.cursorIndex=0}},wn={sign:It,body:e=>{e.baseLine=e.currentLine}},ii={sign:fn,body:(e,t)=>{t.indexList=e.overlay.indexListRefBuffer[e.duplicateOverlayIndex]}},li={[Ko]:[Fe],[Fo]:[Y,Me,Fe],[Mo]:[Me,Fe],[Go]:[Fe],[Uo]:[Y,Fe],[Xo]:[Y,Fe],[jo]:[ii,ri,Y],[Yo]:[],[Vo]:[ai,Y,Wn,Me,An,wn,ii,ri]},si={sign:tt,body:(e,t)=>{t.baseIndex=[e.calibration]}},ui={[$o]:[],[zo]:[ai,Y,Wn,Me,An,wn],[qo]:[Y],[Jo]:[Wn,Y,An,wn],[Zo]:[si,Me],[Qo]:[si,Me]},Sc=(e,t)=>e(t),_c=(e,t)=>e(t),Ic=(e,t,n)=>e(t,n),vc=(e,t,n)=>e(t.overlay,n),kc=(e,t,n)=>e(t.cursorIndex,n.indexList),Wc=(e,t,n)=>e(t.overlay,n.baseIndex),kn={[It]:Sc,[pn]:_c,[fn]:Ic,[tt]:vc,[vt]:kc,[Tn]:Wc};var Ac=(e=-1,t,n,o,r,i)=>(o<n?1:0)+(t>0?2:0)+(o===n?4:0)+(o===r?8:0)+(i>e+1?16:0),wc=(e,t,n,o)=>(n<t?1:0)+(o>0?2:0)+(e===1&&o===0?32:0),di=(e,t)=>(n,o)=>{let r=n,i=t.positionList.get(o);i!==void 0&&(r=i(n,e,t));let s={selectionBufferIndex:e.selectionBuffer.length-1,selectionBuffer:e.selectionBuffer,renderOptions:r};Ke(s,yn,oi),t.renderOption[o].push(s)},xi=(e,t)=>{e.duplicateOverlayIndex=e.lineBuffer.get(e.currentLine);let n=ci(e,t);if(e.duplicateOverlayIndex!==void 0){let r=Ac(e.duplicateOverlayIndex,e.overlay.calibration,e.baseLine,e.currentLine,e.previousLine,e.lineBuffer.size);return li[r].forEach(n),!0}let o=wc(e.selectionBuffer.length,e.baseLine,e.currentLine,e.overlay.calibration);return ui[o].forEach(n),!1},Ut=(e,t)=>{if(xi(e,t)){Xt(e);return}e.lineBuffer.set(e.currentLine,e.overlayIndex),Xt(e),t.contentText.forEach(di(e,t))},Pn=(e,t)=>{if(xi(e,t)){Xt(e),t.columnList?.push(e.selectionBuffer.length-1);return}e.lineBuffer.set(e.currentLine,e.overlayIndex),Xt(e),t.contentText.forEach(di(e,t))},it=(e,t,n,o)=>{o.lineFn.idx=n.cursorIndex,n.currentLine=e.end.line,n.selectionBuffer.push(e),o.statusFnChain.forEach(o.accumulate),t(n,o)},Bn=(e,t,n)=>o=>{it(o,e,t,n)},jt=(e,t)=>{t.lineFn.editor.selections.forEach(Bn(Pn,e,t))},fi=(e,t)=>{t.lineFn.editor.selections.forEach(Bn(Pn,e,t))},pi=(e,t)=>{it(t.lineFn.editor.selections[e.lastCount],Pn,e,t)},Ti=(e,t)=>{t.lineFn.editor.selections.forEach(Bn(Ut,e,t))},Ei=(e,t)=>{it(t.lineFn.editor.selections[0],Ut,e,t),it(t.lineFn.editor.selections[1],Ut,e,t)},mi=(e,t)=>{it(t.lineFn.editor.selections[e.lastCount],Ut,e,t)},Xt=e=>{e.previousLine=e.currentLine,e.cursorIndex++,e.overlayIndex++};var le=(e,t)=>{e.baseLine=t.lineFn.editor.selection.end.line,e.cursorIndex=0};var st=(e,t)=>{Zr(t.lineFn.editor)&&(e.baseLine=t.lineFn.editor.selection.end.line,e.currentLine=t.lineFn.editor.selections[t.lineFn.editor.selections.length-1].end.line)},Yt=(e,t)=>{Qr(t.lineFn.editor)};var $={...ir},Fn={...er},P={[C]:[],[O]:[],[S]:[],[T]:[],[E]:[]},W={[C]:[],[O]:[],[S]:[],[T]:[],[E]:[]},at={[C]:void 0,[O]:void 0,[_]:void 0,[w]:void 0,[T]:[]},Hn={...Oe},gi=(e,t=0)=>{let n=e.selection.active.character+t,o=e.document.lineAt(e.selection.active.line).text.length+t;return n===o?n:n+"/"+o},Ni={col:({editor:e})=>gi(e,1),zCol:({editor:e})=>gi(e)},bi={char:({editor:e})=>e.selection.end.character-e.selection.start.character},de={ln:({editor:e})=>e.selection.active.line+1},Ci={lc:io,char:so,charOnly:co},Pc={lc:e=>e.selection.end.line-e.selection.start.line+1,char:e=>e.document.getText(e.selection).length,charOnly:e=>e.document.getText(e.selection).replace(Fn.regex,"").length},Oi=(e,t=0,n=0)=>{let o=e.selections[t].active.character+n,r=e.document.lineAt(e.selections[t].active.line).text.length+n;return o===r?o:o+"/"+r},hi={count:({editor:e})=>e.selections.length,ln:({editor:e,idx:t})=>e.selections[t].end.line+1,lc:({editor:e,pos:t})=>e.selection.isSingleLine?e.selections.length:e.selections.length*(e.selections[t].end.line-e.selections[t].start.line+1),char:({editor:e,pos:t})=>e.selection.isSingleLine?e.selections[t].end.character-e.selections[t].start.character:e.document.getText(e.selections[t]).replace(Fn.regex,"").length},Di={col:po,zCol:To,nth:ao,count:lo,ln:uo,lc:xo,char:fo},Bc={cursorOnlyText:{...Ni,...de},singleLineText:{...de,...bi},multiLineCursorText:{...de,...Ci},multiLineAnchorText:{...de,...Ci},multiCursorText:Di,multiCursorEdit:Di},Li={col:Nr,zCol:br},Ge={char:_r,ln:Sr},Kn={lc:yr,charOnly:Ir},Ri={nth:vr,count:kr},yi={cursorOnlyText:{...Li,...Ge},singleLineText:{...Ge},multiLineCursorText:{...Ge,...Kn},multiLineAnchorText:{...Ge,...Kn},multiCursorText:{...Ri,...Ge,...Kn},multiCursorEdit:{...Ri,...Li,...Ge}},Hc=(e,t)=>({get range(){return at[e]},renderOptions:t}),Kc=(e,t)=>{P[e].forEach((n,o)=>{let r=[];t?.forEach(i=>{r.push(Hc(i,$[i].contentText[o]))}),W[e].push(r)})},Xe={[C]:[],[O]:[],[S]:[],[T]:[],[E]:[]},Fc={[C]:{renderOptionHex:[C],fnObject:{...de,...Ni}},[O]:{renderOptionHex:[O],fnObject:{...de,...bi}},[S]:{renderOptionHex:[_,w],fnObject:{...de,...Pc}},[T]:{renderOptionHex:[T],fnObject:{...hi}},[E]:{renderOptionHex:[E],fnObject:{...hi}}},Mc=(e,t,n)=>{t.forEach(o=>{Object.hasOwn(n,o[1])&&Xe[e].push([o[1],n[o[1]]])})},Si=(e,t,n)=>{Hn.isWholeLine=!0,Hn.rangeBehavior=lt.DecorationRangeBehavior.ClosedClosed;let o=t;for(;o--;){let i=lt.window.createTextEditorDecorationType(Hn);P[e].push(i)}W[e].length>0&&(W[e]=[]);let r=Fc[e];Kc(e,r.renderOptionHex),Mc(e,n,r.fnObject)},je=(e,t,n)=>{switch(t){case u:_i[e]=n;break;case f:Ai[e]=n;break;case d:Pi[e]=n;break;case T:Hi[e]=n;break;case E:Ki[e]=n;break;default:break}},Mn=(e,t)=>(n,o)=>e(t[o],n),Gn=(e,t)=>([n,o])=>{t[n].contentText=o(e).toString()},_i={ln:void 0,col:void 0,zCol:void 0},Ii=(e,t)=>{Object.hasOwn(ct,e)&&(ct[e]=t)},vi=(e,t)=>{Object.hasOwn(k,e)&&(k[e]=t)},Un=()=>{Vt.contentText=$[T].contentText,V.contentText=$[E].contentText},ki=()=>{ct.nth&&(In($[T].contentText[ct.nth],Vt),Vt.positionList.set(ct.nth,Sn)),k.nth&&(In($[E].contentText[k.nth],V),V.positionList.set(k.nth,Sn)),k.col?(vn($[E].contentText[k.col],Oi,1,V),V.positionList.set(k.col,_n)):k.zCol&&(vn($[E].contentText[k.zCol],Oi,0,V),V.positionList.set(k.zCol,_n))},zt=(e,t)=>{switch(e[0]){case u:P[C].forEach(ae(t));break;case f:P[O].forEach(ae(t));break;case d:P[S].forEach(ae(t));break;case p:Mi();break;default:break}},Wi=(e,t)=>{Xn(e),Xe[C].forEach(Gn({editor:e},_i)),at[C]=ie(e.selection.active),W[C].forEach(Mn(e.setDecorations,P[C]))},Ai={ln:void 0,char:void 0},wi=(e,t)=>{zt(t,e.setDecorations),Xe[O].forEach(Gn({editor:e},Ai)),at[O]=ie(e.selection.active),W[O].forEach(Mn(e.setDecorations,P[O]))},Pi={ln:void 0,lc:void 0,char:void 0,charOnly:void 0},Bi=(e,t)=>{d!==t[0]&&zt(t,e.setDecorations),Xe[S].forEach(Gn(e,Pi)),at[_]=ie(e.selection.anchor),at[w]=ie(e.selection.active),W[S].forEach(Mn(e.setDecorations,P[S]))},Hi={nth:void 0,count:void 0,ln:void 0,lc:void 0,char:void 0},Ki={nth:void 0,count:void 0,ln:void 0,col:void 0,zCol:void 0},Fi=(e,t,n)=>([o,r])=>{switch(o){case"char":t[o]+=r(e),n[o].contentText=t[o].toString();break;default:n[o].contentText=r(e).toString();break}},Gc={baseIndexRefBuffer:[],indexListRefBuffer:[],calibration:0},xe={editor:lt.window.activeTextEditor,pos:0,char:0,idx:0},ue={nth:0,count:0,ln:0,lc:0,char:0},Uc=()=>{ue.nth=0,ue.count=0,ue.ln=0,ue.lc=0,ue.char=0},ct={nth:null,ln:null},k={nth:null,col:null,zCol:null},g={strategyKey:0,selectionReference:[],selectionBuffer:[],lineBuffer:new Map,cursorIndex:0,baseLine:-1,currentLine:-1,previousLine:-1,duplicateOverlayIndex:-1,lastCount:0,overlayIndex:0,overlay:Gc},Vt={renderOption:W[T],statusFnChain:Xe[T],accumulate:Fi(xe,ue,Hi),lineFn:xe,positionList:new Map,baseIndex:[],indexList:[],contentText:[]},V={renderOption:W[E],statusFnChain:Xe[E],accumulate:Fi(xe,ue,Ki),lineFn:xe,positionList:new Map,baseIndex:[],indexList:[],columnList:[],contentText:[]},Mi=()=>(g.strategyKey=0,g.selectionBuffer.length=0,g.lineBuffer.clear(),g.cursorIndex=0,g.baseLine=-1,g.currentLine=-1,g.previousLine=-1,g.duplicateOverlayIndex=-1,g.lastCount=0,g.overlayIndex=0,g.overlay.baseIndexRefBuffer.length=0,g.overlay.indexListRefBuffer.length=0,g.overlay.calibration=0,Un(),Uc(),$t(T,xe.editor.setDecorations),$t(E,xe.editor.setDecorations),!0);var Xc=(e,t)=>(n,o)=>e(n,t[o]),jc=(e,t)=>P[e].forEach(Xc(t,W[e])),$t=(e,t)=>{P[e].forEach(ae(t)),W[e].forEach((n,o)=>{W[e][o].length=0})},Ue=(e,t)=>{Mi(),$t(T,t.lineFn.editor.setDecorations),$t(E,t.lineFn.editor.setDecorations)},Yc=e=>e?V:Vt,Vc=e=>e?T+Wt:T,$c=e=>(e&Wt)===Wt,zc=(e,t,n,o,r,i,s)=>{let a=r===-1,c=e!==t,l=o===0,x=o===n,y=n>2,sn=n-o===1,Je=s<i,Bs=s===i,Hs=s>i,Ks=i<s,Fs=s===r,Ms=s>r,Gs=0|(e?1:0)|(t?2:0)|(c?16:0)|(a?32:0)|(l?256:0)|(x?512:0)|(y?1024:0)|(sn?4096:0)|(Je?65536:0)|(Bs?1<<17:0)|(Hs?1<<18:0)|(Ks?1<<19:0)|(Fs?1<<20:0)|(Ms?1<<21:0);return{2883872:mn,2888704:U,2233344:U,1119232:U,1184768:U,70656:U,66560:U,2884896:En,2884899:kt,2883875:kt,2888707:gn,2233347:he,2167811:he,70659:he,66563:he,2229763:X,2885123:X,2884611:X,2229251:X,2163715:X,2164227:X,2229265:G,2228241:G,2229777:G,1114115:G,2162691:G,2228739:G}[Gs]},qc={[mn]:[Ue,le,Ei],[U]:[mi],[En]:[Ue,le,st,Ti],[kt]:[Ue,le,st,jt],[gn]:[Yt,pi],[he]:[Ue,le,st,Yt,jt],[X]:[Ue,le,fi],[G]:[st,Yt,Ue,le,jt]},Jc=e=>e.selection.isEmpty!==e.selections[e.selections.length-1].isEmpty?(e.selections=[...e.selections.slice(0,e.selections.length-1)],!0):!1,Zc=(e,t)=>n=>n(e,t),Gi=(e,t)=>{Jc(e)&&(t[0]=p),p!==t[0]&&zt(t,e.setDecorations),g.strategyKey=zc(e.selection.isEmpty,e.selections[e.selections.length-1].isEmpty,e.selections.length,g.lastCount,g.baseLine,g.previousLine,e.selections[e.selections.length-1].end.line);let n=$c(g.strategyKey);qc[g.strategyKey].forEach(Zc(g,Yc(n))),jc(Vc(n),e.setDecorations),g.lastCount=e.selections.length},Ui=e=>{xe.editor=e},Xn=e=>{ke?.forEach(t=>zt([t],e.setDecorations))};var qt=()=>({functionOf:Bc,textOf:$,infoOf:Fn});var ut={[u]:[],[f]:[],[d]:[],[p]:[]},dt={...tr},Xi=e=>jn.window.createTextEditorDecorationType(e),xt=(e,t,n)=>e(t,n),ae=e=>t=>e(t,v),ji=e=>{e.eventTrigger[0]=Eo,e.appliedHighlight[0]=u,e.diagnosticSignature[0]=H},Qc=e=>{qn(e),Xn(e),qr(e.setDecorations)},z=()=>jn.window.visibleTextEditors.forEach(Qc),Jt=e=>{let t=qt();t.infoOf.size=Number(e.options.tabSize??e.options.indentSize??4),t.infoOf.type=e.options.insertSpaces?`
`:"	",t.infoOf.regex=e.options.insertSpaces?Wr(t.infoOf.size):Ar},ea=(e,t,n)=>o=>{let r=[];r.push(t[o]),e.generalConfigInfo.selectionTextEnabled&&r.push(n[o]),e.generalConfigInfo.diagnosticTextEnabled&&(o===u||o===f)?r.push(ta):e.generalConfigInfo.diagnosticTextEnabled&&r.push(rt(dt)),ut[o].push(...r)},Ye=e=>{let t={[u]:Yn,[f]:Vn,[d]:$n,[p]:zn},n={[u]:Wi,[f]:wi,[d]:Bi,[p]:Gi};ke.forEach(ea(e,t,n))},ta=e=>{e.selections[0].start.line!==dt.previousLine[0]&&rt(dt)(e),e.document.isDirty&&Ae(e),dt.previousLine[0]=e.selections[0].start.line},na=(e,t)=>n=>n(e,t),Ve=(e,t)=>{let n=na(e,t);return e.selections.length===1?e.selections[0].isEmpty?(ut[u].forEach(n),u):e.selections[0].isSingleLine?(ut[f].forEach(n),f):(ut[d].forEach(n),d):(ut[p].forEach(n),p)},Yi=()=>({stateOf:dt});var B={...nr},oa={...or},Yn=(e,t)=>{u!==t[0]&&qn(e),xt(e.setDecorations,B[u][0],[ie(e.selection.active)])},Vn=(e,t)=>{f!==t[0]&&fe(e.setDecorations,t,v),xt(e.setDecorations,B[f][0],[dr(e.selection.start,e.selection.end)])},Zt=[[Object.create(null)],[Object.create(null)],[Object.create(null)]],ra=(e,t)=>(n,o)=>e(n,t[o]),$n=(e,t)=>{d!==t[0]&&fe(e.setDecorations,t,v),Zt[0][0]=e.document.lineAt(e.selection.start).range,Zt[1][0]=e.document.lineAt(e.selection.end).range,Zt[2][0]=e.selection,B[d].forEach(ra(e.setDecorations,Zt))},zn=(e,t)=>{fe(e.setDecorations,t,v),xt(e.setDecorations,B[p][0],[...e.selections]),xt(e.setDecorations,B[p][1],[...e.selections])},Qt=(e,t)=>n=>e(n,t),fe=(e,t,n)=>{switch(t[0]){case u:B[u].forEach(Qt(e,n));break;case f:B[f].forEach(Qt(e,n));break;case d:B[d].forEach(Qt(e,n));break;case p:B[p].forEach(Qt(e,n));break;default:break}},qn=e=>{fe(e.setDecorations,[u],v),fe(e.setDecorations,[f],v),fe(e.setDecorations,[d],v),fe(e.setDecorations,[p],v)},ql={[u]:(e,t)=>Yn(e,t),[f]:(e,t)=>Vn(e,t),[d]:(e,t)=>$n(e,t),[p]:(e,t)=>zn(e,t)};var Vi=()=>({styleOf:B,infoOf:oa});var ns=h(require("vscode"));var ft=h(require("vscode"));var Jn=class{#e;#t;constructor(t,n){this.#e=t,this.#t=n}get(){return{section:this.#e,message:this.#t}}},Zn=class{static ignored=!1;static notified=!1;static packageName;static errorList=[];static configurationSectionList(){return this.errorList.map(t=>t.get().section)}static ifExtensionName(t){return t.indexOf(this.packageName)!==-1&&t.split(".").length>2?t.replace(this.packageName+".",""):t}static pushErrorMessage(){return ft.window.showErrorMessage("Please revise invalid values in configuration.","Fix Configuration","Ignore")}static userSelect(t){return function(n){return n==="Fix Configuration"?(ft.commands.executeCommand("workbench.action.openSettings",t),!1):!0}}static fixConfiguration(){return async()=>{this.ignored=await this.pushErrorMessage().then(this.userSelect(this.configurationSectionList().join(" ")))}}static pushMessage(t){return()=>ft.window.showInformationMessage(t)?.then(()=>{})}},L=class extends Zn{static configurationUpdated(){this.notified=!1,this.ignored=!1}static setPackageName(t){this.packageName=t}static check(){return this.errorList.length>0}static register(t,n){return this.errorList.push(new Jn(t,n))}static clear(){this.errorList.splice(0)}static notify(t=0){if(this.check()&&!this.notified&&!this.ignored){this.notified=!0,setTimeout(this.fixConfiguration(),t);return}setTimeout(this.pushMessage("Config has been updated succeefully. Configuration Reloaded... (Messaage Dismiss in 2 second.)"),t)}};var en=h(require("vscode"));var $i=()=>{let e=b("editor");e.update("renderLineHighlight","gutter",en.ConfigurationTarget.Global),e.update("roundedSelection",!1,en.ConfigurationTarget.Global)};var pt=e=>{if(!(!e||e==="null"||e.length===0||Pt.test(e)))return e},zi=e=>e.filter(t=>t!==void 0&&t.length>0||typeof t!="string"),qi=e=>e==="null"||e.length===0?null:e;var tn=(e,t,n,o)=>{let r=o||4,i=[];for(;r--;)e>>r&1?i.push(Array.isArray(t)?t[r]:t):i.push(n);return i};var Ji=(e,t)=>{let n=e.match(t),o=[];if(n&&n.index!==void 0)return o=e.split(t),o[0].length===0?(delete o[0],{position:0,array:[...o]}):o[2].length===0?(delete o[2],{position:1,array:[...o]}):{position:1,array:o}},K=(e,t=.6,n,o)=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(c=>c+c).join("")),/^[0-9A-Fa-f]{6}$/.test(e)||(e=n.replace(/^#/,""),t=o);let i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return`rgba(${i}, ${s}, ${a}, ${t})`};var Zi=(e,t)=>e.length===t.length&&e.every((n,o)=>n[0]===t[o][0]&&n[1]===t[o][1]);var Qi=h(require("vscode"));var es=e=>`0 0 0 ${e}`,sa=e=>{if(e)return{...e,array:e.array.filter(t=>t!==void 0)}},nn=(e,t)=>{let n={...e};return n.after={...e.after},n.after.contentText=t,n},ca=(e,t,n,o,r,i)=>{let s=sa(Ji(r.nextSearchString,o));s&&(Object.hasOwn(t,n)&&(s.array[s.position]=t[n]),i?(e.contentText?.push(...s.array),e.position[r.lastPosition+s.position]=n):s.position===0?(e.contentText?.push(s.array[0]),e.position[r.lastPosition+s.position]=n,r.nextSearchString=s.array[1],r.lastPosition=r.lastPosition+s.position+1):s.position===1&&s.array.length===2?(e.position[r.lastPosition+s.position]=n,e.contentText?.push(...s.array)):s.position===1&&s.array.length===3&&(e.contentText?.push(s.array[0],s.array[1]),e.position[r.lastPosition+s.position]=n,r.nextSearchString=s.array[2],r.lastPosition=r.lastPosition+s.position+1))},ts=(e,t,n,o,r)=>{let i=e.match(wr);if(i!==null&&Object.hasOwn(o,t)){i.length>Object.keys(o[t]).length&&L.register(r+"."+t,"numbers of placeholder exceed availability");let s={nextSearchString:e,lastPosition:0};n.textOf[t].contentText=[],i.forEach((a,c)=>{let l=a.match(Pr);l&&(Object.hasOwn(o[t],l[1])?ca(n.textOf[t],n.functionOf[t],l[1],o[t][l[1]],s,c===i.length-1):L.register(r+"."+t,`Invalid placeholder '${l[1]}' is set in user configration. Load default value instead for now. Please revise the value entered.`))}),n.textOf[t].contentText=zi(n.textOf[t].contentText)}else n.textOf[t].contentText=[e]},Tt=(e,t=!0,n=void 0)=>{let o={...Oe};if(o.isWholeLine=t,o.rangeBehavior=Qi.DecorationRangeBehavior.ClosedOpen,o.after={...bo},n&&(o.after.contentText=n),!!e.color)return o.after.color=K(e.color,e.colorOpacity,"#333333",.7),e.backgroundColor&&e.backgroundColor!=="null"&&e.backgroundColor.length>0?o.after.backgroundColor=K(e.backgroundColor,e.backgroundOpacity,"#333333",.7):delete o.after.backgroundColor,e.fontWeight!=="normal"?o.after.fontWeight=e.fontWeight:delete o.after.fontWeight,e.fontStyle!=="normal"?o.after.fontStyle=e.fontStyle:delete o.after.fontStyle,delete o.after.margin,delete o.after.textDecoration,o};var b=e=>ns.workspace.getConfiguration(e),Qn={borderColor:{of:"borderOpacity",fn:(e,t,n)=>K(e,t,n)},backgroundColor:{of:"backgroundOpacity",fn:(e,t,n)=>K(e,t,n)}},Et=(e,t,n,o)=>{try{let r=e.get(t,n);return r===void 0&&console.warn(`Config value for ${t} is undefined or caused an error. Using default value.`),typeof r=="string"?qi(r):r}catch(r){return o&&L.register(o+"."+t,`Failed to get config value for ${o+"."+t}:`),console.error(`Failed to get config value for ${e+"."+t}:`,r),e.inspect(t)?.defaultValue}},mt=(e,t,n,o,r)=>{Object.entries(e).forEach(([i,s])=>{if(typeof s!="object"){let a=Et(b(t),i,"not found",t);if(a&&r&&o&&n&&n.includes(i)){let c={contentText:[],position:{}};o.textOf[i]={...c},ts(a,i,o,r,t)}Object.hasOwn(e,i)&&a!==void 0&&(e[i]=a)}else mt(e[i],t+"."+i,n,o)})};var aa=e=>e,la=(e,t)=>{let n=Lo[t],o=Ho,r=b(e.name+"."+n);return Object.entries(o).reduce((i,[s,a])=>{let c=Et(r,aa(s),a,e.name+"."+n);if(c!=null)if(Object.hasOwn(Qn,s)){let l=Qn[s];i[s]=l.fn(c,e.generalConfigInfo[l.of],a)}else i[s]=c;return i},{})},ua=e=>(e.border=`${e.borderStyle} ${e.borderColor};`,delete e.borderStyle,delete e.borderColor,e),da=(e,t,n)=>{try{let o=n(e,t);if(!o||o.length===0)return;let r=o.reduce((i,s)=>{let a={...e};return a.borderWidth=s,i.push(a),i},[]).reduce((i,s,a)=>(t===d&&a!==2&&delete s.backgroundColor,i.push(Xi(ua(s))),i),[]);return r.length===0?void 0:r}catch(o){console.log("creating decoration type thrown error:",t,o);return}},xa=(e,t)=>{if(Object.hasOwn(_t,t))return Object.hasOwn(_t[t],String(e.borderPosition))?fa(e,_t[t][e.borderPosition]):void 0},fa=(e,t)=>{let n=[];for(let o of t){let r=tn(o,String(e.borderWidth),"0");n.push(r.join(" "))}return n},pa=(e,t)=>{let n=t.replaceAll(" ","").split("|"),o=!1,r=!1,i=!1,s=!1,a=!1;return n.length>1&&(o=/isWholeLine/s.test(n[1]),r=/beforeCursor/s.test(n[1]),i=/afterCursor/s.test(n[1]),s=/atLineStart/s.test(n[1]),a=/selectionOnly/s.test(n[1]),e===d&&n[0]==="left"&&(o=!0)),{isWholeLine:o,borderPosition:n[0],beforeCursor:r,afterCursor:i,atLineStart:s,selectionOnly:a}},gt=e=>{for(let t in e.generalConfigInfo)if(t==="diagnosticTextEnabled"||t==="selectionTextEnabled"){let n=Oo[t],o=b(e.name+"."+n[0]),r=Et(o,n[1],xn[t],e.name+"."+n[0]);e.generalConfigInfo[t]=r}else{let n=b(e.name+"."+I.general);e.generalConfigInfo[t]=Et(n,t,xn[t],e.name+"."+I.general)}},A=(e,t)=>{let n=Vi();n.styleOf[t]&&n.styleOf[t].forEach(s=>s.dispose());let o=la(e,t),r=pa(t,String(o.borderPosition));n.infoOf[t]=r,o.borderPosition=r.borderPosition,o.isWholeLine=r.isWholeLine;let i=da(o,t,xa);if(!i)return!1;n.styleOf[t]=i,delete n.styleOf,delete n.infoOf},os=e=>{gt(e);for(let t of ke)A(e,t);return!0};var eo=h(require("vscode"));var rs={borderOpacity:"general.borderOpacity",backgroundOpacity:"general.backgroundOpacity",statusTextEnabled:"selectionText.enabled",statusTextIconEnabled:"selectionText.iconEnabled",statusTextColor:"selectionText.color",statusTextBackgroundColor:"selectionText.backgroundColor",statusTextOpacity:"selectionText.opacity",statusTextFontStyle:"selectionText.fontStyle",statusTextFontWeight:"selectionText.fontWeight",cursorOnlyBorderColor:"cursorOnly.borderColor",cursorOnlyBackgroundColor:"cursorOnly.backgroundColor",cursorOnlyBorderPosition:"cursorOnly.borderPosition",cursorOnlyBorderWidth:"cursorOnly.borderWidth",cursorOnlyBorderStyle:"cursorOnly.borderStyle",cursorOnlyBorderStyleWithafterCursor:"cursorOnly.borderStyleWithafterCursor",singleLineBorderColor:"singleLine.borderColor",singleLineBackgroundColor:"singleLine.backgroundColor",singleLine:"singleLine.borderPosition",singleLineBorderWidth:"singleLine.borderWidth",singleLineBorderStyle:"singleLine.borderStyle",multiLineBorderColor:"multiLine.borderColor",multiLineBackgroundColor:"multiLine.backgroundColor",multiLineBorderPosition:"multiLine.borderPosition",multiLineBorderWidth:"multiLine.borderWidth",multiLineBorderStyle:"multiLine.borderStyle",multiCursorBorderColor:"multiCursor.borderColor",multiCursorBackgroundColor:"multiCursor.backgroundColor",multiCursorBorderPosition:"multiCursor.borderPosition",multiCursorBorderWidth:"multiCursor.borderWidth",multiCursorBorderStyle:"multiCursor.borderStyle"},Ta=(e,t,n)=>e.update(t,n,eo.ConfigurationTarget.Global),Ea=(e,t)=>e.update(t,void 0,eo.ConfigurationTarget.Global),is=async e=>{let t=b(e.name);Object.entries(t).forEach(async([n,o])=>{if((typeof o=="string"||typeof o=="number"||typeof o=="boolean")&&Object.hasOwn(rs,n)){let r=rs[n];await Ta(t,r,o),await Ea(t,n)}})};var ma=(e,t)=>e.contentText.map((n,o)=>{let r=typeof n=="string"?t.placeholderDecorationOption:t.selectionDecorationOption[e.position[o]],i=nn(r,n);return typeof n=="symbol"&&(e.position[o]=i.after.contentText),i}).filter(n=>n!==void 0),ga=(e,t)=>{t.placeholderDecorationOption=Tt(e,!0),Object.keys(t.selectionDecorationOption).forEach((n,o)=>{let r={color:e.selectionCountTextStyle[n],colorOpacity:e.selectionCountTextStyle.opacity,fontStyle:e.selectionCountTextStyle.fontStyle,fontWeight:e.selectionCountTextStyle.fontWeight};t.selectionDecorationOption[n]=Tt(r,!0)})},Ca=(e,t)=>{Object.entries(t.cursorOnlyText.position).forEach(([c,l])=>{let x=e[C].contentText[c].after;je(l,u,x)}),Object.entries(t.singleLineText.position).forEach(([c,l])=>{let x=e[O].contentText[c].after;je(l,f,x)});let r=Object.entries(t.multiLineAnchorText.position),i=Object.entries(t.multiLineCursorText.position);Zi(r,i)&&r.forEach(([c,l],x)=>{let y=e[_].contentText[c].after;e[w].contentText[c].after=y,je(l,d,y)}),Object.entries(t.multiCursorText.position).forEach(([c,l])=>{let x=e[T].contentText[c].after;je(l,T,x),Ii(l,parseInt(c))}),Object.entries(t.multiCursorEdit.position).forEach(([c,l])=>{let x=e[E].contentText[c].after;je(l,E,x),vi(l,parseInt(c))}),Un(),ki()},Oa=(e,t,n,o)=>{Object.entries(t).forEach(([l,x],y)=>{let sn=ma(x,n),Je=ho[l];e[Je]={contentText:sn,position:Object.entries(x.position)},(o&&o!=="0px"||o!=="0em")&&e[Je].contentText[0]&&(e[Je].contentText[0].after.margin=es(o))});let r=e[C],i=e[O],s=e[_],a=e[T],c=e[E];[[C,r.contentText.length,r.position],[O,i.contentText.length,i.position],[S,s.contentText.length,s.position],[T,a.contentText.length,a.position],[E,c.contentText.length,c.position]].forEach(([l,x,y])=>{Si(l,x,y)}),Ca(e,t)},$e=(e,t=!1)=>{let n={...Do},o={...No},r=qt(),i={functionOf:r.functionOf,textOf:{}};return mt(n,e+"."+I.selectionText,Ro,i,yi),ga(n,o),Oa(r.textOf,i.textOf,o,n.leftMargin),delete r.functionOf,delete r.infoOf,delete r.textOf,delete i.textOf,delete i.functionOf,!0};var ha=["pre","post"],Da={pre:"prefix",post:"postfix"},La=(e,t,n)=>{let o=t.sidePadding!=="null"?t.sidePadding:null,r=t.topDownPadding!=="null"?t.topDownPadding:null;Object.entries(e).forEach(([i,s])=>{s.map(a=>a.filter(c=>c.length>0)).forEach((a,c,l)=>{t.backgroundColor&&t.backgroundOpacity&&(e[i][c][0].renderOptions.after.backgroundColor=K(t.backgroundColor,t.backgroundOpacity,"#333333",.7)),t.borderRadius&&(c===0&&(e[i][0][0].renderOptions.after.textDecoration=`;border-top-left-radius:${t.borderRadius};border-bottom-left-radius:${t.borderRadius};padding-left:${o}`),c===l.length-1&&(e[i][c][0].renderOptions.after.textDecoration=`;border-top-right-radius:${t.borderRadius};border-bottom-right-radius:${t.borderRadius};padding-right:${o}`)),r&&(e[i][c][0].renderOptions.after.textDecoration+=`;padding-top:${r};padding-bottom:${r}`),n!=="0px"&&n!=="0em"&&n&&c===0&&(e[i][0][0].renderOptions.after.textDecoration+=`;margin-left:${n}`)})})},Ra=({textPosition:e,primaryStyle:t,secondaryStyle:n,notation:o,leftMargin:r})=>e.contentText.map((i,s)=>{let a=e.position[s],c=t;if(ha.includes(a)){if(!Object.hasOwn(o,Da[a]))return;c=n}return nn(c,i)}).filter(i=>i!==void 0),Na=(e,t,n,o,r="")=>{let i=(a,c,l,x)=>{if(Object.hasOwn(c[l],x)){c[l][x].notation&&(a.notation=c[l][x].notation);let y=Ra(a);c[l][x].contentText=y}};Object.entries(n).forEach(([a,c])=>{let l=ko[a],x={textPosition:c,primaryStyle:o.diagnosticDecorationOption[l[0]],secondaryStyle:l[1]?o.diagnosticDecorationOption[l[1]]:null,notation:[],leftMargin:r};["workspace","editor","all","layout"].forEach(y=>{i(x,e,y,Wo[a])})});let s=a=>a.contentText.map(c=>(c.after.contentText===Bt&&(c.after.contentText=a.notation.prefix?a.notation.prefix:void 0),c.after.contentText===Ht&&(c.after.contentText=a.notation.postfix?a.notation.postfix:void 0),c)).filter(c=>c.after.contentText!==void 0);e.layout[q].contentText.forEach(a=>{if(a.after.contentText===Ot){let c=s(e.all[Qe]);m(H,[...c])}else m(H,[{...a}])}),e.layout[J].contentText.forEach(a=>{if(a.after.contentText===ht){let c=s(e.editor[Z]),l=s(e.editor[Q]),x=s(e.editor[ee]);m(re,[...c]),m(De,[...c]),m(Le,[...c]),m(Re,[...c]),m(Ne,[...l]),m(be,[...l]),m(ye,[...l]),m(Se,[...x]),m(_e,[...x]),m(Ie,[...l,...x]);return}if(a.after.contentText===Dt){let c=s(e.workspace[te]),l=s(e.workspace[ne]),x=s(e.workspace[oe]);m(re,[...c]),m(De,[...l]),m(Le,[...x]),m(Re,[...l,...x]),m(Ne,[...l]),m(be,[...x]),m(ye,[...l,...x]),m(Se,[...x]),m(_e,[...l,...x]),m(Ie,[...l,...x]);return}hn.forEach(c=>{m(c,[{...a}])})})},ss=(e,t)=>t!=="null"&&t.length>0&&!Pt.test(t)?{[e]:t}:{},ba=(e,t,n)=>({[e]:{...vo,notation:{...ss("prefix",t),...ss("postfix",n)}}}),to=(e,t,n,o)=>{let r=n+"Prefix",i=n+"Postfix";if(e[t][r]!==void 0&&e[t][i]!==void 0)return ba(o[t],e[t][r],e[t][i])},ya=(e,t)=>{let n={},o={},r={1:{styleName:"okNotationTextStyle",target:[o,n]},2:{styleName:"warningNotationTextStyle",target:[o]},4:{styleName:"errorNotationTextStyle",target:[o]}};return Object.entries(r).forEach(([i,s])=>{t&Number(i)&&e[s.styleName]&&s.target.forEach(a=>{a[i]={color:K(e[s.styleName].color,e[s.styleName].colorOpacity,"#333333",.7)}})}),{[J]:{override:Object.keys(o).length>0?o:void 0},[q]:{override:Object.keys(n).length>0?n:void 0}}},Sa=(e,t,n,o,r)=>{let i={workspace:{},editor:{},all:{},layout:{[J]:{},[q]:{}}};e.leftMargin&&(t.leftMargin=e.leftMargin),n.forEach(c=>{let l={color:pt(e[c].color),colorOpacity:e[c].colorOpacity,backgroundColor:pt(e[c].backgroundColor),backgroundOpacity:e[c].backgroundOpacity,fontStyle:pt(e[c].fontStyle),fontWeight:pt(e[c].fontWeight)};t.diagnosticDecorationOption[c]=Tt(l,!0),i.workspace={...i.workspace,...to(e,c,"workspace",_o)},i.editor={...i.editor,...to(e,c,"editor",So)},i.all={...i.all,...to(e,c,"all",Io)}});let s=r.workspace|r.editor,a=o.overrideLayoutPlaceholderColorToHighestSeverity?ya(e,s):void 0;return{...i,layout:{[J]:{},[q]:{},...a}}},cs=(e=!1,t=!1)=>{let n=7;return n^=e?1:0,n^=t?2:0,n},_a=e=>{let t=7,n=7;return e.DiagnosticKind==="workspace Only"&&(n=0,t&=cs(e.hideOk,e.hideWarning)),e.DiagnosticKind==="editor Only"&&(t=0,n&=cs(e.hideOk,e.hideWarning)),{workspace:t,editor:n}},Ia=(()=>{let e=[...Ao];return e.reverse().push(["0","0"]),e})(),va=e=>[...tn(e,Ia,0,4).filter(t=>t!==0).flat(),"diagnosticPlaceholderTextStyle"],ka=(e,t)=>{e[pe]=t.openningBracket,e[Te]=t.closingBracket,e[Ee]=t.lineEqual,e[me]=t.lineUp,e[ge]=t.lineDown},as={initalCursor:{default:xr,auto:fr},lastCursor:{default:pr,auto:Tr}},Wa=(e,t)=>{let n=t.overlayCursorPosition==="initial cursor"?as.initalCursor:as.lastCursor;switch(t.placeTextOnPreviousOrNextLine){case"previousLine":e.rangeFunction=n.default(-1);break;case"previousLine (auto-inline)":e.rangeFunction=n.auto(-1);break;case"nextLine":e.rangeFunction=n.default(1);break;case"nextLine (auto-inline)":e.rangeFunction=n.auto(1);break;default:ar(t.autoInlineDatumPoint),e.rangeFunction=wt;break}},ze=async(e,t=!1)=>{let n={...yo},o={...Bo},r={layout:{},editor:{},workspace:{},all:{}},i=Jr(),s={functionOf:i.functionOf,textOf:{}};t&&jr(),mt(n,e+"."+I.diagnosticText,wo,s,Vr);let a=n.visibility.overrideAllOk?H:re,c=_a(n.visibility),l=va(c.workspace|c.editor);return Object.assign(r,Sa(n,o,l,n.visibility,c)),Object.assign(i.configOf,n.visibility),Na(r,i.textOf.contentText,s.textOf,o,n.leftMargin),La(i.textOf.contentText,n.diagnosticPlaceholderTextStyle,n.leftMargin),ka(i.textOf.glyphList,n.glyphList),Wa(i.functionOf,n.visibility),Hr(a),$r(a),Xr(),delete s.textof,delete s.functionOf,delete i.visibilityOf,delete i.functionOf,delete i.textOf.contentText,delete i.textOf.glyphList,delete i.textof,delete i.configOf,!0};var no={...Co},ls=e=>{let t=e?.extension.packageJSON.name;if(!t||(no.name=t,!no.name))return;let n=no,o=Yi().stateOf;if(n.configError||(n.configError=[],is(n)),$i(),os(n))return n.generalConfigInfo.selectionTextEnabled&&$e(n.name),n.generalConfigInfo.diagnosticTextEnabled&&ze(n.name),{config:n,decoration:o}};var qe=h(require("vscode"));var F=h(require("vscode"));var us=h(require("path"));var ds=require("node:fs/promises");var xs=e=>t=>{if(t==="Yes"){for(let n of Object.values(I)){let o=b(e.package.extension.packageJSON.name+"."+n);for(let r of Object.keys(o))typeof o[r]!="function"&&r.length>0&&o.update(r,void 0,!0)}F.window.showInformationMessage("Configuration has been restored to default.")}},fs=()=>ms("Are you sure to restore to default?"),ps=async(e,t)=>{try{let n=e.asAbsolutePath(us.default.join("resource/preset/",t)),o=await(0,ds.readFile)(n,{encoding:"utf-8"});return JSON.parse(o)}catch(n){console.error("Failed to load preset JSON:",n)}},wa=(e,t,n)=>o=>{if(o==="Yes")return Es(e,t,n)},Ts=(e,t)=>{let n=b(e);for(let o of Object.keys(t))if(n.inspect(o)?.globalValue)return!0;return!1},Es=async(e,t,n)=>{e.updateCaller=go,F.commands.executeCommand("workbench.view.explorer");let o=b(t),r=Object.keys(n),i=r.length;for(;i--;)if(typeof n[r[i]]=="object"){let s=o.inspect(r[i]);await o.update(r[i],{...s?.globalValue,...n[r[i]]},!0)}else await o.update(r[i],n[r[i]],!0);z(),gt(e),A(e,u),A(e,f),A(e,d),A(e,p),$e(t,!0),ze(t,!0),Ye(e),e.updateCaller=void 0},ms=e=>F.window.showWarningMessage(e,"Yes","No"),on=async(e,{presetList:t,fileList:n,placeHolder:o})=>{let r=await F.window.showQuickPick(t.map(i=>({label:i})),{placeHolder:o});if(r&&Object.hasOwn(n,r.label.toString())){let i=e.package.extension.packageJSON.name,s=await ps(e.package,n[r.label.toString()]),a=wa(e.configInfo,i,s||{});Ts(e.package.extension.packageJSON.name,s)?await ms("Configuration will be overwritten. Proceed?").then(a):await a("Yes")}},Pa={presetList:["Detailed","Simple","No Glpyph - Detailed","No Glpyph - Simple","Emoji - Detailed","Emoji - Simple"],fileList:{Detailed:"detailed.json",Simple:"simple.json","No Glpyph - Detailed":"no-glyph-detailed.json","No Glpyph - Simple":"no-glyph-simple.json","Emoji - Detailed":"emoji-detailed.json","Emoji - Simple":"emoji-simple.json"},placeHolder:" ... Select the Preset"},Ba={presetList:["Horizontal","Vertical"],fileList:{Horizontal:"orientation-horizontal.json",Vertical:"orientation-vertical.json"},placeHolder:" ... Select the Preset Orientation"},Ha={presetList:["Light","Dark"],fileList:{Light:"color-light-theme.json",Dark:"color-dark-theme.json"},placeHolder:" ... Select the Color Contrast"},Ka={presetList:["Dim","Bright"],fileList:{Dim:"contrast-dim.json",Bright:"contrast-bright.json"},placeHolder:" ... Select the Theme Color"},gs=e=>on(e,Pa),Cs=e=>on(e,Ba),Os=e=>on(e,Ha),hs=e=>on(e,Ka),Ds=async e=>{if(F.window.activeColorTheme.kind===F.ColorThemeKind.Light){let t=e.package.extension.packageJSON.name,n=await ps(e.package,"color-light-theme.json");n&&!Ts(e.package.extension.packageJSON.name,n)&&await Es(e.configInfo,t,n)}};var Ls=e=>qe.commands.registerCommand("cursorlinehighlight.applyPreset",()=>gs(e)),Rs=e=>qe.commands.registerCommand("cursorlinehighlight.setColor",()=>Os(e)),Ns=e=>qe.commands.registerCommand("cursorlinehighlight.setContrast",()=>hs(e)),bs=e=>qe.commands.registerCommand("cursorlinehighlight.setOrientation",()=>Cs(e)),ys=e=>qe.commands.registerCommand("cursorlinehighlight.restoreToDefaultConfiguration",()=>fs().then(xs(e)));var M=h(require("vscode"));var Ss=({decorationState:e})=>M.window.onDidChangeWindowState(n=>{n.focused?M.window.activeTextEditor&&(Jt(M.window.activeTextEditor),e.appliedHighlight[0]=Ve(M.window.activeTextEditor,[u])):z(),!n.focused&&!n.active&&(z(),console.log("idling"))}),_s=({configInfo:e,decorationState:t})=>M.window.onDidChangeActiveTextEditor(n=>{n&&(L.check()&&L.notify(1500),z(),Ui(n),Ae(n),e.generalConfigInfo.diagnosticTextEnabled&&(Ln(),Rn(),t.eventTrigger[0]=Ce),Jt(n),t.appliedHighlight[0]=Ve(n,[u]))}),Is=()=>M.window.onDidChangeTextEditorOptions(e=>{e.textEditor&&Jt(e.textEditor)}),vs=({decorationState:e})=>M.window.onDidChangeTextEditorSelection(t=>{e.eventTrigger[0]=mo,e.appliedHighlight[0]=Ve(M.window.activeTextEditor,e.appliedHighlight)});var Ws=h(require("vscode"));var ks=(e,t)=>{try{L.configurationUpdated();let n={general:()=>gt(e),cursorOnly:()=>A(e,u),singleLine:()=>A(e,f),multiLine:()=>A(e,d),multiCursor:()=>A(e,p),selectionText:()=>{e.generalConfigInfo.selectionTextEnabled&&$e(e.name,!0)},diagnosticText:()=>{e.generalConfigInfo.diagnosticTextEnabled&&ze(e.name,!0)}};z(),n.general(),n[t]()}catch(n){console.log("confugration update failed. Will notify user.",n)}finally{Ye(e)}};var As=({configInfo:e,decorationState:t})=>Ws.workspace.onDidChangeConfiguration(n=>{if(n&&e.updateCaller===void 0){let o=Object.keys(I).find(r=>n.affectsConfiguration(e.name+"."+r));o&&ks(e,o)}});var rn=h(require("vscode"));var ws=({configInfo:e,decorationState:t})=>rn.languages.onDidChangeDiagnostics(async n=>{let o=rn.window.activeTextEditor;o&&n&&e.generalConfigInfo.diagnosticTextEnabled&&(t.eventTrigger[0]=Ce,rt(t)(o))});var Ps=async e=>{try{await e.extension.activate(),L.setPackageName(e.extension.packageJSON.name);let t=await ls(e);if(!t){console.error("Failed to initialize config.");return}let n=t.config,o=oo.window.activeTextEditor;Ye(n),o&&(Ae(o),ji(t.decoration),t.decoration.appliedHighlight[0]=Ve(o,[u]));let r={package:e,configInfo:n},i={configInfo:n,decorationState:t.decoration};return Ds(r),[Ls(r),Rs(r),Ns(r),bs(r),ys(r),Ss(i),_s(i),vs(i),Is(),ws(i),As(i)]}catch(t){console.error("Error during extension initialization: ",t),oo.window.showErrorMessage("Extension initialization failed!")}};function Xa(e){Ps(e).then(t=>{t&&e.subscriptions.push(...t)})}function ja(){}0&&(module.exports={activate,deactivate});
