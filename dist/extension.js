"use strict";var hn=Object.create;var Be=Object.defineProperty;var Nn=Object.getOwnPropertyDescriptor;var bn=Object.getOwnPropertyNames;var kn=Object.getPrototypeOf,Wn=Object.prototype.hasOwnProperty;var vn=(e,t)=>{for(var o in t)Be(e,o,{get:t[o],enumerable:!0})},zt=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of bn(t))!Wn.call(e,r)&&r!==o&&Be(e,r,{get:()=>t[r],enumerable:!(n=Nn(t,r))||n.enumerable});return e};var g=(e,t,o)=>(o=e!=null?hn(kn(e)):{},zt(t||!e||!e.__esModule?Be(o,"default",{value:e,enumerable:!0}):o,e)),Sn=e=>zt(Be({},"__esModule",{value:!0}),e);var oi={};vn(oi,{activate:()=>ei,deactivate:()=>ti});module.exports=Sn(oi);var Vt=g(require("vscode"));var ft=g(require("vscode"));var qt=16,Jt=17,he=18;var Ne=256,T=257,u=258,l=259,p=260;var H=513,M=514,$=515,Y=516,k=517;var Ge=518,Fe=519;var pt=769,ut=770,xt=771;var Q=777,Z=778,be=776,ee=779,te=780,oe=781,ne=782,re=783,ie=784;var He=790,Me=791,$e=792;var ue=793,xe=794,_e=795,fe=796,ge=797;var O=37,v=38,S=42,D=50,I=58,w=74,A=82,P=90,U=146,X=154,B=218;var j={general:"general",cursorOnly:"cursorOnly",singleLine:"singleLine",multiLine:"multiLine",multiCursor:"multiCursor",selectionText:"selectionText",diagnosticText:"diagnosticText"},Zt={name:void 0,renderLimiter:void 0,generalConfigInfo:{borderOpacity:void 0,backgroundOpacity:void 0,selectionTextEnabled:void 0,diagnosticTextEnabled:void 0},configError:void 0},eo={selectionTextEnabled:["selectionText","enabled"],diagnosticTextEnabled:["diagnosticText","enabled"]},to={cursorOnlyText:H,singleLineText:M,multiLineCursorText:$,multiLineAnchorText:Y,multiCursorText:k},oo={enabled:void 0,color:void 0,colorOpacity:void 0,backgroundColor:void 0,backgroundOpacity:void 0,fontStyle:void 0,fontWeight:void 0,leftMargin:void 0,cursorOnlyText:void 0,singleLineText:void 0,multiLineCursorText:void 0,multiLineAnchorText:void 0,multiCursorText:void 0,selectionCountTextStyle:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0,opacity:void 0,fontStyle:void 0,fontWeight:void 0}},no={[T]:"cursorOnly",[u]:"singleLine",[l]:"multiLine",[p]:"multiCursor"},ro=["cursorOnlyText","singleLineText","multiLineCursorText","multiLineAnchorText","multiCursorText"],io={leftMargin:void 0,placeholderDecorationOption:{},selectionDecorationOption:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0}},Ee={isWholeLine:void 0,rangeBehavior:void 0,after:{}},so={contentText:void 0,color:void 0,backgroundColor:void 0,fontWeight:void 0,fontStyle:void 0,textDecoration:void 0,margin:void 0},ui={[Ne]:{KEY:Ne,MASK:15},[T]:{KEY:T,MASK:1},[u]:{KEY:u,MASK:2},[l]:{KEY:l,MASK:4},[p]:{KEY:p,MASK:8}},gt={displayWhenCursorOnly:void 0,displayWhenSingleLine:void 0,displayWhenMultiLine:void 0,displayWhenMultiCursor:void 0,DiagnosticKind:void 0,placeTextOnPreviousOrNextLine:void 0,overrideLayoutPlaceholderColorToHighestSeverity:void 0,overrideAllOk:void 0},wn={openningBracket:void 0,closingBracket:void 0,lineEqual:void 0,lineUp:void 0,lineDown:void 0},ao={enabled:void 0,leftMargin:void 0,visibility:gt,glyphList:wn,problemPlaceholderContentText:void 0,allOkPlaceholderContentText:void 0,allOkContentText:void 0,diagnosticPlaceholderTextStyle:void 0,okNotationTextStyle:void 0,okTextStyle:void 0,okWorkspaceContentText:void 0,okEditorContentText:void 0,warningNotationTextStyle:void 0,warningTextStyle:void 0,warningWorkspaceContentText:void 0,warningEditorContentText:void 0,errorNotationTextStyle:void 0,errorTextStyle:void 0,errorWorkspaceContentText:void 0,errorEditorContentText:void 0},co={okNotationTextStyle:ee,warningNotationTextStyle:te,errorNotationTextStyle:oe},lo={okNotationTextStyle:ne,warningNotationTextStyle:re,errorNotationTextStyle:ie},To={okNotationTextStyle:be},po={contentText:void 0,notation:void 0},uo={allOkPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],allOkContentText:["okTextStyle","okNotationTextStyle"],problemPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],okEditorContentText:["okTextStyle","okNotationTextStyle"],warningEditorContentText:["warningTextStyle","warningNotationTextStyle"],errorEditorContentText:["errorTextStyle","errorNotationTextStyle"],okWorkspaceContentText:["okTextStyle","okNotationTextStyle"],warningWorkspaceContentText:["warningTextStyle","warningNotationTextStyle"],errorWorkspaceContentText:["errorTextStyle","errorNotationTextStyle"]},xo={problemPlaceholderContentText:Z,allOkPlaceholderContentText:Q,allOkContentText:be,okEditorContentText:ee,warningEditorContentText:te,errorEditorContentText:oe,okWorkspaceContentText:ne,warningWorkspaceContentText:re,errorWorkspaceContentText:ie},_o=[["okNotationTextStyle","okTextStyle"],["warningNotationTextStyle","warningTextStyle"],["errorNotationTextStyle","errorTextStyle"]],fo=["problemPlaceholderContentText","allOkPlaceholderContentText","okWorkspaceContentText","okEditorContentText","allOkContentText","warningWorkspaceContentText","warningEditorContentText","errorWorkspaceContentText","errorEditorContentText"],go={[ft.DiagnosticSeverity.Warning]:"warning",[ft.DiagnosticSeverity.Error]:"error"},Eo={leftMargin:void 0,diagonosticDecorationOption:{diagnosticPlaceholderTextStyle:void 0,okTextStyle:void 0,okNotationTextStyle:void 0,warningTextStyle:void 0,warningNotationTextStyle:void 0,errorTextStyle:void 0,errorNotationTextStyle:void 0}},_t={none:[0],bottom:[2,0],"top-bottom":[10],"top-right-bottom-left":[15,0],left:[1]},An={none:[0,0,0],"top-bottom":[8,2,0],left:[1,1,1]},Ye={[T]:_t,[u]:_t,[l]:An,[p]:_t},Oo={isWholeLine:!1,borderWidth:"2px",borderStyle:"dotted",borderColor:"#ff0000",borderPosition:"bottom",backgroundColor:"#ff0000"},Et={borderOpacity:1,backgroundOpacity:.5,selectionTextEnabled:!1},xi={selectionTextColor:"#FF0000",selectionTextOpacity:1,selectionTextBackgroundColor:null,selectionTextFontStyle:"normal",selectionTextFontWeight:"bold"};var mo={[qt]:void 0,[Jt]:void 0,[he]:void 0},Co={appliedHighlight:[0],diagnosticSignature:[0]},Oe=[T,u,l,p],Lo={[Ne]:[],[T]:[],[u]:[],[l]:[],[p]:[]},Ro={[T]:void 0,[u]:void 0,[l]:void 0,[p]:void 0},yo={override:0,severity:0,editor:{warning:{line:[],total:0},error:{line:[],total:0}},workspace:{warning:{source:0,total:0},error:{source:0,total:0}}},ho={[H]:void 0,[M]:void 0,[$]:void 0,[Y]:void 0,[k]:void 0},No={[O]:[],[v]:[],[S]:[],[D]:[],[I]:[],[w]:[],[A]:[],[P]:[],[U]:[],[X]:[],[B]:[]},Ot=[S,D,I,w,A,P,U,X,B],bo={[ue]:void 0,[xe]:void 0,[_e]:void 0,[fe]:void 0,[ge]:void 0},ko=[O,...Ot],fi={[pt]:ee,[ut]:te,[xt]:oe},gi={[pt]:ne,[ut]:re,[xt]:ie};var m=g(require("vscode")),Wo=(e,t,o,n)=>new m.Range(new m.Position(e,t),new m.Position(o,n)),je=(e,t)=>new m.Range(e,t);var Ke=e=>{let t=new m.Position(e.selection.end.line,e.selection.end.character);return new m.Range(t,t)},vo=(e,t=1)=>{let o=e.selection.end.line,n=new m.Position(e.selection.start.line!==0?o-t:o,e.selection.end.character);return new m.Range(n,n)},So=(e,t=1)=>{let o=new m.Position(e.selection.end.line+t,e.selection.end.character);return new m.Range(o,o)},K=e=>new m.Range(e,e),Do=e=>je(e.start,e.end),R=[];var It=g(require("vscode"));var Un=/(\${pre})/s,Xn=/(\${post})/s,Bn=/(\${src})/s,Gn=/(\${wrn})/s,Fn=/(\${err})/s,Hn=/(\${editor})/s,Mn=/(\${workspace})/s,$n=/(\${allok})/s,Yn={allok:$n},jn={editor:Hn,workspace:Mn},se={pre:Un,post:Xn},Io={wrn:Gn},wo={src:Bn},Ao={err:Fn},Po={problemPlaceholderContentText:jn,allOkPlaceholderContentText:Yn,allOkContentText:se,okWorkspaceContentText:se,okEditorContentText:se,warningWorkspaceContentText:{...se,...wo,...Io},warningEditorContentText:{...se,...Io},errorWorkspaceContentText:{...se,...wo,...Ao},errorEditorContentText:{...se,...Ao}},Kn=/(\${col})/s,Vn=/(\${zCol})/s,mt=/(\${lc})/s,ke=/(\${ln})/s,Ve=/(\${char})/s,zn=/(\${nth})/s,qn=/(\${count})/s,Uo={cursorOnlyText:{col:Kn,zCol:Vn,ln:ke},singleLineText:{char:Ve,ln:ke},multiLineCursorText:{lc:mt,ln:ke,char:Ve},multiLineAnchorText:{lc:mt,ln:ke,char:Ve},multiCursorText:{nth:zn,count:qn,lc:mt,ln:ke,char:Ve}},Xo=e=>new RegExp(`^( {${e}}|[\r
]+)*$`,"gm"),ze=/^[%\.].*[%\.]$/s,Bo=/(\t|[\r\n]+)*$/gm;var Go=/(\${[A-z]*})/g,Fo=/\${([^{}]+)}/s;var me=g(require("vscode"));var ce={...ho},Ct={...mo},C={[H]:[],[M]:[],[Y]:[],[$]:[],[k]:[]},G={...Ee},jo=(e,t)=>{G.isWholeLine=!0,G.rangeBehavior=me.DecorationRangeBehavior.ClosedClosed,e!==k&&(C[e].splice(0),C[e].push(...ce[e].contentText.map((o,n)=>(G.after={...o.after},me.window.createTextEditorDecorationType(o)))))},Ho=(e,t=0)=>{let o=e.selection.active.character+t,n=e.document.lineAt(e.selection.active.line).text.length+t;return o===n?o:o+"/"+n},Jn={col:({editor:e})=>Ho(e,1),zCol:({editor:e})=>Ho(e)},Qn={char:({editor:e})=>e.selection.end.character-e.selection.start.character},qe={ln:({editor:e})=>e.selection.active.line+1},Mo={lc:Ge,char:Fe},Zn={[Ge]:e=>e.selection.end.line-e.selection.start.line+1,[Fe]:e=>e.document.getText(e.selection).replace(Ct[he],"").length},er={nth:({idx:e})=>e+1,count:({editor:e})=>e.selections.length,ln:({idx:e,editor:t})=>t.selections[e].end.line+1,lc:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line,i=r?1:e.selections[0].end.line-e.selections[0].start.line+1;for(;t<n;)o=o+i,t++;return o},char:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line;for(;t<n;){if(r)o=o+(e.selections[t].end.character-e.selections[t].start.character);else{let i=e.document.getText(e.selections[t]);o=o+i.replace(Ct[he],"").length}t++}return o}},tr={cursorOnlyText:{...Jn,...qe},singleLineText:{...qe,...Qn},multiLineCursorText:{...qe,...Mo},multiLineAnchorText:{...qe,...Mo},multiCursorText:er},Lt=(e,t,o)=>(n,r)=>{o.renderOptions=n,typeof n.after.contentText!="string"&&(G.after={...n.after},G.after.contentText=String(G.after.contentText(t)),o.renderOptions=G),t.editor.setDecorations(e[r],[o])},Rt=(e,t)=>{bt(e);let o={idx:0,editor:e},n=C[H],r={range:K(e.selection.active),renderOptions:{}};ce[H].contentText.forEach(Lt(n,o,r))},yt=(e,t)=>{Je(e.setDecorations,t);let o={idx:0,editor:e},n=C[M],r={range:K(e.selection.active),renderOptions:{}};ce[M].contentText.forEach(Lt(n,o,r))},$o=(e,t,o,n,r)=>(i,s)=>{if(o.range=n,o.renderOptions=i,typeof i.after.contentText!="string"){let a=i.after.contentText;r[a]===null&&(r[a]=Zn[a](me.window.activeTextEditor)),G.after={...i.after},G.after.contentText=String(r[a]),o.renderOptions=G}e(t[s],[o])},Yo={range:void 0,renderOptions:void 0},ht=(e,t)=>{l!==t[0]&&Je(e.setDecorations,t);let o={[Ge]:null,[Fe]:null};ce[Y].contentText.forEach($o(e.setDecorations,C[Y],{...Yo},K(e.selection.anchor),o)),ce[$].contentText.forEach($o(e.setDecorations,C[$],{...Yo},K(e.selection.active),o))},Nt=(e,t)=>{Je(e.setDecorations,t);let o=[],n=ce[k].contentText,r={idx:e.selections.length,editor:e};for(;r.idx--;){if(new Set(o).has(e.selections[r.idx].end.line))continue;let s=n.map(c=>me.window.createTextEditorDecorationType(c)),a={range:Do(e.selections[r.idx]),renderOptions:{}};n.forEach(Lt(s,r,a)),C[k].push(s),o.push(e.selections[r.idx].end.line)}},bt=e=>{for(let t of Oe)Je(e.setDecorations,[t])},or=e=>t=>{e(t,R),t.dispose()},Je=(e,t)=>{switch(t[0]){case T:C[H].forEach(ae(e));break;case u:C[M].forEach(ae(e));break;case l:C[Y].forEach(ae(e)),C[$].forEach(ae(e));break;case p:for(let o of C[k])o.forEach(or(e));C[k].splice(0);break;default:break}},Ni={[T]:(e,t)=>Rt(e,t),[u]:(e,t)=>yt(e,t),[l]:(e,t)=>ht(e,t),[p]:(e,t)=>Nt(e,t)},Qe=()=>({functionOf:tr,textOf:ce,infoOf:Ct});var Ze=Symbol("prefix"),et=Symbol("postfix");var tt=g(require("vscode"));var L={...yo},ve={},kt=()=>{L.editor.warning.line.splice(0),L.editor.error.line.splice(0),L.editor.warning.total=0,L.editor.error.total=0},rr=()=>{L.workspace.warning.source=0,L.workspace.warning.total=0,L.workspace.error.source=0,L.workspace.error.total=0},Vo=e=>{L.override=e},ir=(e,t,o,n=void 0)=>{Object.keys(t).forEach(r=>{t[r].length>0&&(e.workspace[r].source+=1,e.workspace[r].total+=t[r].length),o===n&&(e.editor[r].line=[...new Set([...e.editor[r].line,...t[r].map(i=>i.range.start.line)])],e.editor[r].total=0,e.editor[r].total=t[r].length)})},sr=(e,t,o)=>{for(let n of t)if(n.severity<=tt.DiagnosticSeverity.Warning){typeof e[o.fsPath]!="object"&&(e[o.fsPath]={});let r=go[n.severity];Array.isArray(e[o.fsPath][r])||(e[o.fsPath][r]=[]),e[o.fsPath][r].push(n)}},ar=e=>{let t=e.editor.error.total!==0||e.editor.warning.total!==0,o=e.workspace.error.total!==0||e.workspace.warning.total!==0;if(!t&&!o)return 1;let n=e.editor.warning.total<=e.editor.error.total&&t?4:2,r=e.workspace.warning.total<=e.workspace.error.total&&o?4:2;return Math.max(n,r)},ot=(e=void 0)=>{for(let o in ve)delete ve[o];rr();let t=tt.languages.getDiagnostics();for(let[o,n]of t)sr(ve,n,o);for(let[o,n]of Object.entries(ve))ir(L,n,o,e?.fsPath);return e&&!Object.hasOwn(ve,e.fsPath)&&kt(),L.severity=ar(L),L};var St={...No},Ce={...bo},Se={[O]:[],[v]:[],[S]:[],[D]:[],[I]:[],[w]:[],[A]:[],[P]:[],[U]:[],[X]:[],[B]:[]},_=(e,t)=>{Se[e].push(...t)},qo=()=>{ko.forEach(e=>{Se[e].forEach(t=>t.dispose()),St[e].splice(0),Se[e].splice(0)})},cr={...gt},lr={allok:He},dr={editor:Me,workspace:$e},le={pre:Ze,post:et},Jo=(e,t)=>{let o=[],n=e.length,r=!1,i=!1,s=!1;for(;n--;){if(e[n]>t&&!i)i=!0;else if(e[n]<t&&!r)r=!0;else if(e[n]===t&&!s){s=!0,i=!1,r=!1;break}if(i&&r)break}return o.push(Ce[ue],s?Ce[_e]:"",r?Ce[fe]:"",i?Ce[ge]:"",Ce[xe]),o.join("")},Tr={wrn:({state:e,line:t})=>String(e.editor.warning.total)+Jo(e.editor.warning.line,t)},pr={err:({state:e,line:t})=>String(e.editor.error.total)+Jo(e.editor.error.line,t)},ur={src:({state:e})=>String(e.workspace.warning.source)},xr={wrn:({state:e})=>String(e.workspace.warning.total)},_r={src:({state:e})=>String(e.workspace.error.source)},fr={err:({state:e})=>String(e.workspace.error.total)},Qo={rangeFunction:Ke,problemPlaceholderContentText:dr,allOkPlaceholderContentText:lr,allOkContentText:le,okWorkspaceContentText:le,okEditorContentText:le,warningEditorContentText:{...le,...Tr},warningWorkspaceContentText:{...le,...ur,...xr},errorEditorContentText:{...le,...pr},errorWorkspaceContentText:{...le,..._r,...fr}},gr=e=>{let t=(e.editor.warning.total?2:0)|(e.editor.error.total?4:0),o=(e.workspace.warning.total?2:0)|(e.workspace.error.total?4:0);return t===0&&o===0?e.override:(t?t<<5:32)|(o?o<<2:4)|2},Dt=(e,t)=>{Se[t[0]]?.forEach(ae(e))},Wt={...Ee},Er=(e,t,o,n)=>(r,i)=>{Wt.after={...r.after},typeof r.after.contentText!="string"&&(Wt.after.contentText=r.after.contentText(n)),o.renderOptions=Wt,e.setDecorations(Se[t][i],[o])},zo={range:{},renderOptions:{}},vt={state:{},line:{}},nt=e=>t=>{Dt(t.setDecorations,e.diagnosticSignature);let o=ot(t.document.uri),n=gr(o);vt.state=o,vt.line=t.selection.start.line,zo.range=Qo.rangeFunction(t),St[n].forEach(Er(t,n,{...zo},vt)),e.diagnosticSignature[0]=n},rt=()=>({functionOf:Qo,textOf:{contentText:St,glyphList:Ce},configOf:cr});var wt={...Co},Zo=e=>It.window.createTextEditorDecorationType(e),J=(e,t,o)=>e(t,o),ae=e=>t=>e(t,R),it=e=>{e.appliedHighlight[0]=T,e.diagnosticSignature[0]=O},Or=e=>{Gt(e),bt(e),Dt(e.setDecorations,wt.diagnosticSignature)},Le=()=>It.window.visibleTextEditors.forEach(Or),At=e=>{let t=Qe();t.infoOf.size=Number(e.options.tabSize??e.options.indentSize??4),t.infoOf.type=e.options.insertSpaces?`
`:"	",t.infoOf.regex=e.options.insertSpaces?Xo(t.infoOf.size):Bo},st=e=>{V[T].splice(0),V[u].splice(0),V[l].splice(0),V[p].splice(0);let t=rt(),o={[T]:t.configOf.displayWhenCursorOnly,[u]:t.configOf.displayWhenSingleLine,[l]:t.configOf.displayWhenMultiLine,[p]:t.configOf.displayWhenMultiCursor},n={[T]:Pt,[u]:Ut,[l]:Xt,[p]:Bt},r={[T]:Rt,[u]:yt,[l]:ht,[p]:Nt};Oe.forEach(i=>{let s=[];s.push(n[i]),e.generalConfigInfo.selectionTextEnabled&&s.push(r[i]),e.generalConfigInfo.diagnosticTextEnabled&&o[i]&&s.push(nt(wt)),V[i].push(...s)})},V={[T]:[],[u]:[],[l]:[],[p]:[]},mr=(e,t)=>o=>o(e,t),Re=(e,t)=>{let o=mr(e,t);return e.selections.length===1?e.selections[0].isEmpty?(V[T].forEach(o),T):e.selections[0].isSingleLine?(V[u].forEach(o),u):(V[l].forEach(o),l):(V[p].forEach(o),p)},en=()=>({stateOf:wt});var y={...Lo},Cr={...Ro},Pt=(e,t)=>{Gt(e),J(e.setDecorations,y[T][0],[K(e.selection.active)])},Ut=(e,t)=>{de(e.setDecorations,t,R),J(e.setDecorations,y[u][0],[je(e.selection.start,e.selection.end)])},Xt=(e,t)=>{l!==t[0]&&de(e.setDecorations,t,R),J(e.setDecorations,y[l][0],[K(e.selection.start)]),J(e.setDecorations,y[l][1],[K(e.selection.end)]),J(e.setDecorations,y[l][2],[e.selection])},Bt=(e,t)=>{de(e.setDecorations,t,R),J(e.setDecorations,y[p][0],e.selections.reduce((o,n)=>(o.push(je(n.start,n.active)),o),[])),J(e.setDecorations,y[p][1],e.selections.reduce((o,n)=>(o.push(Wo(n.active.line,0,n.active.line,n.active.character)),o),[]))},at=(e,t)=>o=>e(o,t),de=(e,t,o)=>{switch(t[0]){case T:y[T].forEach(at(e,o));break;case u:y[u].forEach(at(e,o));break;case l:y[l].forEach(at(e,o));break;case p:y[p].forEach(at(e,o));break;default:break}},Gt=e=>{de(e.setDecorations,[T],R),de(e.setDecorations,[u],R),de(e.setDecorations,[l],R),de(e.setDecorations,[p],R)},zi={[T]:(e,t)=>Pt(e,t),[u]:(e,t)=>Ut(e,t),[l]:(e,t)=>Xt(e,t),[p]:(e,t)=>Bt(e,t)};var tn=()=>({styleOf:y,infoOf:Cr});var dn=g(require("vscode"));var De=g(require("vscode"));var Ft=class{#e;#t;constructor(t,o){this.#e=t,this.#t=o}get(){return{section:this.#e,message:this.#t}}},Ht=class{static ignored=!1;static notified=!1;static packageName;static errorList=[];static configurationSectionList(){return this.errorList.map(t=>t.get().section)}static ifExtensionName(t){return t.indexOf(this.packageName)!==-1&&t.split(".").length>2?t.replace(this.packageName+".",""):t}static pushErrorMessage(){return De.window.showErrorMessage("Please revise invalid values in configuration.","Fix Configuration","Ignore")}static userSelect(t){return function(o){return o==="Fix Configuration"?(De.commands.executeCommand("workbench.action.openSettings",t),!1):!0}}static fixConfiguration(){return async()=>{this.ignored=await this.pushErrorMessage().then(this.userSelect(this.configurationSectionList().join(" ")))}}static pushMessage(t){return()=>De.window.showInformationMessage(t)?.then(()=>{})}},E=class extends Ht{static configurationUpdated(){this.notified=!1,this.ignored=!1}static setPackageName(t){this.packageName=t}static check(){return this.errorList.length>0}static register(t,o){return this.errorList.push(new Ft(t,o))}static clear(){this.errorList.splice(0)}static notify(t=0){if(this.check()&&!this.notified&&!this.ignored){this.notified=!0,setTimeout(this.fixConfiguration(),t);return}setTimeout(this.pushMessage("Config has been updated succeefully. Configuration Reloaded... (Messaage Dismiss in 2 second.)"),t)}};var ct=g(require("vscode"));var on=()=>{let e=z("editor");e.update("renderLineHighlight","gutter",ct.ConfigurationTarget.Global),e.update("roundedSelection",!1,ct.ConfigurationTarget.Global)};var Ie=e=>{if(!(!e||e==="null"||e.length===0||ze.test(e)))return e},nn=e=>e.filter(t=>t!==void 0&&t.length>0||typeof t!="string"),rn=e=>e==="null"||e.length===0?null:e;var lt=(e,t,o,n)=>{let r=n||4,i=[];for(;r--;)e>>r&1?i.push(Array.isArray(t)?t[r]:t):i.push(o);return i};var sn=(e,t)=>{let o=e.match(t),n=[];if(o&&o.index!==void 0)return n=e.split(t),n[0].length===0?(delete n[0],{position:0,array:[...n]}):n[2].length===0?(delete n[2],{position:1,array:[...n]}):{position:1,array:n}},q=(e,t=.6,o,n)=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(c=>c+c).join("")),/^[0-9A-Fa-f]{6}$/.test(e)||(e=o.replace(/^#/,""),t=n);let i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return`rgba(${i}, ${s}, ${a}, ${t})`};var an=g(require("vscode"));var cn=e=>`0 0 0 ${e}`,Lr=e=>{if(e)return{...e,array:e.array.filter(t=>t!==void 0)}},dt=(e,t)=>{let o={...e};return o.after={...e.after},o.after.contentText=t,o},Rr=(e,t,o,n,r,i)=>{let s=Lr(sn(r.nextSearchString,n));s&&(Object.hasOwn(t,o)&&(s.array[s.position]=t[o]),i?(e.contentText?.push(...s.array),e.position[r.lastPosition+s.position]=o):s.position===0?(e.contentText?.push(s.array[0]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[1],r.lastPosition=r.lastPosition+s.position+1):s.position===1&&s.array.length===2?(e.position[r.lastPosition+s.position]=o,e.contentText?.push(...s.array)):s.position===1&&s.array.length===3&&(e.contentText?.push(s.array[0],s.array[1]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[2],r.lastPosition=r.lastPosition+s.position+1))},ln=(e,t,o,n,r)=>{let i=e.match(Go);if(i!==null&&Object.hasOwn(n,t)){i.length>Object.keys(n[t]).length&&E.register(r+"."+t,"numbers of placeholder exceed availability");let s={nextSearchString:e,lastPosition:0};o.textOf[t].contentText=[],i.forEach((a,c)=>{let d=a.match(Fo);d&&(Object.hasOwn(n[t],d[1])?Rr(o.textOf[t],o.functionOf[t],d[1],n[t][d[1]],s,c===i.length-1):E.register(r+"."+t,`Invalid placeholder '${d[1]}' is set in user configration. Load default value instead for now. Please revise the value entered.`))}),o.textOf[t].contentText=nn(o.textOf[t].contentText)}else o.textOf[t].contentText=[e]},we=(e,t=!0,o=void 0)=>{let n={...Ee};if(n.isWholeLine=t,n.rangeBehavior=an.DecorationRangeBehavior.ClosedOpen,n.after={...so},o&&(n.after.contentText=o),!!e.color)return n.after.color=q(e.color,e.colorOpacity,"#333333",.7),e.backgroundColor&&e.backgroundColor!=="null"&&e.backgroundColor.length>0?n.after.backgroundColor=q(e.backgroundColor,e.backgroundOpacity,"#333333",.7):delete n.after.backgroundColor,e.fontWeight!=="normal"?n.after.fontWeight=e.fontWeight:delete n.after.fontWeight,e.fontStyle!=="normal"?n.after.fontStyle=e.fontStyle:delete n.after.fontStyle,delete n.after.margin,delete n.after.textDecoration,n};var z=e=>dn.workspace.getConfiguration(e),Mt={borderColor:{of:"borderOpacity",fn:(e,t,o)=>q(e,t,o)},backgroundColor:{of:"backgroundOpacity",fn:(e,t,o)=>q(e,t,o)}},Ae=(e,t,o,n)=>{try{let r=e.get(t,o);return r===void 0&&console.warn(`Config value for ${t} is undefined or caused an error. Using default value.`),typeof r=="string"?rn(r):r}catch(r){return n&&E.register(n+"."+t,`Failed to get config value for ${n+"."+t}:`),console.error(`Failed to get config value for ${e+"."+t}:`,r),e.inspect(t)?.defaultValue}},Pe=(e,t,o,n,r)=>{Object.entries(e).forEach(([i,s])=>{if(typeof s!="object"){let a=Ae(z(t),i,"not found",t);if(a&&r&&n&&o&&o.includes(i)){let c={contentText:[],position:{}};n.textOf[i]={...c},ln(a,i,n,r,t)}Object.hasOwn(e,i)&&a!==void 0&&(e[i]=a)}else Pe(e[i],t+"."+i,o,n)})};var yr=e=>e,hr=(e,t)=>{let o=no[t],n=Oo,r=z(e.name+"."+o);return Object.entries(n).reduce((i,[s,a])=>{let c=Ae(r,yr(s),a,e.name+"."+o);if(c!=null)if(Object.hasOwn(Mt,s)){let d=Mt[s];i[s]=d.fn(c,e.generalConfigInfo[d.of],a)}else i[s]=c;return i},{})},Nr=e=>(e.border=`${e.borderStyle} ${e.borderColor};`,delete e.borderStyle,delete e.borderColor,e),br=(e,t,o)=>{try{let n=o(e,t);if(!n||n.length===0)return;let r=n.reduce((i,s)=>{let a={...e};return a.borderWidth=s,i.push(a),i},[]).reduce((i,s,a)=>(t===l&&a!==2&&delete s.backgroundColor,i.push(Zo(Nr(s))),i),[]);return r.length===0?void 0:r}catch(n){console.log("creating decoration type thrown error:",t,n);return}},kr=(e,t)=>{if(Object.hasOwn(Ye,t))return Object.hasOwn(Ye[t],String(e.borderPosition))?Wr(e,Ye[t][e.borderPosition]):void 0},Wr=(e,t)=>{let o=[];for(let n of t){let r=lt(n,String(e.borderWidth),"0");o.push(r.join(" "))}return o},vr=(e,t)=>{let o=t.replaceAll(" ","").split("|"),n=!1,r=!1,i=!1,s=!1,a=!1;return o.length>1&&(n=/isWholeLine/s.test(o[1]),r=/beforeCursor/s.test(o[1]),i=/afterCursor/s.test(o[1]),s=/atLineStart/s.test(o[1]),a=/selectionOnly/s.test(o[1]),e===l&&o[0]==="left"&&(n=!0)),{isWholeLine:n,borderPosition:o[0],beforeCursor:r,afterCursor:i,atLineStart:s,selectionOnly:a}},$t=e=>{for(let t in e.generalConfigInfo)if(t==="diagnosticTextEnabled"||t==="selectionTextEnabled"){let o=eo[t],n=z(e.name+"."+o[0]),r=Ae(n,o[1],Et[t],e.name+"."+o[0]);e.generalConfigInfo[t]=r}else{let o=z(e.name+"."+j.general);e.generalConfigInfo[t]=Ae(o,t,Et[t],e.name+"."+j.general)}},ye=(e,t)=>{let o=tn();o.styleOf[t]&&o.styleOf[t].forEach(s=>s.dispose());let n=hr(e,t),r=vr(t,String(n.borderPosition));o.infoOf[t]=r,n.borderPosition=r.borderPosition,n.isWholeLine=r.isWholeLine;let i=br(n,t,kr);if(!i)return!1;o.styleOf[t]=i,delete o.styleOf,delete o.infoOf},Tn=e=>{$t(e);for(let t of Oe)ye(e,t);return!0};var Yt=g(require("vscode"));var pn={borderOpacity:"general.borderOpacity",backgroundOpacity:"general.backgroundOpacity",statusTextEnabled:"selectionText.enabled",statusTextIconEnabled:"selectionText.iconEnabled",statusTextColor:"selectionText.color",statusTextBackgroundColor:"selectionText.backgroundColor",statusTextOpacity:"selectionText.opacity",statusTextFontStyle:"selectionText.fontStyle",statusTextFontWeight:"selectionText.fontWeight",cursorOnlyBorderColor:"cursorOnly.borderColor",cursorOnlyBackgroundColor:"cursorOnly.backgroundColor",cursorOnlyBorderPosition:"cursorOnly.borderPosition",cursorOnlyBorderWidth:"cursorOnly.borderWidth",cursorOnlyBorderStyle:"cursorOnly.borderStyle",cursorOnlyBorderStyleWithafterCursor:"cursorOnly.borderStyleWithafterCursor",singleLineBorderColor:"singleLine.borderColor",singleLineBackgroundColor:"singleLine.backgroundColor",singleLine:"singleLine.borderPosition",singleLineBorderWidth:"singleLine.borderWidth",singleLineBorderStyle:"singleLine.borderStyle",multiLineBorderColor:"multiLine.borderColor",multiLineBackgroundColor:"multiLine.backgroundColor",multiLineBorderPosition:"multiLine.borderPosition",multiLineBorderWidth:"multiLine.borderWidth",multiLineBorderStyle:"multiLine.borderStyle",multiCursorBorderColor:"multiCursor.borderColor",multiCursorBackgroundColor:"multiCursor.backgroundColor",multiCursorBorderPosition:"multiCursor.borderPosition",multiCursorBorderWidth:"multiCursor.borderWidth",multiCursorBorderStyle:"multiCursor.borderStyle"},Sr=(e,t,o)=>e.update(t,o,Yt.ConfigurationTarget.Global),Dr=(e,t)=>e.update(t,void 0,Yt.ConfigurationTarget.Global),un=async e=>{let t=z(e.name);Object.entries(t).forEach(async([o,n])=>{if((typeof n=="string"||typeof n=="number"||typeof n=="boolean")&&Object.hasOwn(pn,o)){let r=pn[o];await Sr(t,r,n),await Dr(t,o)}})};var Ir=(e,t)=>e.contentText.map((o,n)=>{let r=typeof o=="string"?t.placeholderDecorationOption:t.selectionDecorationOption[e.position[n]],i=dt(r,o);return typeof o=="symbol"&&(e.position[n]=i.after.contentText),i}).filter(o=>o!==void 0),wr=(e,t)=>{t.placeholderDecorationOption=we(e,!0),Object.keys(t.selectionDecorationOption).forEach((o,n)=>{let r={color:e.selectionCountTextStyle[o],colorOpacity:e.selectionCountTextStyle.opacity,fontStyle:e.selectionCountTextStyle.fontStyle,fontWeight:e.selectionCountTextStyle.fontWeight};t.selectionDecorationOption[o]=we(r,!0)})},Ar=(e,t,o,n)=>{Object.entries(t).forEach(([r,i],s)=>{let a=Ir(i,o),c=to[r];e[c]={contentText:a,position:Object.entries(i.position)},(n&&n!=="0px"||n!=="0em")&&e[c].contentText[0]&&(e[c].contentText[0].after.margin=cn(n)),jo(c,e[c].contentText.length)})},Ue=(e,t=!1)=>{let o={...oo},n={...io},r=Qe(),i={functionOf:r.functionOf,textOf:{}};return Pe(o,e.name+"."+j.selectionText,ro,i,Uo),wr(o,n),Ar(r.textOf,i.textOf,n,o.leftMargin),delete r.functionOf,delete r.infoOf,delete r.textOf,delete i.textOf,delete i.functionOf,!0};var F=g(require("vscode"));var Pr=["pre","post"],Ur={pre:"prefix",post:"postfix"},Xr=(e,t,o)=>{let n,r=t.sidePadding!=="null"?t.sidePadding:null,i=t.topDownPadding!=="null"?t.topDownPadding:null,s=`;margin-left:${o}`;for(let a of Object.values(e))t.borderRadius&&(a[0].after.textDecoration=`;border-top-left-radius:${t.borderRadius};border-bottom-left-radius:${t.borderRadius};padding-left:${r}`,a[a.length-1].after.textDecoration=`;border-top-right-radius:${t.borderRadius};border-bottom-right-radius:${t.borderRadius};padding-right:${r}`),o!=="0px"&&o!=="0em"&&o&&(console.log(a[0].after.contentText),a[0].after.textDecoration+=`;margin-left:${o}`);t.backgroundColor!=="null"&&(n=q(t.backgroundColor,t.backgroundOpacity,"#333333",.7),Object.entries(e).forEach(([a,c])=>{c.forEach((d,x)=>{e[a][x].after.backgroundColor=n,x!==0&&(e[a][x].after.textDecoration=e[a][x].after.textDecoration?.replace(s,"")),i&&(e[a][x].after.textDecoration+=`;padding-top:${i};padding-bottom:${i}`)})}))},Br=({textPosition:e,primaryStyle:t,secondaryStyle:o,notation:n,leftMargin:r})=>e.contentText.map((i,s)=>{let a=e.position[s],c=t;if(Pr.includes(a)){if(!Object.hasOwn(n,Ur[a]))return;c=o}return dt(c,i)}).filter(i=>i!==void 0),Gr=(e,t,o,n,r="")=>{let i=(a,c,d,x)=>{if(Object.hasOwn(c[d],x)){c[d][x].notation&&(a.notation=c[d][x].notation);let f=Br(a);c[d][x].contentText=f}};Object.entries(o).forEach(([a,c])=>{let d=uo[a],x={textPosition:c,primaryStyle:n.diagonosticDecorationOption[d[0]],secondaryStyle:d[1]?n.diagonosticDecorationOption[d[1]]:null,notation:[],leftMargin:r};["workspace","editor","all","layout"].forEach(f=>{i(x,e,f,xo[a])})});let s=a=>a.contentText.map(c=>(c.after.contentText===Ze&&(c.after.contentText=a.notation.prefix?a.notation.prefix:void 0),c.after.contentText===et&&(c.after.contentText=a.notation.postfix?a.notation.postfix:void 0),c)).filter(c=>c.after.contentText!==void 0);e.layout[Q].contentText.forEach(a=>{if(a.after.contentText===He){let c=s(e.all[be]);_(O,c.map(d=>F.window.createTextEditorDecorationType(d))),t[O].push(...c)}else _(O,[F.window.createTextEditorDecorationType(a)]),t[O].push({...a})}),e.layout[Z].contentText.forEach(a=>{if(a.after.contentText===Me){let d=s(e.editor[ee]),x=s(e.editor[te]),f=s(e.editor[oe]);t[v].push(...d),t[S].push(...d),t[D].push(...d),t[I].push(...d),t[w].push(...x),t[A].push(...x),t[P].push(...x),t[U].push(...f),t[X].push(...f),t[B].push(...x,...f);let pe=d.map(b=>F.window.createTextEditorDecorationType(b)),h=x.map(b=>F.window.createTextEditorDecorationType(b)),N=f.map(b=>F.window.createTextEditorDecorationType(b));_(v,pe),_(S,pe),_(D,pe),_(I,pe),_(w,h),_(A,h),_(P,h),_(U,N),_(X,N),_(B,[...h,...N]);return}if(a.after.contentText===$e){let d=s(e.workspace[ne]),x=s(e.workspace[re]),f=s(e.workspace[ie]);t[v].push(...d),t[S].push(...x),t[D].push(...f),t[I].push(...x,...f),t[w].push(...x),t[A].push(...f),t[P].push(...x,...f),t[U].push(...f),t[X].push(...x,...f),t[B].push(...x,...f);let pe=d.map(b=>F.window.createTextEditorDecorationType(b)),h=x.map(b=>F.window.createTextEditorDecorationType(b)),N=f.map(b=>F.window.createTextEditorDecorationType(b));_(v,pe),_(S,h),_(D,N),_(I,[...h,...N]),_(w,h),_(A,N),_(P,[...h,...N]),_(U,N),_(X,[...h,...N]),_(B,[...h,...N]);return}let c=F.window.createTextEditorDecorationType(a);Ot.forEach(d=>{t[d].push({...a}),_(d,[c])})})},xn=(e,t)=>t!=="null"&&t.length>0&&!ze.test(t)?{[e]:t}:{},Fr=(e,t,o)=>({[e]:{...po,notation:{...xn("prefix",t),...xn("postfix",o)}}}),jt=(e,t,o,n)=>{let r=o+"Prefix",i=o+"Postfix";if(e[t][r]!==void 0&&e[t][i]!==void 0)return Fr(n[t],e[t][r],e[t][i])},Hr=(e,t)=>{let o={},n={},r={1:{styleName:"okNotationTextStyle",target:[n,o]},2:{styleName:"warningNotationTextStyle",target:[n]},4:{styleName:"errorNotationTextStyle",target:[n]}};return Object.entries(r).forEach(([i,s])=>{t&Number(i)&&e[s.styleName]&&s.target.forEach(a=>{a[i]={color:q(e[s.styleName].color,e[s.styleName].colorOpacity,"#333333",.7)}})}),{[Z]:{override:Object.keys(n).length>0?n:void 0},[Q]:{override:Object.keys(o).length>0?o:void 0}}},Mr=(e,t,o,n,r)=>{let i={workspace:{},editor:{},all:{},layout:{[Z]:{},[Q]:{}}};e.leftMargin&&(t.leftMargin=e.leftMargin),o.forEach(c=>{let d={color:Ie(e[c].color),colorOpacity:e[c].colorOpacity,backgroundColor:Ie(e[c].backgroundColor),backgroundOpacity:e[c].backgroundOpacity,fontStyle:Ie(e[c].fontStyle),fontWeight:Ie(e[c].fontWeight)};t.diagonosticDecorationOption[c]=we(d,!0),i.workspace={...i.workspace,...jt(e,c,"workspace",lo)},i.editor={...i.editor,...jt(e,c,"editor",co)},i.all={...i.all,...jt(e,c,"all",To)}});let s=r.workspace|r.editor,a=n.overrideLayoutPlaceholderColorToHighestSeverity?Hr(e,s):void 0;return{...i,layout:{[Z]:{},[Q]:{},...a}}},_n=(e=!1,t=!1)=>{let o=7;return o^=e?1:0,o^=t?2:0,o},$r=e=>{let t=7,o=7;return e.DiagnosticKind==="workspace Only"&&(o=0,t&=_n(e.hideOk,e.hideWarning)),e.DiagnosticKind==="editor Only"&&(t=0,o&=_n(e.hideOk,e.hideWarning)),{workspace:t,editor:o}},Yr=(()=>{let e=[..._o];return e.reverse().push(["0","0"]),e})(),jr=e=>[...lt(e,Yr,0,4).filter(t=>t!==0).flat(),"diagnosticPlaceholderTextStyle"],Kr=e=>{let t=e.textOf;for(let o in t.layout)o.override&&delete o.override},Vr=(e,t)=>{e[ue]=t.openningBracket,e[xe]=t.closingBracket,e[_e]=t.lineEqual,e[fe]=t.lineUp,e[ge]=t.lineDown},zr=(e,t)=>{if(t.placeTextOnPreviousOrNextLine==="previousLine"){e.rangeFunction=vo;return}if(t.placeTextOnPreviousOrNextLine==="nextLine"){e.rangeFunction=So;return}e.rangeFunction=Ke},Xe=(e,t=!1)=>{let o={...ao},n={...Eo},r={layout:{},editor:{},workspace:{},all:{}},i=rt(),s={functionOf:i.functionOf,textOf:{}};t&&(Kr(i),qo()),Pe(o,e.name+"."+j.diagnosticText,fo,s,Po);let a=$r(o.visibility),c=jr(a.workspace|a.editor);return Object.assign(r,Mr(o,n,c,o.visibility,a)),Object.assign(i.configOf,o.visibility),Gr(r,i.textOf.contentText,s.textOf,n,o.leftMargin),Xr(i.textOf.contentText,o.diagnosticPlaceholderTextStyle,o.leftMargin),Vr(i.textOf.glyphList,o.glyphList),zr(i.functionOf,o.visibility),Vo(o.visibility.overrideAllOk?O:v),delete s.textof,delete s.functionOf,delete i.visibilityOf,delete i.functionOf,delete i.textOf.contentText,delete i.textOf.glyphList,delete i.textof,delete i.configOf,!0};var Kt={...Zt},fn=e=>{let t=e?.extension.packageJSON.name;if(!t||(Kt.name=t,!Kt.name))return;let o=Kt,n=en().stateOf;if(o.configError||(o.configError=[],un(o)),on(),Tn(o))return o.generalConfigInfo.selectionTextEnabled&&Ue(o),o.generalConfigInfo.diagnosticTextEnabled&&Xe(o),{config:o,decoration:n}};var Te=g(require("vscode"));var gn=({decorationState:e})=>Te.window.onDidChangeWindowState(t=>{t.focused?Te.window.activeTextEditor&&(e.appliedHighlight[0]=Re(Te.window.activeTextEditor,[T])):Le(),!t.focused&&!t.active&&(Le(),console.log("idling"))}),En=({configInfo:e,decorationState:t})=>Te.window.onDidChangeActiveTextEditor(async o=>{o&&(E.check()&&E.notify(1500),Le(),e.generalConfigInfo.diagnosticTextEnabled&&(await kt(),await ot(o.document.uri)),At(o),t.appliedHighlight[0]=Re(o,[T]))}),On=e=>Te.window.onDidChangeTextEditorOptions(t=>{t.textEditor&&At(t.textEditor)}),mn=({decorationState:e})=>Te.window.onDidChangeTextEditorSelection(t=>{e.appliedHighlight[0]=Re(t.textEditor,e.appliedHighlight)});var Cn=g(require("vscode"));var Ln=({configInfo:e,decorationState:t})=>Cn.workspace.onDidChangeConfiguration(o=>{if(o){let n=Object.keys(j).find(r=>o.affectsConfiguration(e.name+"."+r));if(n){E.configurationUpdated();try{let r={general:()=>$t(e),cursorOnly:()=>ye(e,T),singleLine:()=>ye(e,u),multiLine:()=>ye(e,l),multiCursor:()=>ye(e,p),selectionText:()=>{Xe(e,!0),Ue(e,!0)},diagnosticText:()=>{Ue(e,!0),Xe(e,!0)}};r[n](),r.general()}catch(r){console.log("confugration update failed. Will notify user.",r)}finally{st(e),it(t),Le()}}}});var Tt=g(require("vscode"));var Rn=({decorationState:e})=>Tt.languages.onDidChangeDiagnostics(async t=>{let o=Tt.window.activeTextEditor;o&&t&&nt(e)(o)});var yn=async e=>{try{await e.extension.activate(),E.setPackageName(e.extension.packageJSON.name);let t=await fn(e);if(!t){console.error("Failed to initialize config.");return}let o=t.config,n=Vt.window.activeTextEditor,r={configInfo:o,decorationState:t.decoration};return st(o),n&&(it(t.decoration),t.decoration.appliedHighlight[0]=Re(n,[T])),[gn(r),En(r),mn(r),On(r),Rn(r),Ln(r)]}catch(t){console.error("Error during extension initialization: ",t),Vt.window.showErrorMessage("Extension initialization failed!",t)}};function ei(e){yn(e).then(t=>{t&&e.subscriptions.push(...t)})}function ti(){}0&&(module.exports={activate,deactivate});
