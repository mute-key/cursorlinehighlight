"use strict";var er=Object.create;var je=Object.defineProperty;var tr=Object.getOwnPropertyDescriptor;var or=Object.getOwnPropertyNames;var nr=Object.getPrototypeOf,rr=Object.prototype.hasOwnProperty;var ir=(e,t)=>{for(var o in t)je(e,o,{get:t[o],enumerable:!0})},Zt=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of or(t))!rr.call(e,r)&&r!==o&&je(e,r,{get:()=>t[r],enumerable:!(n=tr(t,r))||n.enumerable});return e};var g=(e,t,o)=>(o=e!=null?er(nr(e)):{},Zt(t||!e||!e.__esModule?je(o,"default",{value:e,enumerable:!0}):o,e)),sr=e=>Zt(je({},"__esModule",{value:!0}),e);var Ui={};ir(Ui,{activate:()=>Pi,deactivate:()=>Ai});module.exports=sr(Ui);var qt=g(require("vscode"));var Ct=g(require("vscode"));var Qt=16,eo=17,We=18;var De=256,d=257,u=258,T=259,p=260;var K=513,V=514,Y=515,z=516,W=517;var $e=518,Ke=519;var gt=769,Et=770,Ot=771;var oe=777,ne=778,Ie=776,re=779,ie=780,se=781,ae=782,ce=783,le=784;var Ve=790,Ye=791,ze=792;var fe=793,ge=794,Ee=795,Oe=796,me=797;var O=37,D=38,P=42,A=50,U=58,G=74,B=82,X=90,H=146,F=154,M=218;var to=4097,Je=4098,oo=4099;var no=4353;var I={general:"general",cursorOnly:"cursorOnly",singleLine:"singleLine",multiLine:"multiLine",multiCursor:"multiCursor",selectionText:"selectionText",diagnosticText:"diagnosticText"},io={name:void 0,renderLimiter:void 0,updateCaller:void 0,generalConfigInfo:{borderOpacity:void 0,backgroundOpacity:void 0,selectionTextEnabled:void 0,diagnosticTextEnabled:void 0},configError:void 0},so={selectionTextEnabled:["selectionText","enabled"],diagnosticTextEnabled:["diagnosticText","enabled"]},ao={cursorOnlyText:K,singleLineText:V,multiLineCursorText:Y,multiLineAnchorText:z,multiCursorText:W},co={enabled:void 0,color:void 0,colorOpacity:void 0,backgroundColor:void 0,backgroundOpacity:void 0,fontStyle:void 0,fontWeight:void 0,leftMargin:void 0,cursorOnlyText:void 0,singleLineText:void 0,multiLineCursorText:void 0,multiLineAnchorText:void 0,multiCursorText:void 0,selectionCountTextStyle:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0,opacity:void 0,fontStyle:void 0,fontWeight:void 0}},lo={[d]:"cursorOnly",[u]:"singleLine",[T]:"multiLine",[p]:"multiCursor"},To=["cursorOnlyText","singleLineText","multiLineCursorText","multiLineAnchorText","multiCursorText"],uo={leftMargin:void 0,placeholderDecorationOption:{},selectionDecorationOption:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0}},Ce={isWholeLine:void 0,rangeBehavior:void 0,after:{}},po={contentText:void 0,color:void 0,backgroundColor:void 0,fontWeight:void 0,fontStyle:void 0,textDecoration:void 0,margin:void 0},Yi={[De]:{KEY:De,MASK:15},[d]:{KEY:d,MASK:1},[u]:{KEY:u,MASK:2},[T]:{KEY:T,MASK:4},[p]:{KEY:p,MASK:8}},Lt={DiagnosticKind:void 0,placeTextOnPreviousOrNextLine:void 0,overrideLayoutPlaceholderColorToHighestSeverity:void 0,overrideAllOk:void 0},lr={openningBracket:void 0,closingBracket:void 0,lineEqual:void 0,lineUp:void 0,lineDown:void 0},_o={enabled:void 0,leftMargin:void 0,visibility:Lt,glyphList:lr,problemPlaceholderContentText:void 0,allOkPlaceholderContentText:void 0,allOkContentText:void 0,diagnosticPlaceholderTextStyle:void 0,okNotationTextStyle:void 0,okTextStyle:void 0,okWorkspaceContentText:void 0,okEditorContentText:void 0,warningNotationTextStyle:void 0,warningTextStyle:void 0,warningWorkspaceContentText:void 0,warningEditorContentText:void 0,errorNotationTextStyle:void 0,errorTextStyle:void 0,errorWorkspaceContentText:void 0,errorEditorContentText:void 0},xo={okNotationTextStyle:re,warningNotationTextStyle:ie,errorNotationTextStyle:se},fo={okNotationTextStyle:ae,warningNotationTextStyle:ce,errorNotationTextStyle:le},go={okNotationTextStyle:Ie},Eo={contentText:void 0,notation:void 0},Oo={allOkPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],allOkContentText:["okTextStyle","okNotationTextStyle"],problemPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],okEditorContentText:["okTextStyle","okNotationTextStyle"],warningEditorContentText:["warningTextStyle","warningNotationTextStyle"],errorEditorContentText:["errorTextStyle","errorNotationTextStyle"],okWorkspaceContentText:["okTextStyle","okNotationTextStyle"],warningWorkspaceContentText:["warningTextStyle","warningNotationTextStyle"],errorWorkspaceContentText:["errorTextStyle","errorNotationTextStyle"]},mo={problemPlaceholderContentText:ne,allOkPlaceholderContentText:oe,allOkContentText:Ie,okEditorContentText:re,warningEditorContentText:ie,errorEditorContentText:se,okWorkspaceContentText:ae,warningWorkspaceContentText:ce,errorWorkspaceContentText:le},Co=[["okNotationTextStyle","okTextStyle"],["warningNotationTextStyle","warningTextStyle"],["errorNotationTextStyle","errorTextStyle"]],Lo=["problemPlaceholderContentText","allOkPlaceholderContentText","okWorkspaceContentText","okEditorContentText","allOkContentText","warningWorkspaceContentText","warningEditorContentText","errorWorkspaceContentText","errorEditorContentText"],Ro={[Ct.DiagnosticSeverity.Warning]:"warning",[Ct.DiagnosticSeverity.Error]:"error"},ho={leftMargin:void 0,diagonosticDecorationOption:{diagnosticPlaceholderTextStyle:void 0,okTextStyle:void 0,okNotationTextStyle:void 0,warningTextStyle:void 0,warningNotationTextStyle:void 0,errorTextStyle:void 0,errorNotationTextStyle:void 0}},mt={none:[0],bottom:[2,0],"top-bottom":[10],"top-right-bottom-left":[15,0],left:[1]},dr={none:[0,0,0],"top-bottom":[8,2,0],left:[1,1,1]},qe={[d]:mt,[u]:mt,[T]:dr,[p]:mt},yo={isWholeLine:!1,borderWidth:"2px",borderStyle:"dotted",borderColor:"#ff0000",borderPosition:"bottom",backgroundColor:"#ff0000"},Rt={borderOpacity:1,backgroundOpacity:.5,selectionTextEnabled:!1},zi={selectionTextColor:"#FF0000",selectionTextOpacity:1,selectionTextBackgroundColor:null,selectionTextFontStyle:"normal",selectionTextFontWeight:"bold"};var No={[Qt]:void 0,[eo]:void 0,[We]:void 0},bo={appliedHighlight:[0],diagnosticSignature:[0],eventTrigger:[0],previousLine:[0]},Le=[d,u,T,p],ko={[De]:[],[d]:[],[u]:[],[T]:[],[p]:[]},vo={[d]:void 0,[u]:void 0,[T]:void 0,[p]:void 0},So={override:0,severity:0,editor:{warning:{line:[],total:0},error:{line:[],total:0}},workspace:{warning:{source:0,total:0},error:{source:0,total:0}}},Wo={[K]:void 0,[V]:void 0,[Y]:void 0,[z]:void 0,[W]:void 0},Do={[O]:[],[D]:[],[P]:[],[A]:[],[U]:[],[G]:[],[B]:[],[X]:[],[H]:[],[F]:[],[M]:[]},ht=[P,A,U,G,B,X,H,F,M],Io={[fe]:void 0,[ge]:void 0,[Ee]:void 0,[Oe]:void 0,[me]:void 0},wo=[O,D,...ht],qi={[gt]:re,[Et]:ie,[Ot]:se},Zi={[gt]:ae,[Et]:ce,[Ot]:le};var C=g(require("vscode")),Po=(e,t,o,n)=>new C.Range(new C.Position(e,t),new C.Position(o,n)),Ze=(e,t)=>new C.Range(e,t);var Qe=e=>{let t=new C.Position(e.selection.end.line,e.selection.end.character);return new C.Range(t,t)},Ao=(e,t=1)=>{let o=e.selection.end.line,n=new C.Position(e.selection.start.line!==0?o-t:o,e.selection.end.character);return new C.Range(n,n)},Uo=(e,t=1)=>{let o=new C.Position(e.selection.end.line+t,e.selection.end.character);return new C.Range(o,o)},J=e=>new C.Range(e,e),Go=e=>Ze(e.start,e.end),N=[];var Gt=g(require("vscode"));var ur=/(\${pre})/s,pr=/(\${post})/s,_r=/(\${src})/s,xr=/(\${wrn})/s,fr=/(\${err})/s,gr=/(\${editor})/s,Er=/(\${workspace})/s,Or=/(\${allok})/s,mr={allok:Or},Cr={editor:gr,workspace:Er},de={pre:ur,post:pr},Bo={wrn:xr},Xo={src:_r},Ho={err:fr},Fo={problemPlaceholderContentText:Cr,allOkPlaceholderContentText:mr,allOkContentText:de,okWorkspaceContentText:de,okEditorContentText:de,warningWorkspaceContentText:{...de,...Xo,...Bo},warningEditorContentText:{...de,...Bo},errorWorkspaceContentText:{...de,...Xo,...Ho},errorEditorContentText:{...de,...Ho}},Lr=/(\${col})/s,Rr=/(\${zCol})/s,yt=/(\${lc})/s,we=/(\${ln})/s,et=/(\${char})/s,hr=/(\${nth})/s,yr=/(\${count})/s,Mo={cursorOnlyText:{col:Lr,zCol:Rr,ln:we},singleLineText:{char:et,ln:we},multiLineCursorText:{lc:yt,ln:we,char:et},multiLineAnchorText:{lc:yt,ln:we,char:et},multiCursorText:{nth:hr,count:yr,lc:yt,ln:we,char:et}},jo=e=>new RegExp(`^( {${e}}|[\r
]+)*$`,"gm"),tt=/^[%\.].*[%\.]$/s,$o=/(\t|[\r\n]+)*$/gm;var Ko=/(\${[A-z]*})/g,Vo=/\${([^{}]+)}/s;var Re=g(require("vscode"));var ot=(e,t,o,n)=>{let r=n||4,i=[];for(;r--;)e>>r&1?i.push(Array.isArray(t)?t[r]:t):i.push(o);return i};var Yo=(e,t)=>{let o=e.match(t),n=[];if(o&&o.index!==void 0)return n=e.split(t),n[0].length===0?(delete n[0],{position:0,array:[...n]}):n[2].length===0?(delete n[2],{position:1,array:[...n]}):{position:1,array:n}},q=(e,t=.6,o,n)=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(c=>c+c).join("")),/^[0-9A-Fa-f]{6}$/.test(e)||(e=o.replace(/^#/,""),t=n);let i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return`rgba(${i}, ${s}, ${a}, ${t})`};var zo=(e,t)=>e-t;var ue={...Wo},Nt={...No},L={[K]:[],[V]:[],[z]:[],[Y]:[],[W]:[]},j={...Ce},en=(e,t)=>{j.isWholeLine=!0,j.rangeBehavior=Re.DecorationRangeBehavior.ClosedClosed,e!==W&&(L[e].splice(0),L[e].push(...ue[e].contentText.map((o,n)=>(j.after={...o.after},Re.window.createTextEditorDecorationType(o)))))},Jo=(e,t=0)=>{let o=e.selection.active.character+t,n=e.document.lineAt(e.selection.active.line).text.length+t;return o===n?o:o+"/"+n},Nr={col:({editor:e})=>Jo(e,1),zCol:({editor:e})=>Jo(e)},br={char:({editor:e})=>e.selection.end.character-e.selection.start.character},nt={ln:({editor:e})=>e.selection.active.line+1},qo={lc:$e,char:Ke},kr={[$e]:e=>e.selection.end.line-e.selection.start.line+1,[Ke]:e=>e.document.getText(e.selection).replace(Nt[We],"").length},vr={nth:({idx:e})=>e,count:({editor:e})=>e.selections.length,ln:({idx:e,editor:t})=>t.selections[e].end.line+1,lc:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line,i=r?1:e.selections[0].end.line-e.selections[0].start.line+1;for(;t<n;)o=o+i,t++;return o},char:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line;for(;t<n;){if(r)o=o+(e.selections[t].end.character-e.selections[t].start.character);else{let i=e.document.getText(e.selections[t]);o=o+i.replace(Nt[We],"").length}t++}return o}},Sr={cursorOnlyText:{...Nr,...nt},singleLineText:{...nt,...br},multiLineCursorText:{...nt,...qo},multiLineAnchorText:{...nt,...qo},multiCursorText:vr},bt=(e,t,o)=>(n,r)=>{o.renderOptions=n,typeof n.after.contentText!="string"&&(j.after={...n.after},j.after.contentText=String(j.after.contentText(t)),o.renderOptions=j),t.editor.setDecorations(e[r],[o])},kt=(e,t)=>{Dt(e);let o={idx:0,editor:e},n=L[K],r={range:J(e.selection.active),renderOptions:{}};ue[K].contentText.forEach(bt(n,o,r))},vt=(e,t)=>{rt(e.setDecorations,t);let o={idx:0,editor:e},n=L[V],r={range:J(e.selection.active),renderOptions:{}};ue[V].contentText.forEach(bt(n,o,r))},Zo=(e,t,o,n,r)=>(i,s)=>{if(o.range=n,o.renderOptions=i,typeof i.after.contentText!="string"){let a=i.after.contentText;r[a]===null&&(r[a]=kr[a](Re.window.activeTextEditor)),j.after={...i.after},j.after.contentText=String(r[a]),o.renderOptions=j}e(t[s],[o])},Qo={range:void 0,renderOptions:void 0},St=(e,t)=>{T!==t[0]&&rt(e.setDecorations,t);let o={[$e]:null,[Ke]:null};ue[z].contentText.forEach(Zo(e.setDecorations,L[z],{...Qo},J(e.selection.anchor),o)),ue[Y].contentText.forEach(Zo(e.setDecorations,L[Y],{...Qo},J(e.selection.active),o))},Wt=(e,t)=>{rt(e.setDecorations,t);let o={},n=[],r=ue[W].contentText,i=0;for(;i<e.selections.length;){let c=e.selections[i].start.line;if(Object.hasOwn(o,c)||(o[c]=[0,void 0]),new Set(n).has(e.selections[i].end.line)){o[e.selections[i].start.line][0]+=1,i++;continue}o[e.selections[i].start.line][0]+=1,o[e.selections[i].start.line][1]=e.selections[i],n.push(e.selections[i].end.line),i++}let s=1,a={idx:0,editor:e};for(let c of Object.keys(o).map(l=>Number(l)).sort(zo)){let l=r.map(y=>Re.window.createTextEditorDecorationType(y)),_={range:Go(o[c][1]),renderOptions:{}},f=[];for(let y=s;y<s+o[c][0];y++)f.push(y);a.idx=f.join(","),r.forEach(bt(l,a,_)),L[W].push(l),s+=o[c][0]}},Dt=e=>{Le.forEach(t=>rt(e.setDecorations,[t]))},Wr=e=>t=>{e(t,N),t.dispose()},rt=(e,t)=>{switch(t[0]){case d:L[K].forEach(Te(e));break;case u:L[V].forEach(Te(e));break;case T:L[z].forEach(Te(e)),L[Y].forEach(Te(e));break;case p:for(let o of L[W])o.forEach(Wr(e));L[W].splice(0);break;default:break}},ls={[d]:(e,t)=>kt(e,t),[u]:(e,t)=>vt(e,t),[T]:(e,t)=>St(e,t),[p]:(e,t)=>Wt(e,t)},it=()=>({functionOf:Sr,textOf:ue,infoOf:Nt});var st=Symbol("prefix"),at=Symbol("postfix");var lt=g(require("vscode"));var R={...So},It=()=>{R.editor.warning.line.splice(0),R.editor.error.line.splice(0),R.editor.warning.total=0,R.editor.error.total=0},Ir=()=>{R.workspace.warning.source=0,R.workspace.warning.total=0,R.workspace.error.source=0,R.workspace.error.total=0},wr=(e,t,o,n=void 0)=>{Object.keys(t).forEach(r=>{o===n&&(e.editor[r].line=[...new Set([...e.editor[r].line,...t[r].map(i=>i.range.start.line)])],e.editor[r].total=0,e.editor[r].total=t[r].length),t[r].length>0&&(e.workspace[r].source+=1,e.workspace[r].total+=t[r].length)})},Pr=(e,t,o)=>{for(let n of t)if(n.severity<=lt.DiagnosticSeverity.Warning){typeof e[o.fsPath]!="object"&&(e[o.fsPath]={});let r=Ro[n.severity];Array.isArray(e[o.fsPath][r])||(e[o.fsPath][r]=[]),e[o.fsPath][r].push(n)}},Ar=e=>{let t=e.editor.error.total!==0||e.editor.warning.total!==0,o=e.workspace.error.total!==0||e.workspace.warning.total!==0;if(!t&&!o)return 1;let n=e.editor.warning.total<=e.editor.error.total&&t?4:2,r=e.workspace.warning.total<=e.workspace.error.total&&o?4:2;return Math.max(n,r)},Ur=e=>[e.override,e.severity,[...e.editor.warning.line],e.editor.warning.total,[...e.editor.error.line],e.editor.error.total,e.workspace.warning.source,e.workspace.warning.total,e.workspace.error.source,e.workspace.error.total],ct={},on=e=>{R.override=e},dt=(e=void 0)=>{for(let o in ct)delete ct[o];Ir(),It();let t=lt.languages.getDiagnostics();for(let[o,n]of t)Pr(ct,n,o);for(let[o,n]of Object.entries(ct))wr(R,n,o,e?.fsPath);return R.severity=Ar(R),Ur(R)};var At={...Do},he={...Io},Ae={[O]:[],[D]:[],[P]:[],[A]:[],[U]:[],[G]:[],[B]:[],[X]:[],[H]:[],[F]:[],[M]:[]},x=(e,t)=>{Ae[e].push(...t)},rn=()=>{for(let e of wo)Ae[e].forEach(t=>t.dispose()),Ae[e].splice(0),At[e].splice(0)},Gr={...Lt},Br={allok:Ve},Xr={editor:Ye,workspace:ze},pe={pre:st,post:at},sn=(e,t)=>{let o=[],n=e.length,r=!1,i=!1,s=!1;for(;n--;){if(e[n]>t&&!i)i=!0;else if(e[n]<t&&!r)r=!0;else if(e[n]===t&&!s){s=!0,i=!1,r=!1;break}if(i&&r)break}return o.push(he[fe],s?he[Ee]:"",r?he[Oe]:"",i?he[me]:"",he[ge]),o.join("")},Hr={wrn:({state:e,line:t})=>String(e[3])+sn(e[2],t)},Fr={err:({state:e,line:t})=>String(e[5])+sn(e[4],t)},Mr={src:({state:e})=>String(e[6])},jr={wrn:({state:e})=>String(e[7])},$r={src:({state:e})=>String(e[8])},Kr={err:({state:e})=>String(e[9])},an={rangeFunction:Qe,problemPlaceholderContentText:Xr,allOkPlaceholderContentText:Br,allOkContentText:pe,okWorkspaceContentText:pe,okEditorContentText:pe,warningEditorContentText:{...pe,...Hr},warningWorkspaceContentText:{...pe,...Mr,...jr},errorEditorContentText:{...pe,...Fr},errorWorkspaceContentText:{...pe,...$r,...Kr}},wt={...Ce},Vr=(e,t,o,n)=>(r,i)=>{wt.after={...r.after},typeof r.after.contentText!="string"&&(wt.after.contentText=r.after.contentText(n)),o.renderOptions=wt,e.setDecorations(Ae[t][i],[o])},nn={range:{},renderOptions:{}},Pt={state:{},line:{}},Tt=[0,0,[],0,[],0,0,0,0,0],cn=e=>{Tt[0]=e},Yr=e=>{let t=(e[3]?2:0)|(e[5]?4:0),o=(e[7]?2:0)|(e[9]?4:0);return t===0&&o===0?e[0]:(t?t<<5:32)|(o?o<<2:4)|2},zr=e=>{let t=e.length;for(;t--;)Tt[t]=e[t]},Ut=(e,t)=>{Ae[t[0]]?.forEach(Te(e))},Ue=e=>t=>{if(e.eventTrigger[0]===Je){let n=dt(t.document.uri);zr(n)}let o=Yr(Tt);nn.range=an.rangeFunction(t),Pt.line=t.selection.start.line,Pt.state=Tt,o!==e.diagnosticSignature[0]&&Ut(t.setDecorations,e.diagnosticSignature),At[o].forEach(Vr(t,o,{...nn},Pt)),e.diagnosticSignature[0]=o},ln=()=>({functionOf:an,textOf:{contentText:At,glyphList:he},configOf:Gr});var ye={...bo},dn=e=>Gt.window.createTextEditorDecorationType(e),ee=(e,t,o)=>e(t,o),Te=e=>t=>e(t,N),Tn=e=>{e.eventTrigger[0]=to,e.appliedHighlight[0]=d,e.diagnosticSignature[0]=O},Jr=e=>{jt(e),Dt(e),Ut(e.setDecorations,ye.diagnosticSignature)},te=()=>Gt.window.visibleTextEditors.forEach(Jr),Bt=e=>{let t=it();t.infoOf.size=Number(e.options.tabSize??e.options.indentSize??4),t.infoOf.type=e.options.insertSpaces?`
`:"	",t.infoOf.regex=e.options.insertSpaces?jo(t.infoOf.size):$o},Ne=e=>{Z[d].splice(0),Z[u].splice(0),Z[T].splice(0),Z[p].splice(0);let t={[d]:Xt,[u]:Ht,[T]:Ft,[p]:Mt},o={[d]:kt,[u]:vt,[T]:St,[p]:Wt};Le.forEach(n=>{let r=[];r.push(t[n]),e.generalConfigInfo.selectionTextEnabled&&r.push(o[n]),e.generalConfigInfo.diagnosticTextEnabled&&(n===d||n===u)?r.push(qr):r.push(Ue(ye)),Z[n].push(...r)})},qr=e=>{e.selections[0].start.line!==ye.previousLine[0]&&Ue(ye)(e),ye.previousLine[0]=e.selections[0].start.line},Z={[d]:[],[u]:[],[T]:[],[p]:[]},Zr=(e,t)=>o=>o(e,t),be=(e,t)=>{let o=Zr(e,t);return e.selections.length===1?e.selections[0].isEmpty?(Z[d].forEach(o),d):e.selections[0].isSingleLine?(Z[u].forEach(o),u):(Z[T].forEach(o),T):(Z[p].forEach(o),p)},un=()=>({stateOf:ye});var b={...ko},Qr={...vo},Xt=(e,t)=>{d!==t[0]&&jt(e),ee(e.setDecorations,b[d][0],[J(e.selection.active)])},Ht=(e,t)=>{u!==t[0]&&_e(e.setDecorations,t,N),ee(e.setDecorations,b[u][0],[Ze(e.selection.start,e.selection.end)])},Ft=(e,t)=>{T!==t[0]&&_e(e.setDecorations,t,N),ee(e.setDecorations,b[T][0],[J(e.selection.start)]),ee(e.setDecorations,b[T][1],[J(e.selection.end)]),ee(e.setDecorations,b[T][2],[e.selection])},Mt=(e,t)=>{_e(e.setDecorations,t,N),ee(e.setDecorations,b[p][0],e.selections.reduce((o,n)=>(o.push(Ze(n.start,n.active)),o),[])),ee(e.setDecorations,b[p][1],e.selections.reduce((o,n)=>(o.push(Po(n.active.line,0,n.active.line,n.active.character)),o),[]))},ut=(e,t)=>o=>e(o,t),_e=(e,t,o)=>{switch(t[0]){case d:b[d].forEach(ut(e,o));break;case u:b[u].forEach(ut(e,o));break;case T:b[T].forEach(ut(e,o));break;case p:b[p].forEach(ut(e,o));break;default:break}},jt=e=>{_e(e.setDecorations,[d],N),_e(e.setDecorations,[u],N),_e(e.setDecorations,[T],N),_e(e.setDecorations,[p],N)},Ds={[d]:(e,t)=>Xt(e,t),[u]:(e,t)=>Ht(e,t),[T]:(e,t)=>Ft(e,t),[p]:(e,t)=>Mt(e,t)};var pn=()=>({styleOf:b,infoOf:Qr});var mn=g(require("vscode"));var Ge=g(require("vscode"));var $t=class{#e;#t;constructor(t,o){this.#e=t,this.#t=o}get(){return{section:this.#e,message:this.#t}}},Kt=class{static ignored=!1;static notified=!1;static packageName;static errorList=[];static configurationSectionList(){return this.errorList.map(t=>t.get().section)}static ifExtensionName(t){return t.indexOf(this.packageName)!==-1&&t.split(".").length>2?t.replace(this.packageName+".",""):t}static pushErrorMessage(){return Ge.window.showErrorMessage("Please revise invalid values in configuration.","Fix Configuration","Ignore")}static userSelect(t){return function(o){return o==="Fix Configuration"?(Ge.commands.executeCommand("workbench.action.openSettings",t),!1):!0}}static fixConfiguration(){return async()=>{this.ignored=await this.pushErrorMessage().then(this.userSelect(this.configurationSectionList().join(" ")))}}static pushMessage(t){return()=>Ge.window.showInformationMessage(t)?.then(()=>{})}},E=class extends Kt{static configurationUpdated(){this.notified=!1,this.ignored=!1}static setPackageName(t){this.packageName=t}static check(){return this.errorList.length>0}static register(t,o){return this.errorList.push(new $t(t,o))}static clear(){this.errorList.splice(0)}static notify(t=0){if(this.check()&&!this.notified&&!this.ignored){this.notified=!0,setTimeout(this.fixConfiguration(),t);return}setTimeout(this.pushMessage("Config has been updated succeefully. Configuration Reloaded... (Messaage Dismiss in 2 second.)"),t)}};var pt=g(require("vscode"));var _n=()=>{let e=h("editor");e.update("renderLineHighlight","gutter",pt.ConfigurationTarget.Global),e.update("roundedSelection",!1,pt.ConfigurationTarget.Global)};var Be=e=>{if(!(!e||e==="null"||e.length===0||tt.test(e)))return e},xn=e=>e.filter(t=>t!==void 0&&t.length>0||typeof t!="string"),fn=e=>e==="null"||e.length===0?null:e;var gn=g(require("vscode"));var En=e=>`0 0 0 ${e}`,ti=e=>{if(e)return{...e,array:e.array.filter(t=>t!==void 0)}},_t=(e,t)=>{let o={...e};return o.after={...e.after},o.after.contentText=t,o},oi=(e,t,o,n,r,i)=>{let s=ti(Yo(r.nextSearchString,n));s&&(Object.hasOwn(t,o)&&(s.array[s.position]=t[o]),i?(e.contentText?.push(...s.array),e.position[r.lastPosition+s.position]=o):s.position===0?(e.contentText?.push(s.array[0]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[1],r.lastPosition=r.lastPosition+s.position+1):s.position===1&&s.array.length===2?(e.position[r.lastPosition+s.position]=o,e.contentText?.push(...s.array)):s.position===1&&s.array.length===3&&(e.contentText?.push(s.array[0],s.array[1]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[2],r.lastPosition=r.lastPosition+s.position+1))},On=(e,t,o,n,r)=>{let i=e.match(Ko);if(i!==null&&Object.hasOwn(n,t)){i.length>Object.keys(n[t]).length&&E.register(r+"."+t,"numbers of placeholder exceed availability");let s={nextSearchString:e,lastPosition:0};o.textOf[t].contentText=[],i.forEach((a,c)=>{let l=a.match(Vo);l&&(Object.hasOwn(n[t],l[1])?oi(o.textOf[t],o.functionOf[t],l[1],n[t][l[1]],s,c===i.length-1):E.register(r+"."+t,`Invalid placeholder '${l[1]}' is set in user configration. Load default value instead for now. Please revise the value entered.`))}),o.textOf[t].contentText=xn(o.textOf[t].contentText)}else o.textOf[t].contentText=[e]},Xe=(e,t=!0,o=void 0)=>{let n={...Ce};if(n.isWholeLine=t,n.rangeBehavior=gn.DecorationRangeBehavior.ClosedOpen,n.after={...po},o&&(n.after.contentText=o),!!e.color)return n.after.color=q(e.color,e.colorOpacity,"#333333",.7),e.backgroundColor&&e.backgroundColor!=="null"&&e.backgroundColor.length>0?n.after.backgroundColor=q(e.backgroundColor,e.backgroundOpacity,"#333333",.7):delete n.after.backgroundColor,e.fontWeight!=="normal"?n.after.fontWeight=e.fontWeight:delete n.after.fontWeight,e.fontStyle!=="normal"?n.after.fontStyle=e.fontStyle:delete n.after.fontStyle,delete n.after.margin,delete n.after.textDecoration,n};var h=e=>mn.workspace.getConfiguration(e),Vt={borderColor:{of:"borderOpacity",fn:(e,t,o)=>q(e,t,o)},backgroundColor:{of:"backgroundOpacity",fn:(e,t,o)=>q(e,t,o)}},He=(e,t,o,n)=>{try{let r=e.get(t,o);return r===void 0&&console.warn(`Config value for ${t} is undefined or caused an error. Using default value.`),typeof r=="string"?fn(r):r}catch(r){return n&&E.register(n+"."+t,`Failed to get config value for ${n+"."+t}:`),console.error(`Failed to get config value for ${e+"."+t}:`,r),e.inspect(t)?.defaultValue}},Fe=(e,t,o,n,r)=>{Object.entries(e).forEach(([i,s])=>{if(typeof s!="object"){let a=He(h(t),i,"not found",t);if(a&&r&&n&&o&&o.includes(i)){let c={contentText:[],position:{}};n.textOf[i]={...c},On(a,i,n,r,t)}Object.hasOwn(e,i)&&a!==void 0&&(e[i]=a)}else Fe(e[i],t+"."+i,o,n)})};var ni=e=>e,ri=(e,t)=>{let o=lo[t],n=yo,r=h(e.name+"."+o);return Object.entries(n).reduce((i,[s,a])=>{let c=He(r,ni(s),a,e.name+"."+o);if(c!=null)if(Object.hasOwn(Vt,s)){let l=Vt[s];i[s]=l.fn(c,e.generalConfigInfo[l.of],a)}else i[s]=c;return i},{})},ii=e=>(e.border=`${e.borderStyle} ${e.borderColor};`,delete e.borderStyle,delete e.borderColor,e),si=(e,t,o)=>{try{let n=o(e,t);if(!n||n.length===0)return;let r=n.reduce((i,s)=>{let a={...e};return a.borderWidth=s,i.push(a),i},[]).reduce((i,s,a)=>(t===T&&a!==2&&delete s.backgroundColor,i.push(dn(ii(s))),i),[]);return r.length===0?void 0:r}catch(n){console.log("creating decoration type thrown error:",t,n);return}},ai=(e,t)=>{if(Object.hasOwn(qe,t))return Object.hasOwn(qe[t],String(e.borderPosition))?ci(e,qe[t][e.borderPosition]):void 0},ci=(e,t)=>{let o=[];for(let n of t){let r=ot(n,String(e.borderWidth),"0");o.push(r.join(" "))}return o},li=(e,t)=>{let o=t.replaceAll(" ","").split("|"),n=!1,r=!1,i=!1,s=!1,a=!1;return o.length>1&&(n=/isWholeLine/s.test(o[1]),r=/beforeCursor/s.test(o[1]),i=/afterCursor/s.test(o[1]),s=/atLineStart/s.test(o[1]),a=/selectionOnly/s.test(o[1]),e===T&&o[0]==="left"&&(n=!0)),{isWholeLine:n,borderPosition:o[0],beforeCursor:r,afterCursor:i,atLineStart:s,selectionOnly:a}},Me=e=>{for(let t in e.generalConfigInfo)if(t==="diagnosticTextEnabled"||t==="selectionTextEnabled"){let o=so[t],n=h(e.name+"."+o[0]),r=He(n,o[1],Rt[t],e.name+"."+o[0]);e.generalConfigInfo[t]=r}else{let o=h(e.name+"."+I.general);e.generalConfigInfo[t]=He(o,t,Rt[t],e.name+"."+I.general)}},w=(e,t)=>{let o=pn();o.styleOf[t]&&o.styleOf[t].forEach(s=>s.dispose());let n=ri(e,t),r=li(t,String(n.borderPosition));o.infoOf[t]=r,n.borderPosition=r.borderPosition,n.isWholeLine=r.isWholeLine;let i=si(n,t,ai);if(!i)return!1;o.styleOf[t]=i,delete o.styleOf,delete o.infoOf},Cn=e=>{Me(e);for(let t of Le)w(e,t);return!0};var Yt=g(require("vscode"));var Ln={borderOpacity:"general.borderOpacity",backgroundOpacity:"general.backgroundOpacity",statusTextEnabled:"selectionText.enabled",statusTextIconEnabled:"selectionText.iconEnabled",statusTextColor:"selectionText.color",statusTextBackgroundColor:"selectionText.backgroundColor",statusTextOpacity:"selectionText.opacity",statusTextFontStyle:"selectionText.fontStyle",statusTextFontWeight:"selectionText.fontWeight",cursorOnlyBorderColor:"cursorOnly.borderColor",cursorOnlyBackgroundColor:"cursorOnly.backgroundColor",cursorOnlyBorderPosition:"cursorOnly.borderPosition",cursorOnlyBorderWidth:"cursorOnly.borderWidth",cursorOnlyBorderStyle:"cursorOnly.borderStyle",cursorOnlyBorderStyleWithafterCursor:"cursorOnly.borderStyleWithafterCursor",singleLineBorderColor:"singleLine.borderColor",singleLineBackgroundColor:"singleLine.backgroundColor",singleLine:"singleLine.borderPosition",singleLineBorderWidth:"singleLine.borderWidth",singleLineBorderStyle:"singleLine.borderStyle",multiLineBorderColor:"multiLine.borderColor",multiLineBackgroundColor:"multiLine.backgroundColor",multiLineBorderPosition:"multiLine.borderPosition",multiLineBorderWidth:"multiLine.borderWidth",multiLineBorderStyle:"multiLine.borderStyle",multiCursorBorderColor:"multiCursor.borderColor",multiCursorBackgroundColor:"multiCursor.backgroundColor",multiCursorBorderPosition:"multiCursor.borderPosition",multiCursorBorderWidth:"multiCursor.borderWidth",multiCursorBorderStyle:"multiCursor.borderStyle"},di=(e,t,o)=>e.update(t,o,Yt.ConfigurationTarget.Global),Ti=(e,t)=>e.update(t,void 0,Yt.ConfigurationTarget.Global),Rn=async e=>{let t=h(e.name);Object.entries(t).forEach(async([o,n])=>{if((typeof n=="string"||typeof n=="number"||typeof n=="boolean")&&Object.hasOwn(Ln,o)){let r=Ln[o];await di(t,r,n),await Ti(t,o)}})};var ui=(e,t)=>e.contentText.map((o,n)=>{let r=typeof o=="string"?t.placeholderDecorationOption:t.selectionDecorationOption[e.position[n]],i=_t(r,o);return typeof o=="symbol"&&(e.position[n]=i.after.contentText),i}).filter(o=>o!==void 0),pi=(e,t)=>{t.placeholderDecorationOption=Xe(e,!0),Object.keys(t.selectionDecorationOption).forEach((o,n)=>{let r={color:e.selectionCountTextStyle[o],colorOpacity:e.selectionCountTextStyle.opacity,fontStyle:e.selectionCountTextStyle.fontStyle,fontWeight:e.selectionCountTextStyle.fontWeight};t.selectionDecorationOption[o]=Xe(r,!0)})},_i=(e,t,o,n)=>{Object.entries(t).forEach(([r,i],s)=>{let a=ui(i,o),c=ao[r];e[c]={contentText:a,position:Object.entries(i.position)},(n&&n!=="0px"||n!=="0em")&&e[c].contentText[0]&&(e[c].contentText[0].after.margin=En(n)),en(c,e[c].contentText.length)})},ke=(e,t=!1)=>{let o={...co},n={...uo},r=it(),i={functionOf:r.functionOf,textOf:{}};return Fe(o,e+"."+I.selectionText,To,i,Mo),pi(o,n),_i(r.textOf,i.textOf,n,o.leftMargin),delete r.functionOf,delete r.infoOf,delete r.textOf,delete i.textOf,delete i.functionOf,!0};var $=g(require("vscode"));var xi=["pre","post"],fi={pre:"prefix",post:"postfix"},gi=(e,t,o)=>{let n,r=t.sidePadding!=="null"?t.sidePadding:null,i=t.topDownPadding!=="null"?t.topDownPadding:null,s=`;margin-left:${o}`;for(let a of Object.values(e))t.borderRadius&&(a[0].after.textDecoration=`;border-top-left-radius:${t.borderRadius};border-bottom-left-radius:${t.borderRadius};padding-left:${r}`,a[a.length-1].after.textDecoration=`;border-top-right-radius:${t.borderRadius};border-bottom-right-radius:${t.borderRadius};padding-right:${r}`),o!=="0px"&&o!=="0em"&&o&&(a[0].after.textDecoration+=`;margin-left:${o}`);t.backgroundColor!=="null"&&(n=q(t.backgroundColor,t.backgroundOpacity,"#333333",.7),Object.entries(e).forEach(([a,c])=>{c.forEach((l,_)=>{e[a][_].after.backgroundColor=n,_!==0&&(e[a][_].after.textDecoration=e[a][_].after.textDecoration?.replace(s,"")),i&&(e[a][_].after.textDecoration+=`;padding-top:${i};padding-bottom:${i}`)})}))},Ei=({textPosition:e,primaryStyle:t,secondaryStyle:o,notation:n,leftMargin:r})=>e.contentText.map((i,s)=>{let a=e.position[s],c=t;if(xi.includes(a)){if(!Object.hasOwn(n,fi[a]))return;c=o}return _t(c,i)}).filter(i=>i!==void 0),Oi=(e,t,o,n,r="")=>{let i=(a,c,l,_)=>{if(Object.hasOwn(c[l],_)){c[l][_].notation&&(a.notation=c[l][_].notation);let f=Ei(a);c[l][_].contentText=f}};Object.entries(o).forEach(([a,c])=>{let l=Oo[a],_={textPosition:c,primaryStyle:n.diagonosticDecorationOption[l[0]],secondaryStyle:l[1]?n.diagonosticDecorationOption[l[1]]:null,notation:[],leftMargin:r};["workspace","editor","all","layout"].forEach(f=>{i(_,e,f,mo[a])})});let s=a=>a.contentText.map(c=>(c.after.contentText===st&&(c.after.contentText=a.notation.prefix?a.notation.prefix:void 0),c.after.contentText===at&&(c.after.contentText=a.notation.postfix?a.notation.postfix:void 0),c)).filter(c=>c.after.contentText!==void 0);e.layout[oe].contentText.forEach(a=>{if(a.after.contentText===Ve){let c=s(e.all[Ie]);x(O,c.map(l=>$.window.createTextEditorDecorationType(l))),t[O].push(...c)}else x(O,[$.window.createTextEditorDecorationType(a)]),t[O].push({...a})}),e.layout[ne].contentText.forEach(a=>{if(a.after.contentText===Ye){let l=s(e.editor[re]),_=s(e.editor[ie]),f=s(e.editor[se]);t[D].push(...l),t[P].push(...l),t[A].push(...l),t[U].push(...l),t[G].push(..._),t[B].push(..._),t[X].push(..._),t[H].push(...f),t[F].push(...f),t[M].push(..._,...f);let y=l.map(S=>$.window.createTextEditorDecorationType(S)),k=_.map(S=>$.window.createTextEditorDecorationType(S)),v=f.map(S=>$.window.createTextEditorDecorationType(S));x(D,y),x(P,y),x(A,y),x(U,y),x(G,k),x(B,k),x(X,k),x(H,v),x(F,v),x(M,[...k,...v]);return}if(a.after.contentText===ze){let l=s(e.workspace[ae]),_=s(e.workspace[ce]),f=s(e.workspace[le]);t[D].push(...l),t[P].push(..._),t[A].push(...f),t[U].push(..._,...f),t[G].push(..._),t[B].push(...f),t[X].push(..._,...f),t[H].push(...f),t[F].push(..._,...f),t[M].push(..._,...f);let y=l.map(S=>$.window.createTextEditorDecorationType(S)),k=_.map(S=>$.window.createTextEditorDecorationType(S)),v=f.map(S=>$.window.createTextEditorDecorationType(S));x(D,y),x(P,k),x(A,v),x(U,[...k,...v]),x(G,k),x(B,v),x(X,[...k,...v]),x(H,v),x(F,[...k,...v]),x(M,[...k,...v]);return}let c=$.window.createTextEditorDecorationType(a);ht.forEach(l=>{t[l].push({...a}),x(l,[c])})})},hn=(e,t)=>t!=="null"&&t.length>0&&!tt.test(t)?{[e]:t}:{},mi=(e,t,o)=>({[e]:{...Eo,notation:{...hn("prefix",t),...hn("postfix",o)}}}),zt=(e,t,o,n)=>{let r=o+"Prefix",i=o+"Postfix";if(e[t][r]!==void 0&&e[t][i]!==void 0)return mi(n[t],e[t][r],e[t][i])},Ci=(e,t)=>{let o={},n={},r={1:{styleName:"okNotationTextStyle",target:[n,o]},2:{styleName:"warningNotationTextStyle",target:[n]},4:{styleName:"errorNotationTextStyle",target:[n]}};return Object.entries(r).forEach(([i,s])=>{t&Number(i)&&e[s.styleName]&&s.target.forEach(a=>{a[i]={color:q(e[s.styleName].color,e[s.styleName].colorOpacity,"#333333",.7)}})}),{[ne]:{override:Object.keys(n).length>0?n:void 0},[oe]:{override:Object.keys(o).length>0?o:void 0}}},Li=(e,t,o,n,r)=>{let i={workspace:{},editor:{},all:{},layout:{[ne]:{},[oe]:{}}};e.leftMargin&&(t.leftMargin=e.leftMargin),o.forEach(c=>{let l={color:Be(e[c].color),colorOpacity:e[c].colorOpacity,backgroundColor:Be(e[c].backgroundColor),backgroundOpacity:e[c].backgroundOpacity,fontStyle:Be(e[c].fontStyle),fontWeight:Be(e[c].fontWeight)};t.diagonosticDecorationOption[c]=Xe(l,!0),i.workspace={...i.workspace,...zt(e,c,"workspace",fo)},i.editor={...i.editor,...zt(e,c,"editor",xo)},i.all={...i.all,...zt(e,c,"all",go)}});let s=r.workspace|r.editor,a=n.overrideLayoutPlaceholderColorToHighestSeverity?Ci(e,s):void 0;return{...i,layout:{[ne]:{},[oe]:{},...a}}},yn=(e=!1,t=!1)=>{let o=7;return o^=e?1:0,o^=t?2:0,o},Ri=e=>{let t=7,o=7;return e.DiagnosticKind==="workspace Only"&&(o=0,t&=yn(e.hideOk,e.hideWarning)),e.DiagnosticKind==="editor Only"&&(t=0,o&=yn(e.hideOk,e.hideWarning)),{workspace:t,editor:o}},hi=(()=>{let e=[...Co];return e.reverse().push(["0","0"]),e})(),yi=e=>[...ot(e,hi,0,4).filter(t=>t!==0).flat(),"diagnosticPlaceholderTextStyle"],Ni=e=>{let t=e.textOf;for(let o in t.layout)o.override&&delete o.override},bi=(e,t)=>{e[fe]=t.openningBracket,e[ge]=t.closingBracket,e[Ee]=t.lineEqual,e[Oe]=t.lineUp,e[me]=t.lineDown},ki=(e,t)=>{if(t.placeTextOnPreviousOrNextLine==="previousLine"){e.rangeFunction=Ao;return}if(t.placeTextOnPreviousOrNextLine==="nextLine"){e.rangeFunction=Uo;return}e.rangeFunction=Qe},ve=(e,t=!1)=>{let o={..._o},n={...ho},r={layout:{},editor:{},workspace:{},all:{}},i=ln(),s={functionOf:i.functionOf,textOf:{}};t&&(Ni(i),rn()),Fe(o,e+"."+I.diagnosticText,Lo,s,Fo);let a=o.visibility.overrideAllOk?O:D,c=Ri(o.visibility),l=yi(c.workspace|c.editor);return Object.assign(r,Li(o,n,l,o.visibility,c)),Object.assign(i.configOf,o.visibility),Oi(r,i.textOf.contentText,s.textOf,n,o.leftMargin),gi(i.textOf.contentText,o.diagnosticPlaceholderTextStyle,o.leftMargin),bi(i.textOf.glyphList,o.glyphList),ki(i.functionOf,o.visibility),on(a),cn(a),delete s.textof,delete s.functionOf,delete i.visibilityOf,delete i.functionOf,delete i.textOf.contentText,delete i.textOf.glyphList,delete i.textof,delete i.configOf,!0};var Jt={...io},Nn=e=>{let t=e?.extension.packageJSON.name;if(!t||(Jt.name=t,!Jt.name))return;let o=Jt,n=un().stateOf;if(o.configError||(o.configError=[],Rn(o)),_n(),Cn(o))return o.generalConfigInfo.selectionTextEnabled&&ke(o.name),o.generalConfigInfo.diagnosticTextEnabled&&ve(o.name),{config:o,decoration:n}};var Se=g(require("vscode"));var Q=g(require("vscode"));var bn=g(require("path"));var kn=require("node:fs/promises");var vn=e=>t=>{if(t==="Yes"){for(let o of Object.values(I)){let n=h(e.package.extension.packageJSON.name+"."+o);for(let r of Object.keys(n))typeof n[r]!="function"&&r.length>0&&n.update(r,void 0,!0)}Q.window.showInformationMessage("Configuration has been restored to default.")}},Sn=()=>wn("Are you sure to restore to default?"),Wn=async(e,t)=>{try{let o=e.asAbsolutePath(bn.default.join("resource/preset/",t)),n=await(0,kn.readFile)(o,{encoding:"utf-8"});return JSON.parse(n)}catch(o){console.error("Failed to load preset JSON:",o)}},Si=(e,t,o)=>n=>{if(n==="Yes")return In(e,t,o)},Dn=(e,t)=>{let o=h(e);for(let n of Object.keys(t))if(o.inspect(n)?.globalValue)return!0;return!1},In=async(e,t,o)=>{e.updateCaller=no,Q.commands.executeCommand("workbench.view.explorer");let n=h(t),r=Object.keys(o),i=r.length;for(;i--;)if(typeof o[r[i]]=="object"){let s=n.inspect(r[i]);await n.update(r[i],{...s?.globalValue,...o[r[i]]},!0)}else await n.update(r[i],o[r[i]],!0);te(),Me(e),w(e,d),w(e,u),w(e,T),w(e,p),ke(t,!0),ve(t,!0),Ne(e),e.updateCaller=void 0},wn=e=>Q.window.showWarningMessage(e,"Yes","No"),xt=async(e,t,o,n)=>{let r=await Q.window.showQuickPick(t,{placeHolder:n});if(r&&Object.hasOwn(o,r)){let i=e.package.extension.packageJSON.name,s=await Wn(e.package,o[r]),a=Si(e.configInfo,i,s||{});Dn(e.package.extension.packageJSON.name,s)?await wn("Configuration will be overwritten. Proceed?").then(a):await a("Yes")}},Pn=e=>{xt(e,["Detailed","Simple","No Glpyph - Detailed","No Glpyph - Simple","Emoji - Detailed","Emoji - Simple"],{Detailed:"detailed.json",Simple:"simple.json","No Glpyph - Detailed":"no-glyph-detailed.json","No Glpyph - Simple":"no-glyph-simple.json","Emoji - Detailed":"emoji-detailed.json","Emoji - Simple":"emoji-simple.json"}," ... Select the Preset")},An=e=>{xt(e,["Horizontal","Vertical"],{Horizontal:"orientation-horizontal.json",Vertical:"orientation-vertical.json"}," ... Select the Preset Orientation")},Un=e=>{xt(e,["Light","Dark"],{Light:"color-light-theme.json",Dark:"color-dark-theme.json"}," ... Select the Color Contrast")},Gn=e=>{xt(e,["Dim","Bright"],{Dim:"contrast-dim.json",Bright:"contrast-bright.json"}," ... Select the Theme Color")},Bn=async e=>{if(Q.window.activeColorTheme.kind===Q.ColorThemeKind.Light){let t=e.package.extension.packageJSON.name,o=await Wn(e.package,"color-light-theme.json");o&&!Dn(e.package.extension.packageJSON.name,o)&&await In(e.configInfo,t,o)}};var Xn=e=>Se.commands.registerCommand("cursorlinehighlight.applyPreset",()=>Pn(e)),Hn=e=>Se.commands.registerCommand("cursorlinehighlight.setColor",()=>Un(e)),Fn=e=>Se.commands.registerCommand("cursorlinehighlight.setContrast",()=>Gn(e)),Mn=e=>Se.commands.registerCommand("cursorlinehighlight.setOrientation",()=>An(e)),jn=e=>Se.commands.registerCommand("cursorlinehighlight.restoreToDefaultConfiguration",()=>Sn().then(vn(e)));var xe=g(require("vscode"));var $n=({decorationState:e})=>xe.window.onDidChangeWindowState(t=>{t.focused?xe.window.activeTextEditor&&(e.appliedHighlight[0]=be(xe.window.activeTextEditor,[d])):te(),!t.focused&&!t.active&&(te(),console.log("idling"))}),Kn=({configInfo:e,decorationState:t})=>xe.window.onDidChangeActiveTextEditor(async o=>{o&&(E.check()&&E.notify(1500),te(),e.generalConfigInfo.diagnosticTextEnabled&&(await It(),await dt(o.document.uri)),Bt(o),t.appliedHighlight[0]=be(o,[d]))}),Vn=e=>xe.window.onDidChangeTextEditorOptions(t=>{t.textEditor&&Bt(t.textEditor)}),Yn=({decorationState:e})=>xe.window.onDidChangeTextEditorSelection(t=>{e.eventTrigger[0]=oo,e.appliedHighlight[0]=be(t.textEditor,e.appliedHighlight)});var Jn=g(require("vscode"));var zn=(e,t)=>{try{E.configurationUpdated();let o={general:()=>Me(e),cursorOnly:()=>w(e,d),singleLine:()=>w(e,u),multiLine:()=>w(e,T),multiCursor:()=>w(e,p),selectionText:()=>ke(e.name,!0),diagnosticText:()=>ve(e.name,!0)};te(),o[t](),o.general()}catch(o){console.log("confugration update failed. Will notify user.",o)}finally{Ne(e)}};var qn=({configInfo:e,decorationState:t})=>Jn.workspace.onDidChangeConfiguration(o=>{if(o&&e.updateCaller===void 0){let n=Object.keys(I).find(r=>o.affectsConfiguration(e.name+"."+r));n&&zn(e,n)}});var ft=g(require("vscode"));var Zn=({decorationState:e})=>ft.languages.onDidChangeDiagnostics(async t=>{let o=ft.window.activeTextEditor;o&&t&&(e.eventTrigger[0]=Je,Ue(e)(o))});var Qn=async e=>{try{await e.extension.activate(),E.setPackageName(e.extension.packageJSON.name);let t=await Nn(e);if(!t){console.error("Failed to initialize config.");return}let o=t.config,n=qt.window.activeTextEditor,r={configInfo:o,decorationState:t.decoration};Ne(o),n&&(Tn(t.decoration),t.decoration.appliedHighlight[0]=be(n,[d]));let i={package:e,configInfo:o};return Bn(i),[Xn(i),Hn(i),Fn(i),Mn(i),jn(i),$n(r),Kn(r),Yn(r),Vn(r),Zn(r),qn(r)]}catch(t){console.error("Error during extension initialization: ",t),qt.window.showErrorMessage("Extension initialization failed!",t)}};function Pi(e){Qn(e).then(t=>{t&&e.subscriptions.push(...t)})}function Ai(){}0&&(module.exports={activate,deactivate});
