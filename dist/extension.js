"use strict";var or=Object.create;var $e=Object.defineProperty;var nr=Object.getOwnPropertyDescriptor;var rr=Object.getOwnPropertyNames;var ir=Object.getPrototypeOf,sr=Object.prototype.hasOwnProperty;var ar=(e,t)=>{for(var o in t)$e(e,o,{get:t[o],enumerable:!0})},eo=(e,t,o,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of rr(t))!sr.call(e,r)&&r!==o&&$e(e,r,{get:()=>t[r],enumerable:!(n=nr(t,r))||n.enumerable});return e};var g=(e,t,o)=>(o=e!=null?or(ir(e)):{},eo(t||!e||!e.__esModule?$e(o,"default",{value:e,enumerable:!0}):o,e)),cr=e=>eo($e({},"__esModule",{value:!0}),e);var Gi={};ar(Gi,{activate:()=>Ai,deactivate:()=>Ui});module.exports=cr(Gi);var Qt=g(require("vscode"));var Lt=g(require("vscode"));var to=16,oo=17,We=18;var De=256,d=257,p=258,T=259,u=260;var K=513,V=514,Y=515,z=516,D=517;var Ke=518,Ve=519;var Et=769,Ot=770,mt=771;var oe=777,ne=778,Ie=776,re=779,ie=780,se=781,ae=782,ce=783,le=784;var Ye=790,ze=791,Je=792;var fe=793,ge=794,Ee=795,Oe=796,me=797;var O=37,I=38,A=42,U=50,G=58,B=74,X=82,H=90,F=146,M=154,j=218;var no=4097,qe=4098,ro=4099;var io=4353;var w={general:"general",cursorOnly:"cursorOnly",singleLine:"singleLine",multiLine:"multiLine",multiCursor:"multiCursor",selectionText:"selectionText",diagnosticText:"diagnosticText"},ao={name:void 0,renderLimiter:void 0,updateCaller:void 0,generalConfigInfo:{borderOpacity:void 0,backgroundOpacity:void 0,selectionTextEnabled:void 0,diagnosticTextEnabled:void 0},configError:void 0},co={selectionTextEnabled:["selectionText","enabled"],diagnosticTextEnabled:["diagnosticText","enabled"]},lo={cursorOnlyText:K,singleLineText:V,multiLineCursorText:Y,multiLineAnchorText:z,multiCursorText:D},To={enabled:void 0,color:void 0,colorOpacity:void 0,backgroundColor:void 0,backgroundOpacity:void 0,fontStyle:void 0,fontWeight:void 0,leftMargin:void 0,cursorOnlyText:void 0,singleLineText:void 0,multiLineCursorText:void 0,multiLineAnchorText:void 0,multiCursorText:void 0,selectionCountTextStyle:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0,opacity:void 0,fontStyle:void 0,fontWeight:void 0}},po={[d]:"cursorOnly",[p]:"singleLine",[T]:"multiLine",[u]:"multiCursor"},uo=["cursorOnlyText","singleLineText","multiLineCursorText","multiLineAnchorText","multiCursorText"],_o={leftMargin:void 0,placeholderDecorationOption:{},selectionDecorationOption:{ln:void 0,col:void 0,zCol:void 0,char:void 0,lc:void 0,nth:void 0,count:void 0}},Ce={isWholeLine:void 0,rangeBehavior:void 0,after:{}},xo={contentText:void 0,color:void 0,backgroundColor:void 0,fontWeight:void 0,fontStyle:void 0,textDecoration:void 0,margin:void 0},zi={[De]:{KEY:De,MASK:15},[d]:{KEY:d,MASK:1},[p]:{KEY:p,MASK:2},[T]:{KEY:T,MASK:4},[u]:{KEY:u,MASK:8}},Rt={DiagnosticKind:void 0,placeTextOnPreviousOrNextLine:void 0,overrideLayoutPlaceholderColorToHighestSeverity:void 0,overrideAllOk:void 0},Tr={openningBracket:void 0,closingBracket:void 0,lineEqual:void 0,lineUp:void 0,lineDown:void 0},fo={enabled:void 0,leftMargin:void 0,visibility:Rt,glyphList:Tr,problemPlaceholderContentText:void 0,allOkPlaceholderContentText:void 0,allOkContentText:void 0,diagnosticPlaceholderTextStyle:void 0,okNotationTextStyle:void 0,okTextStyle:void 0,okWorkspaceContentText:void 0,okEditorContentText:void 0,warningNotationTextStyle:void 0,warningTextStyle:void 0,warningWorkspaceContentText:void 0,warningEditorContentText:void 0,errorNotationTextStyle:void 0,errorTextStyle:void 0,errorWorkspaceContentText:void 0,errorEditorContentText:void 0},go={okNotationTextStyle:re,warningNotationTextStyle:ie,errorNotationTextStyle:se},Eo={okNotationTextStyle:ae,warningNotationTextStyle:ce,errorNotationTextStyle:le},Oo={okNotationTextStyle:Ie},mo={contentText:void 0,notation:void 0},Co={allOkPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],allOkContentText:["okTextStyle","okNotationTextStyle"],problemPlaceholderContentText:["diagnosticPlaceholderTextStyle",void 0],okEditorContentText:["okTextStyle","okNotationTextStyle"],warningEditorContentText:["warningTextStyle","warningNotationTextStyle"],errorEditorContentText:["errorTextStyle","errorNotationTextStyle"],okWorkspaceContentText:["okTextStyle","okNotationTextStyle"],warningWorkspaceContentText:["warningTextStyle","warningNotationTextStyle"],errorWorkspaceContentText:["errorTextStyle","errorNotationTextStyle"]},Lo={problemPlaceholderContentText:ne,allOkPlaceholderContentText:oe,allOkContentText:Ie,okEditorContentText:re,warningEditorContentText:ie,errorEditorContentText:se,okWorkspaceContentText:ae,warningWorkspaceContentText:ce,errorWorkspaceContentText:le},Ro=[["okNotationTextStyle","okTextStyle"],["warningNotationTextStyle","warningTextStyle"],["errorNotationTextStyle","errorTextStyle"]],ho=["problemPlaceholderContentText","allOkPlaceholderContentText","okWorkspaceContentText","okEditorContentText","allOkContentText","warningWorkspaceContentText","warningEditorContentText","errorWorkspaceContentText","errorEditorContentText"],yo={[Lt.DiagnosticSeverity.Warning]:"warning",[Lt.DiagnosticSeverity.Error]:"error"},No={leftMargin:void 0,diagonosticDecorationOption:{diagnosticPlaceholderTextStyle:void 0,okTextStyle:void 0,okNotationTextStyle:void 0,warningTextStyle:void 0,warningNotationTextStyle:void 0,errorTextStyle:void 0,errorNotationTextStyle:void 0}},Ct={none:[0],bottom:[2,0],"top-bottom":[10],"top-right-bottom-left":[15,0],left:[1]},pr={none:[0,0,0],"top-bottom":[8,2,0],left:[1,1,1]},Ze={[d]:Ct,[p]:Ct,[T]:pr,[u]:Ct},bo={isWholeLine:!1,borderWidth:"2px",borderStyle:"dotted",borderColor:"#ff0000",borderPosition:"bottom",backgroundColor:"#ff0000"},ht={borderOpacity:1,backgroundOpacity:.5,selectionTextEnabled:!1},Ji={selectionTextColor:"#FF0000",selectionTextOpacity:1,selectionTextBackgroundColor:null,selectionTextFontStyle:"normal",selectionTextFontWeight:"bold"};var ko={[to]:void 0,[oo]:void 0,[We]:void 0},vo={appliedHighlight:[0],diagnosticSignature:[0],eventTrigger:[0],previousLine:[0]},Le=[d,p,T,u],So={[De]:[],[d]:[],[p]:[],[T]:[],[u]:[]},Wo={[d]:void 0,[p]:void 0,[T]:void 0,[u]:void 0},Do={override:0,severity:0,editor:{warning:{line:[],total:0},error:{line:[],total:0}},workspace:{warning:{source:0,total:0},error:{source:0,total:0}}},Io={[K]:void 0,[V]:void 0,[Y]:void 0,[z]:void 0,[D]:void 0},wo={[O]:[],[I]:[],[A]:[],[U]:[],[G]:[],[B]:[],[X]:[],[H]:[],[F]:[],[M]:[],[j]:[]},yt=[A,U,G,B,X,H,F,M,j],Po={[fe]:void 0,[ge]:void 0,[Ee]:void 0,[Oe]:void 0,[me]:void 0},Ao=[O,I,...yt],Zi={[Et]:re,[Ot]:ie,[mt]:se},Qi={[Et]:ae,[Ot]:ce,[mt]:le};var C=g(require("vscode")),Uo=(e,t,o,n)=>new C.Range(new C.Position(e,t),new C.Position(o,n)),Qe=(e,t)=>new C.Range(e,t);var et=e=>{let t=new C.Position(e.selection.end.line,e.selection.end.character);return new C.Range(t,t)},Go=(e,t=1)=>{let o=e.selection.end.line,n=new C.Position(e.selection.start.line!==0?o-t:o,e.selection.end.character);return new C.Range(n,n)},Bo=(e,t=1)=>{let o=new C.Position(e.selection.end.line+t,e.selection.end.character);return new C.Range(o,o)},J=e=>new C.Range(e,e),Xo=e=>Qe(e.start,e.end),N=[];var Xt=g(require("vscode"));var _r=/(\${pre})/s,xr=/(\${post})/s,fr=/(\${src})/s,gr=/(\${wrn})/s,Er=/(\${err})/s,Or=/(\${editor})/s,mr=/(\${workspace})/s,Cr=/(\${allok})/s,Lr={allok:Cr},Rr={editor:Or,workspace:mr},de={pre:_r,post:xr},Ho={wrn:gr},Fo={src:fr},Mo={err:Er},jo={problemPlaceholderContentText:Rr,allOkPlaceholderContentText:Lr,allOkContentText:de,okWorkspaceContentText:de,okEditorContentText:de,warningWorkspaceContentText:{...de,...Fo,...Ho},warningEditorContentText:{...de,...Ho},errorWorkspaceContentText:{...de,...Fo,...Mo},errorEditorContentText:{...de,...Mo}},hr=/(\${col})/s,yr=/(\${zCol})/s,Nt=/(\${lc})/s,we=/(\${ln})/s,tt=/(\${char})/s,Nr=/(\${nth})/s,br=/(\${count})/s,$o={cursorOnlyText:{col:hr,zCol:yr,ln:we},singleLineText:{char:tt,ln:we},multiLineCursorText:{lc:Nt,ln:we,char:tt},multiLineAnchorText:{lc:Nt,ln:we,char:tt},multiCursorText:{nth:Nr,count:br,lc:Nt,ln:we,char:tt}},Ko=e=>new RegExp(`^( {${e}}|[\r
]+)*$`,"gm"),ot=/^[%\.].*[%\.]$/s,Vo=/(\t|[\r\n]+)*$/gm;var Yo=/(\${[A-z]*})/g,zo=/\${([^{}]+)}/s;var Re=g(require("vscode"));var nt=(e,t,o,n)=>{let r=n||4,i=[];for(;r--;)e>>r&1?i.push(Array.isArray(t)?t[r]:t):i.push(o);return i};var Jo=(e,t)=>{let o=e.match(t),n=[];if(o&&o.index!==void 0)return n=e.split(t),n[0].length===0?(delete n[0],{position:0,array:[...n]}):n[2].length===0?(delete n[2],{position:1,array:[...n]}):{position:1,array:n}},q=(e,t=.6,o,n)=>{e=e.replace(/^#/,""),e.length===3&&(e=e.split("").map(c=>c+c).join("")),/^[0-9A-Fa-f]{6}$/.test(e)||(e=o.replace(/^#/,""),t=n);let i=parseInt(e.substring(0,2),16),s=parseInt(e.substring(2,4),16),a=parseInt(e.substring(4,6),16);return`rgba(${i}, ${s}, ${a}, ${t})`};var qo=(e,t)=>e-t;var pe={...Io},bt={...ko},L={[K]:[],[V]:[],[z]:[],[Y]:[],[D]:[]},b={...Ce},on=(e,t)=>{b.isWholeLine=!0,b.rangeBehavior=Re.DecorationRangeBehavior.ClosedClosed,e!==D&&(L[e].splice(0),L[e].push(...pe[e].contentText.map((o,n)=>(b.after={...o.after},Re.window.createTextEditorDecorationType(o)))))},Zo=(e,t=0)=>{let o=e.selection.active.character+t,n=e.document.lineAt(e.selection.active.line).text.length+t;return o===n?o:o+"/"+n},kr={col:({editor:e})=>Zo(e,1),zCol:({editor:e})=>Zo(e)},vr={char:({editor:e})=>e.selection.end.character-e.selection.start.character},rt={ln:({editor:e})=>e.selection.active.line+1},Qo={lc:Ke,char:Ve},Sr={[Ke]:e=>e.selection.end.line-e.selection.start.line+1,[Ve]:e=>e.document.getText(e.selection).replace(bt[We],"").length},Wr={nth:({idx:e})=>e,count:({editor:e})=>e.selections.length,ln:({idx:e,editor:t})=>t.selections[e].end.line+1,lc:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line,i=r?1:e.selections[0].end.line-e.selections[0].start.line+1;for(;t<n;)o=o+i,t++;return o},char:({editor:e})=>{let t=0,o=0,n=e.selections.length,r=e.selections[0].start.line===e.selections[0].end.line;for(;t<n;){if(r)o=o+(e.selections[t].end.character-e.selections[t].start.character);else{let i=e.document.getText(e.selections[t]);o=o+i.replace(bt[We],"").length}t++}return o}},Dr={cursorOnlyText:{...kr,...rt},singleLineText:{...rt,...vr},multiLineCursorText:{...rt,...Qo},multiLineAnchorText:{...rt,...Qo},multiCursorText:Wr},kt=(e,t,o)=>(n,r)=>{o.renderOptions=n,typeof n.after.contentText!="string"&&(b.after={...n.after},b.after.contentText=String(b.after.contentText(t)),o.renderOptions=b),t.editor.setDecorations(e[r],[o])},vt=(e,t)=>{It(e);let o={idx:0,editor:e},n=L[K],r={range:J(e.selection.active),renderOptions:{}};pe[K].contentText.forEach(kt(n,o,r))},St=(e,t)=>{it(e.setDecorations,t);let o={idx:0,editor:e},n=L[V],r={range:J(e.selection.active),renderOptions:{}};pe[V].contentText.forEach(kt(n,o,r))},en=(e,t,o,n)=>(r,i)=>{if(Ae[o][0].renderOptions=r,typeof r.after.contentText!="string"){let s=r.after.contentText;n[s]===-1&&(n[s]=Sr[s](Re.window.activeTextEditor)),b.after={...r.after},b.after.contentText=String(n[s]),Ae[o][0].renderOptions=b}e(t[i],Ae[o])},tn={range:{},renderOptions:{}},Ae=[[Object.create({...b})],[Object.create({...b})]],Wt=(e,t)=>{T!==t[0]&&it(e.setDecorations,t);let o={[Ke]:-1,[Ve]:-1};Ae[0][0]={...tn,range:J(e.selection.anchor)},Ae[1][0]={...tn,range:J(e.selection.active)},pe[z].contentText.forEach(en(e.setDecorations,L[z],0,o)),pe[Y].contentText.forEach(en(e.setDecorations,L[Y],1,o))},Dt=(e,t)=>{it(e.setDecorations,t);let o={},n=[],r=pe[D].contentText,i=0;for(;i<e.selections.length;){let c=e.selections[i].start.line;if(Object.hasOwn(o,c)||(o[c]=[0,void 0]),new Set(n).has(e.selections[i].end.line)){o[e.selections[i].start.line][0]+=1,i++;continue}o[e.selections[i].start.line][0]+=1,o[e.selections[i].start.line][1]=e.selections[i],n.push(e.selections[i].end.line),i++}let s=1,a={idx:0,editor:e};for(let c of Object.keys(o).map(l=>Number(l)).sort(qo)){let l=r.map(y=>Re.window.createTextEditorDecorationType(y)),_={range:Xo(o[c][1]),renderOptions:{}},f=[];for(let y=s;y<s+o[c][0];y++)f.push(y);a.idx=f.join(","),r.forEach(kt(l,a,_)),L[D].push(l),s+=o[c][0]}},It=e=>{Le.forEach(t=>it(e.setDecorations,[t]))},Ir=e=>t=>{e(t,N),t.dispose()},it=(e,t)=>{switch(t[0]){case d:L[K].forEach(Te(e));break;case p:L[V].forEach(Te(e));break;case T:L[z].forEach(Te(e)),L[Y].forEach(Te(e));break;case u:for(let o of L[D])o.forEach(Ir(e));L[D].splice(0);break;default:break}},ds={[d]:(e,t)=>vt(e,t),[p]:(e,t)=>St(e,t),[T]:(e,t)=>Wt(e,t),[u]:(e,t)=>Dt(e,t)},st=()=>({functionOf:Dr,textOf:pe,infoOf:bt});var at=Symbol("prefix"),ct=Symbol("postfix");var dt=g(require("vscode"));var R={...Do},wt=()=>{R.editor.warning.line.splice(0),R.editor.warning.total=0,R.editor.error.line.splice(0),R.editor.error.total=0},Pt=()=>{R.workspace.warning.source=0,R.workspace.warning.total=0,R.workspace.error.source=0,R.workspace.error.total=0},Pr=(e,t,o,n=void 0)=>{Object.keys(t).forEach(r=>{o===n&&(e.editor[r].line=[...new Set([...e.editor[r].line,...t[r].map(i=>i.range.start.line)])],e.editor[r].total=0,e.editor[r].total=t[r].length),t[r].length>0&&(e.workspace[r].source+=1,e.workspace[r].total+=t[r].length)})},Ar=(e,t,o)=>{for(let n of t)if(n.severity<=dt.DiagnosticSeverity.Warning){typeof e[o.fsPath]!="object"&&(e[o.fsPath]={});let r=yo[n.severity];Array.isArray(e[o.fsPath][r])||(e[o.fsPath][r]=[]),e[o.fsPath][r].push(n)}},Ur=e=>{let t=e.editor.error.total!==0||e.editor.warning.total!==0,o=e.workspace.error.total!==0||e.workspace.warning.total!==0;if(!t&&!o)return 1;let n=e.editor.warning.total<=e.editor.error.total&&t?4:2,r=e.workspace.warning.total<=e.workspace.error.total&&o?4:2;return Math.max(n,r)},Gr=e=>[e.override,e.severity,[...e.editor.warning.line],e.editor.warning.total,[...e.editor.error.line],e.editor.error.total,e.workspace.warning.source,e.workspace.warning.total,e.workspace.error.source,e.workspace.error.total],lt={},rn=e=>{R.override=e},Tt=(e=void 0)=>{for(let o in lt)delete lt[o];Pt(),wt();let t=dt.languages.getDiagnostics();for(let[o,n]of t)Ar(lt,n,o);for(let[o,n]of Object.entries(lt))Pr(R,n,o,e?.fsPath);return R.severity=Ur(R),Gr(R)};var Gt={...wo},he={...Po},Ue={[O]:[],[I]:[],[A]:[],[U]:[],[G]:[],[B]:[],[X]:[],[H]:[],[F]:[],[M]:[],[j]:[]},x=(e,t)=>{Ue[e].push(...t)},an=()=>{for(let e of Ao)Ue[e].forEach(t=>t.dispose()),Ue[e].splice(0),Gt[e].splice(0)},Br={...Rt},Xr={allok:Ye},Hr={editor:ze,workspace:Je},ue={pre:at,post:ct},cn=(e,t)=>{let o=[],n=e.length,r=!1,i=!1,s=!1;for(;n--;){if(e[n]>t&&!i)i=!0;else if(e[n]<t&&!r)r=!0;else if(e[n]===t&&!s){s=!0,i=!1,r=!1;break}if(i&&r)break}return o.push(he[fe],s?he[Ee]:"",r?he[Oe]:"",i?he[me]:"",he[ge]),o.join("")},Fr={wrn:({state:e,line:t})=>String(e[3])+cn(e[2],t)},Mr={err:({state:e,line:t})=>String(e[5])+cn(e[4],t)},jr={src:({state:e})=>String(e[6])},$r={wrn:({state:e})=>String(e[7])},Kr={src:({state:e})=>String(e[8])},Vr={err:({state:e})=>String(e[9])},ln={rangeFunction:et,problemPlaceholderContentText:Hr,allOkPlaceholderContentText:Xr,allOkContentText:ue,okWorkspaceContentText:ue,okEditorContentText:ue,warningEditorContentText:{...ue,...Fr},warningWorkspaceContentText:{...ue,...jr,...$r},errorEditorContentText:{...ue,...Mr},errorWorkspaceContentText:{...ue,...Kr,...Vr}},At={...Ce},Yr=(e,t,o,n)=>(r,i)=>{At.after={...r.after},typeof r.after.contentText!="string"&&(At.after.contentText=r.after.contentText(n)),o.renderOptions=At,e.setDecorations(Ue[t][i],[o])},sn={range:{},renderOptions:{}},Ut={state:{},line:{}},pt=[0,0,[],0,[],0,0,0,0,0],dn=e=>{pt[0]=e},zr=e=>{let t=(e[3]?2:0)|(e[5]?4:0),o=(e[7]?2:0)|(e[9]?4:0);return t===0&&o===0?e[0]:(t?t<<5:32)|(o?o<<2:4)|2},Jr=e=>{let t=e.length;for(;t--;)pt[t]=e[t]},Bt=(e,t)=>{Ue[t[0]]?.forEach(Te(e))},Ge=e=>t=>{if(e.eventTrigger[0]===qe){let n=Tt(t.document.uri);Jr(n)}let o=zr(pt);sn.range=ln.rangeFunction(t),Ut.line=t.selection.start.line,Ut.state=pt,o!==e.diagnosticSignature[0]&&Bt(t.setDecorations,e.diagnosticSignature),Gt[o].forEach(Yr(t,o,{...sn},Ut)),e.diagnosticSignature[0]=o},Tn=()=>({functionOf:ln,textOf:{contentText:Gt,glyphList:he},configOf:Br});var ye={...vo},pn=e=>Xt.window.createTextEditorDecorationType(e),ee=(e,t,o)=>e(t,o),Te=e=>t=>e(t,N),un=e=>{e.eventTrigger[0]=no,e.appliedHighlight[0]=d,e.diagnosticSignature[0]=O},qr=e=>{Kt(e),It(e),Bt(e.setDecorations,ye.diagnosticSignature)},te=()=>Xt.window.visibleTextEditors.forEach(qr),Ht=e=>{let t=st();t.infoOf.size=Number(e.options.tabSize??e.options.indentSize??4),t.infoOf.type=e.options.insertSpaces?`
`:"	",t.infoOf.regex=e.options.insertSpaces?Ko(t.infoOf.size):Vo},Ne=e=>{Z[d].splice(0),Z[p].splice(0),Z[T].splice(0),Z[u].splice(0);let t={[d]:Ft,[p]:Mt,[T]:jt,[u]:$t},o={[d]:vt,[p]:St,[T]:Wt,[u]:Dt};Le.forEach(n=>{let r=[];r.push(t[n]),e.generalConfigInfo.selectionTextEnabled&&r.push(o[n]),e.generalConfigInfo.diagnosticTextEnabled&&(n===d||n===p)?r.push(Zr):r.push(Ge(ye)),Z[n].push(...r)})},Zr=e=>{e.selections[0].start.line!==ye.previousLine[0]&&Ge(ye)(e),ye.previousLine[0]=e.selections[0].start.line},Z={[d]:[],[p]:[],[T]:[],[u]:[]},Qr=(e,t)=>o=>o(e,t),be=(e,t)=>{let o=Qr(e,t);return e.selections.length===1?e.selections[0].isEmpty?(Z[d].forEach(o),d):e.selections[0].isSingleLine?(Z[p].forEach(o),p):(Z[T].forEach(o),T):(Z[u].forEach(o),u)},_n=()=>({stateOf:ye});var k={...So},ei={...Wo},Ft=(e,t)=>{d!==t[0]&&Kt(e),ee(e.setDecorations,k[d][0],[J(e.selection.active)])},Mt=(e,t)=>{p!==t[0]&&_e(e.setDecorations,t,N),ee(e.setDecorations,k[p][0],[Qe(e.selection.start,e.selection.end)])},jt=(e,t)=>{T!==t[0]&&_e(e.setDecorations,t,N),ee(e.setDecorations,k[T][0],[J(e.selection.start)]),ee(e.setDecorations,k[T][1],[J(e.selection.end)]),ee(e.setDecorations,k[T][2],[e.selection])},$t=(e,t)=>{_e(e.setDecorations,t,N),ee(e.setDecorations,k[u][0],e.selections.reduce((o,n)=>(o.push(Qe(n.start,n.active)),o),[])),ee(e.setDecorations,k[u][1],e.selections.reduce((o,n)=>(o.push(Uo(n.active.line,0,n.active.line,n.active.character)),o),[]))},ut=(e,t)=>o=>e(o,t),_e=(e,t,o)=>{switch(t[0]){case d:k[d].forEach(ut(e,o));break;case p:k[p].forEach(ut(e,o));break;case T:k[T].forEach(ut(e,o));break;case u:k[u].forEach(ut(e,o));break;default:break}},Kt=e=>{_e(e.setDecorations,[d],N),_e(e.setDecorations,[p],N),_e(e.setDecorations,[T],N),_e(e.setDecorations,[u],N)},Is={[d]:(e,t)=>Ft(e,t),[p]:(e,t)=>Mt(e,t),[T]:(e,t)=>jt(e,t),[u]:(e,t)=>$t(e,t)};var xn=()=>({styleOf:k,infoOf:ei});var Ln=g(require("vscode"));var Be=g(require("vscode"));var Vt=class{#e;#t;constructor(t,o){this.#e=t,this.#t=o}get(){return{section:this.#e,message:this.#t}}},Yt=class{static ignored=!1;static notified=!1;static packageName;static errorList=[];static configurationSectionList(){return this.errorList.map(t=>t.get().section)}static ifExtensionName(t){return t.indexOf(this.packageName)!==-1&&t.split(".").length>2?t.replace(this.packageName+".",""):t}static pushErrorMessage(){return Be.window.showErrorMessage("Please revise invalid values in configuration.","Fix Configuration","Ignore")}static userSelect(t){return function(o){return o==="Fix Configuration"?(Be.commands.executeCommand("workbench.action.openSettings",t),!1):!0}}static fixConfiguration(){return async()=>{this.ignored=await this.pushErrorMessage().then(this.userSelect(this.configurationSectionList().join(" ")))}}static pushMessage(t){return()=>Be.window.showInformationMessage(t)?.then(()=>{})}},E=class extends Yt{static configurationUpdated(){this.notified=!1,this.ignored=!1}static setPackageName(t){this.packageName=t}static check(){return this.errorList.length>0}static register(t,o){return this.errorList.push(new Vt(t,o))}static clear(){this.errorList.splice(0)}static notify(t=0){if(this.check()&&!this.notified&&!this.ignored){this.notified=!0,setTimeout(this.fixConfiguration(),t);return}setTimeout(this.pushMessage("Config has been updated succeefully. Configuration Reloaded... (Messaage Dismiss in 2 second.)"),t)}};var _t=g(require("vscode"));var fn=()=>{let e=h("editor");e.update("renderLineHighlight","gutter",_t.ConfigurationTarget.Global),e.update("roundedSelection",!1,_t.ConfigurationTarget.Global)};var Xe=e=>{if(!(!e||e==="null"||e.length===0||ot.test(e)))return e},gn=e=>e.filter(t=>t!==void 0&&t.length>0||typeof t!="string"),En=e=>e==="null"||e.length===0?null:e;var On=g(require("vscode"));var mn=e=>`0 0 0 ${e}`,oi=e=>{if(e)return{...e,array:e.array.filter(t=>t!==void 0)}},xt=(e,t)=>{let o={...e};return o.after={...e.after},o.after.contentText=t,o},ni=(e,t,o,n,r,i)=>{let s=oi(Jo(r.nextSearchString,n));s&&(Object.hasOwn(t,o)&&(s.array[s.position]=t[o]),i?(e.contentText?.push(...s.array),e.position[r.lastPosition+s.position]=o):s.position===0?(e.contentText?.push(s.array[0]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[1],r.lastPosition=r.lastPosition+s.position+1):s.position===1&&s.array.length===2?(e.position[r.lastPosition+s.position]=o,e.contentText?.push(...s.array)):s.position===1&&s.array.length===3&&(e.contentText?.push(s.array[0],s.array[1]),e.position[r.lastPosition+s.position]=o,r.nextSearchString=s.array[2],r.lastPosition=r.lastPosition+s.position+1))},Cn=(e,t,o,n,r)=>{let i=e.match(Yo);if(i!==null&&Object.hasOwn(n,t)){i.length>Object.keys(n[t]).length&&E.register(r+"."+t,"numbers of placeholder exceed availability");let s={nextSearchString:e,lastPosition:0};o.textOf[t].contentText=[],i.forEach((a,c)=>{let l=a.match(zo);l&&(Object.hasOwn(n[t],l[1])?ni(o.textOf[t],o.functionOf[t],l[1],n[t][l[1]],s,c===i.length-1):E.register(r+"."+t,`Invalid placeholder '${l[1]}' is set in user configration. Load default value instead for now. Please revise the value entered.`))}),o.textOf[t].contentText=gn(o.textOf[t].contentText)}else o.textOf[t].contentText=[e]},He=(e,t=!0,o=void 0)=>{let n={...Ce};if(n.isWholeLine=t,n.rangeBehavior=On.DecorationRangeBehavior.ClosedOpen,n.after={...xo},o&&(n.after.contentText=o),!!e.color)return n.after.color=q(e.color,e.colorOpacity,"#333333",.7),e.backgroundColor&&e.backgroundColor!=="null"&&e.backgroundColor.length>0?n.after.backgroundColor=q(e.backgroundColor,e.backgroundOpacity,"#333333",.7):delete n.after.backgroundColor,e.fontWeight!=="normal"?n.after.fontWeight=e.fontWeight:delete n.after.fontWeight,e.fontStyle!=="normal"?n.after.fontStyle=e.fontStyle:delete n.after.fontStyle,delete n.after.margin,delete n.after.textDecoration,n};var h=e=>Ln.workspace.getConfiguration(e),zt={borderColor:{of:"borderOpacity",fn:(e,t,o)=>q(e,t,o)},backgroundColor:{of:"backgroundOpacity",fn:(e,t,o)=>q(e,t,o)}},Fe=(e,t,o,n)=>{try{let r=e.get(t,o);return r===void 0&&console.warn(`Config value for ${t} is undefined or caused an error. Using default value.`),typeof r=="string"?En(r):r}catch(r){return n&&E.register(n+"."+t,`Failed to get config value for ${n+"."+t}:`),console.error(`Failed to get config value for ${e+"."+t}:`,r),e.inspect(t)?.defaultValue}},Me=(e,t,o,n,r)=>{Object.entries(e).forEach(([i,s])=>{if(typeof s!="object"){let a=Fe(h(t),i,"not found",t);if(a&&r&&n&&o&&o.includes(i)){let c={contentText:[],position:{}};n.textOf[i]={...c},Cn(a,i,n,r,t)}Object.hasOwn(e,i)&&a!==void 0&&(e[i]=a)}else Me(e[i],t+"."+i,o,n)})};var ri=e=>e,ii=(e,t)=>{let o=po[t],n=bo,r=h(e.name+"."+o);return Object.entries(n).reduce((i,[s,a])=>{let c=Fe(r,ri(s),a,e.name+"."+o);if(c!=null)if(Object.hasOwn(zt,s)){let l=zt[s];i[s]=l.fn(c,e.generalConfigInfo[l.of],a)}else i[s]=c;return i},{})},si=e=>(e.border=`${e.borderStyle} ${e.borderColor};`,delete e.borderStyle,delete e.borderColor,e),ai=(e,t,o)=>{try{let n=o(e,t);if(!n||n.length===0)return;let r=n.reduce((i,s)=>{let a={...e};return a.borderWidth=s,i.push(a),i},[]).reduce((i,s,a)=>(t===T&&a!==2&&delete s.backgroundColor,i.push(pn(si(s))),i),[]);return r.length===0?void 0:r}catch(n){console.log("creating decoration type thrown error:",t,n);return}},ci=(e,t)=>{if(Object.hasOwn(Ze,t))return Object.hasOwn(Ze[t],String(e.borderPosition))?li(e,Ze[t][e.borderPosition]):void 0},li=(e,t)=>{let o=[];for(let n of t){let r=nt(n,String(e.borderWidth),"0");o.push(r.join(" "))}return o},di=(e,t)=>{let o=t.replaceAll(" ","").split("|"),n=!1,r=!1,i=!1,s=!1,a=!1;return o.length>1&&(n=/isWholeLine/s.test(o[1]),r=/beforeCursor/s.test(o[1]),i=/afterCursor/s.test(o[1]),s=/atLineStart/s.test(o[1]),a=/selectionOnly/s.test(o[1]),e===T&&o[0]==="left"&&(n=!0)),{isWholeLine:n,borderPosition:o[0],beforeCursor:r,afterCursor:i,atLineStart:s,selectionOnly:a}},je=e=>{for(let t in e.generalConfigInfo)if(t==="diagnosticTextEnabled"||t==="selectionTextEnabled"){let o=co[t],n=h(e.name+"."+o[0]),r=Fe(n,o[1],ht[t],e.name+"."+o[0]);e.generalConfigInfo[t]=r}else{let o=h(e.name+"."+w.general);e.generalConfigInfo[t]=Fe(o,t,ht[t],e.name+"."+w.general)}},P=(e,t)=>{let o=xn();o.styleOf[t]&&o.styleOf[t].forEach(s=>s.dispose());let n=ii(e,t),r=di(t,String(n.borderPosition));o.infoOf[t]=r,n.borderPosition=r.borderPosition,n.isWholeLine=r.isWholeLine;let i=ai(n,t,ci);if(!i)return!1;o.styleOf[t]=i,delete o.styleOf,delete o.infoOf},Rn=e=>{je(e);for(let t of Le)P(e,t);return!0};var Jt=g(require("vscode"));var hn={borderOpacity:"general.borderOpacity",backgroundOpacity:"general.backgroundOpacity",statusTextEnabled:"selectionText.enabled",statusTextIconEnabled:"selectionText.iconEnabled",statusTextColor:"selectionText.color",statusTextBackgroundColor:"selectionText.backgroundColor",statusTextOpacity:"selectionText.opacity",statusTextFontStyle:"selectionText.fontStyle",statusTextFontWeight:"selectionText.fontWeight",cursorOnlyBorderColor:"cursorOnly.borderColor",cursorOnlyBackgroundColor:"cursorOnly.backgroundColor",cursorOnlyBorderPosition:"cursorOnly.borderPosition",cursorOnlyBorderWidth:"cursorOnly.borderWidth",cursorOnlyBorderStyle:"cursorOnly.borderStyle",cursorOnlyBorderStyleWithafterCursor:"cursorOnly.borderStyleWithafterCursor",singleLineBorderColor:"singleLine.borderColor",singleLineBackgroundColor:"singleLine.backgroundColor",singleLine:"singleLine.borderPosition",singleLineBorderWidth:"singleLine.borderWidth",singleLineBorderStyle:"singleLine.borderStyle",multiLineBorderColor:"multiLine.borderColor",multiLineBackgroundColor:"multiLine.backgroundColor",multiLineBorderPosition:"multiLine.borderPosition",multiLineBorderWidth:"multiLine.borderWidth",multiLineBorderStyle:"multiLine.borderStyle",multiCursorBorderColor:"multiCursor.borderColor",multiCursorBackgroundColor:"multiCursor.backgroundColor",multiCursorBorderPosition:"multiCursor.borderPosition",multiCursorBorderWidth:"multiCursor.borderWidth",multiCursorBorderStyle:"multiCursor.borderStyle"},Ti=(e,t,o)=>e.update(t,o,Jt.ConfigurationTarget.Global),pi=(e,t)=>e.update(t,void 0,Jt.ConfigurationTarget.Global),yn=async e=>{let t=h(e.name);Object.entries(t).forEach(async([o,n])=>{if((typeof n=="string"||typeof n=="number"||typeof n=="boolean")&&Object.hasOwn(hn,o)){let r=hn[o];await Ti(t,r,n),await pi(t,o)}})};var ui=(e,t)=>e.contentText.map((o,n)=>{let r=typeof o=="string"?t.placeholderDecorationOption:t.selectionDecorationOption[e.position[n]],i=xt(r,o);return typeof o=="symbol"&&(e.position[n]=i.after.contentText),i}).filter(o=>o!==void 0),_i=(e,t)=>{t.placeholderDecorationOption=He(e,!0),Object.keys(t.selectionDecorationOption).forEach((o,n)=>{let r={color:e.selectionCountTextStyle[o],colorOpacity:e.selectionCountTextStyle.opacity,fontStyle:e.selectionCountTextStyle.fontStyle,fontWeight:e.selectionCountTextStyle.fontWeight};t.selectionDecorationOption[o]=He(r,!0)})},xi=(e,t,o,n)=>{Object.entries(t).forEach(([r,i],s)=>{let a=ui(i,o),c=lo[r];e[c]={contentText:a,position:Object.entries(i.position)},(n&&n!=="0px"||n!=="0em")&&e[c].contentText[0]&&(e[c].contentText[0].after.margin=mn(n)),on(c,e[c].contentText.length)})},ke=(e,t=!1)=>{let o={...To},n={..._o},r=st(),i={functionOf:r.functionOf,textOf:{}};return Me(o,e+"."+w.selectionText,uo,i,$o),_i(o,n),xi(r.textOf,i.textOf,n,o.leftMargin),delete r.functionOf,delete r.infoOf,delete r.textOf,delete i.textOf,delete i.functionOf,!0};var $=g(require("vscode"));var fi=["pre","post"],gi={pre:"prefix",post:"postfix"},Ei=(e,t,o)=>{let n,r=t.sidePadding!=="null"?t.sidePadding:null,i=t.topDownPadding!=="null"?t.topDownPadding:null,s=`;margin-left:${o}`;for(let a of Object.values(e))t.borderRadius&&(a[0].after.textDecoration=`;border-top-left-radius:${t.borderRadius};border-bottom-left-radius:${t.borderRadius};padding-left:${r}`,a[a.length-1].after.textDecoration=`;border-top-right-radius:${t.borderRadius};border-bottom-right-radius:${t.borderRadius};padding-right:${r}`),o!=="0px"&&o!=="0em"&&o&&(a[0].after.textDecoration+=`;margin-left:${o}`);t.backgroundColor!=="null"&&(n=q(t.backgroundColor,t.backgroundOpacity,"#333333",.7),Object.entries(e).forEach(([a,c])=>{c.forEach((l,_)=>{e[a][_].after.backgroundColor=n,_!==0&&(e[a][_].after.textDecoration=e[a][_].after.textDecoration?.replace(s,"")),i&&(e[a][_].after.textDecoration+=`;padding-top:${i};padding-bottom:${i}`)})}))},Oi=({textPosition:e,primaryStyle:t,secondaryStyle:o,notation:n,leftMargin:r})=>e.contentText.map((i,s)=>{let a=e.position[s],c=t;if(fi.includes(a)){if(!Object.hasOwn(n,gi[a]))return;c=o}return xt(c,i)}).filter(i=>i!==void 0),mi=(e,t,o,n,r="")=>{let i=(a,c,l,_)=>{if(Object.hasOwn(c[l],_)){c[l][_].notation&&(a.notation=c[l][_].notation);let f=Oi(a);c[l][_].contentText=f}};Object.entries(o).forEach(([a,c])=>{let l=Co[a],_={textPosition:c,primaryStyle:n.diagonosticDecorationOption[l[0]],secondaryStyle:l[1]?n.diagonosticDecorationOption[l[1]]:null,notation:[],leftMargin:r};["workspace","editor","all","layout"].forEach(f=>{i(_,e,f,Lo[a])})});let s=a=>a.contentText.map(c=>(c.after.contentText===at&&(c.after.contentText=a.notation.prefix?a.notation.prefix:void 0),c.after.contentText===ct&&(c.after.contentText=a.notation.postfix?a.notation.postfix:void 0),c)).filter(c=>c.after.contentText!==void 0);e.layout[oe].contentText.forEach(a=>{if(a.after.contentText===Ye){let c=s(e.all[Ie]);x(O,c.map(l=>$.window.createTextEditorDecorationType(l))),t[O].push(...c)}else x(O,[$.window.createTextEditorDecorationType(a)]),t[O].push({...a})}),e.layout[ne].contentText.forEach(a=>{if(a.after.contentText===ze){let l=s(e.editor[re]),_=s(e.editor[ie]),f=s(e.editor[se]);t[I].push(...l),t[A].push(...l),t[U].push(...l),t[G].push(...l),t[B].push(..._),t[X].push(..._),t[H].push(..._),t[F].push(...f),t[M].push(...f),t[j].push(..._,...f);let y=l.map(W=>$.window.createTextEditorDecorationType(W)),v=_.map(W=>$.window.createTextEditorDecorationType(W)),S=f.map(W=>$.window.createTextEditorDecorationType(W));x(I,y),x(A,y),x(U,y),x(G,y),x(B,v),x(X,v),x(H,v),x(F,S),x(M,S),x(j,[...v,...S]);return}if(a.after.contentText===Je){let l=s(e.workspace[ae]),_=s(e.workspace[ce]),f=s(e.workspace[le]);t[I].push(...l),t[A].push(..._),t[U].push(...f),t[G].push(..._,...f),t[B].push(..._),t[X].push(...f),t[H].push(..._,...f),t[F].push(...f),t[M].push(..._,...f),t[j].push(..._,...f);let y=l.map(W=>$.window.createTextEditorDecorationType(W)),v=_.map(W=>$.window.createTextEditorDecorationType(W)),S=f.map(W=>$.window.createTextEditorDecorationType(W));x(I,y),x(A,v),x(U,S),x(G,[...v,...S]),x(B,v),x(X,S),x(H,[...v,...S]),x(F,S),x(M,[...v,...S]),x(j,[...v,...S]);return}let c=$.window.createTextEditorDecorationType(a);yt.forEach(l=>{t[l].push({...a}),x(l,[c])})})},Nn=(e,t)=>t!=="null"&&t.length>0&&!ot.test(t)?{[e]:t}:{},Ci=(e,t,o)=>({[e]:{...mo,notation:{...Nn("prefix",t),...Nn("postfix",o)}}}),qt=(e,t,o,n)=>{let r=o+"Prefix",i=o+"Postfix";if(e[t][r]!==void 0&&e[t][i]!==void 0)return Ci(n[t],e[t][r],e[t][i])},Li=(e,t)=>{let o={},n={},r={1:{styleName:"okNotationTextStyle",target:[n,o]},2:{styleName:"warningNotationTextStyle",target:[n]},4:{styleName:"errorNotationTextStyle",target:[n]}};return Object.entries(r).forEach(([i,s])=>{t&Number(i)&&e[s.styleName]&&s.target.forEach(a=>{a[i]={color:q(e[s.styleName].color,e[s.styleName].colorOpacity,"#333333",.7)}})}),{[ne]:{override:Object.keys(n).length>0?n:void 0},[oe]:{override:Object.keys(o).length>0?o:void 0}}},Ri=(e,t,o,n,r)=>{let i={workspace:{},editor:{},all:{},layout:{[ne]:{},[oe]:{}}};e.leftMargin&&(t.leftMargin=e.leftMargin),o.forEach(c=>{let l={color:Xe(e[c].color),colorOpacity:e[c].colorOpacity,backgroundColor:Xe(e[c].backgroundColor),backgroundOpacity:e[c].backgroundOpacity,fontStyle:Xe(e[c].fontStyle),fontWeight:Xe(e[c].fontWeight)};t.diagonosticDecorationOption[c]=He(l,!0),i.workspace={...i.workspace,...qt(e,c,"workspace",Eo)},i.editor={...i.editor,...qt(e,c,"editor",go)},i.all={...i.all,...qt(e,c,"all",Oo)}});let s=r.workspace|r.editor,a=n.overrideLayoutPlaceholderColorToHighestSeverity?Li(e,s):void 0;return{...i,layout:{[ne]:{},[oe]:{},...a}}},bn=(e=!1,t=!1)=>{let o=7;return o^=e?1:0,o^=t?2:0,o},hi=e=>{let t=7,o=7;return e.DiagnosticKind==="workspace Only"&&(o=0,t&=bn(e.hideOk,e.hideWarning)),e.DiagnosticKind==="editor Only"&&(t=0,o&=bn(e.hideOk,e.hideWarning)),{workspace:t,editor:o}},yi=(()=>{let e=[...Ro];return e.reverse().push(["0","0"]),e})(),Ni=e=>[...nt(e,yi,0,4).filter(t=>t!==0).flat(),"diagnosticPlaceholderTextStyle"],bi=e=>{let t=e.textOf;for(let o in t.layout)o.override&&delete o.override},ki=(e,t)=>{e[fe]=t.openningBracket,e[ge]=t.closingBracket,e[Ee]=t.lineEqual,e[Oe]=t.lineUp,e[me]=t.lineDown},vi=(e,t)=>{if(t.placeTextOnPreviousOrNextLine==="previousLine"){e.rangeFunction=Go;return}if(t.placeTextOnPreviousOrNextLine==="nextLine"){e.rangeFunction=Bo;return}e.rangeFunction=et},ve=(e,t=!1)=>{let o={...fo},n={...No},r={layout:{},editor:{},workspace:{},all:{}},i=Tn(),s={functionOf:i.functionOf,textOf:{}};t&&(bi(i),an()),Me(o,e+"."+w.diagnosticText,ho,s,jo);let a=o.visibility.overrideAllOk?O:I,c=hi(o.visibility),l=Ni(c.workspace|c.editor);return Object.assign(r,Ri(o,n,l,o.visibility,c)),Object.assign(i.configOf,o.visibility),mi(r,i.textOf.contentText,s.textOf,n,o.leftMargin),Ei(i.textOf.contentText,o.diagnosticPlaceholderTextStyle,o.leftMargin),ki(i.textOf.glyphList,o.glyphList),vi(i.functionOf,o.visibility),rn(a),dn(a),delete s.textof,delete s.functionOf,delete i.visibilityOf,delete i.functionOf,delete i.textOf.contentText,delete i.textOf.glyphList,delete i.textof,delete i.configOf,!0};var Zt={...ao},kn=e=>{let t=e?.extension.packageJSON.name;if(!t||(Zt.name=t,!Zt.name))return;let o=Zt,n=_n().stateOf;if(o.configError||(o.configError=[],yn(o)),fn(),Rn(o))return o.generalConfigInfo.selectionTextEnabled&&ke(o.name),o.generalConfigInfo.diagnosticTextEnabled&&ve(o.name),{config:o,decoration:n}};var Se=g(require("vscode"));var Q=g(require("vscode"));var vn=g(require("path"));var Sn=require("node:fs/promises");var Wn=e=>t=>{if(t==="Yes"){for(let o of Object.values(w)){let n=h(e.package.extension.packageJSON.name+"."+o);for(let r of Object.keys(n))typeof n[r]!="function"&&r.length>0&&n.update(r,void 0,!0)}Q.window.showInformationMessage("Configuration has been restored to default.")}},Dn=()=>An("Are you sure to restore to default?"),In=async(e,t)=>{try{let o=e.asAbsolutePath(vn.default.join("resource/preset/",t)),n=await(0,Sn.readFile)(o,{encoding:"utf-8"});return JSON.parse(n)}catch(o){console.error("Failed to load preset JSON:",o)}},Wi=(e,t,o)=>n=>{if(n==="Yes")return Pn(e,t,o)},wn=(e,t)=>{let o=h(e);for(let n of Object.keys(t))if(o.inspect(n)?.globalValue)return!0;return!1},Pn=async(e,t,o)=>{e.updateCaller=io,Q.commands.executeCommand("workbench.view.explorer");let n=h(t),r=Object.keys(o),i=r.length;for(;i--;)if(typeof o[r[i]]=="object"){let s=n.inspect(r[i]);await n.update(r[i],{...s?.globalValue,...o[r[i]]},!0)}else await n.update(r[i],o[r[i]],!0);te(),je(e),P(e,d),P(e,p),P(e,T),P(e,u),ke(t,!0),ve(t,!0),Ne(e),e.updateCaller=void 0},An=e=>Q.window.showWarningMessage(e,"Yes","No"),ft=async(e,t,o,n)=>{let r=await Q.window.showQuickPick(t,{placeHolder:n});if(r&&Object.hasOwn(o,r)){let i=e.package.extension.packageJSON.name,s=await In(e.package,o[r]),a=Wi(e.configInfo,i,s||{});wn(e.package.extension.packageJSON.name,s)?await An("Configuration will be overwritten. Proceed?").then(a):await a("Yes")}},Un=e=>{ft(e,["Detailed","Simple","No Glpyph - Detailed","No Glpyph - Simple","Emoji - Detailed","Emoji - Simple"],{Detailed:"detailed.json",Simple:"simple.json","No Glpyph - Detailed":"no-glyph-detailed.json","No Glpyph - Simple":"no-glyph-simple.json","Emoji - Detailed":"emoji-detailed.json","Emoji - Simple":"emoji-simple.json"}," ... Select the Preset")},Gn=e=>{ft(e,["Horizontal","Vertical"],{Horizontal:"orientation-horizontal.json",Vertical:"orientation-vertical.json"}," ... Select the Preset Orientation")},Bn=e=>{ft(e,["Light","Dark"],{Light:"color-light-theme.json",Dark:"color-dark-theme.json"}," ... Select the Color Contrast")},Xn=e=>{ft(e,["Dim","Bright"],{Dim:"contrast-dim.json",Bright:"contrast-bright.json"}," ... Select the Theme Color")},Hn=async e=>{if(Q.window.activeColorTheme.kind===Q.ColorThemeKind.Light){let t=e.package.extension.packageJSON.name,o=await In(e.package,"color-light-theme.json");o&&!wn(e.package.extension.packageJSON.name,o)&&await Pn(e.configInfo,t,o)}};var Fn=e=>Se.commands.registerCommand("cursorlinehighlight.applyPreset",()=>Un(e)),Mn=e=>Se.commands.registerCommand("cursorlinehighlight.setColor",()=>Bn(e)),jn=e=>Se.commands.registerCommand("cursorlinehighlight.setContrast",()=>Xn(e)),$n=e=>Se.commands.registerCommand("cursorlinehighlight.setOrientation",()=>Gn(e)),Kn=e=>Se.commands.registerCommand("cursorlinehighlight.restoreToDefaultConfiguration",()=>Dn().then(Wn(e)));var xe=g(require("vscode"));var Vn=({decorationState:e})=>xe.window.onDidChangeWindowState(t=>{t.focused?xe.window.activeTextEditor&&(e.appliedHighlight[0]=be(xe.window.activeTextEditor,[d])):te(),!t.focused&&!t.active&&(te(),console.log("idling"))}),Yn=({configInfo:e,decorationState:t})=>xe.window.onDidChangeActiveTextEditor(o=>{o&&(E.check()&&E.notify(1500),te(),e.generalConfigInfo.diagnosticTextEnabled&&(wt(),Pt(),Tt(o.document.uri)),Ht(o),t.appliedHighlight[0]=be(o,[d]))}),zn=e=>xe.window.onDidChangeTextEditorOptions(t=>{t.textEditor&&Ht(t.textEditor)}),Jn=({decorationState:e})=>xe.window.onDidChangeTextEditorSelection(t=>{e.eventTrigger[0]=ro,e.appliedHighlight[0]=be(t.textEditor,e.appliedHighlight)});var Zn=g(require("vscode"));var qn=(e,t)=>{try{E.configurationUpdated();let o={general:()=>je(e),cursorOnly:()=>P(e,d),singleLine:()=>P(e,p),multiLine:()=>P(e,T),multiCursor:()=>P(e,u),selectionText:()=>ke(e.name,!0),diagnosticText:()=>ve(e.name,!0)};te(),o[t](),o.general()}catch(o){console.log("confugration update failed. Will notify user.",o)}finally{Ne(e)}};var Qn=({configInfo:e,decorationState:t})=>Zn.workspace.onDidChangeConfiguration(o=>{if(o&&e.updateCaller===void 0){let n=Object.keys(w).find(r=>o.affectsConfiguration(e.name+"."+r));n&&qn(e,n)}});var gt=g(require("vscode"));var er=({decorationState:e})=>gt.languages.onDidChangeDiagnostics(async t=>{let o=gt.window.activeTextEditor;o&&t&&(e.eventTrigger[0]=qe,Ge(e)(o))});var tr=async e=>{try{await e.extension.activate(),E.setPackageName(e.extension.packageJSON.name);let t=await kn(e);if(!t){console.error("Failed to initialize config.");return}let o=t.config,n=Qt.window.activeTextEditor;Ne(o),n&&(un(t.decoration),t.decoration.appliedHighlight[0]=be(n,[d]));let r={package:e,configInfo:o},i={configInfo:o,decorationState:t.decoration};return Hn(r),[Fn(r),Mn(r),jn(r),$n(r),Kn(r),Vn(i),Yn(i),Jn(i),zn(i),er(i),Qn(i)]}catch(t){console.error("Error during extension initialization: ",t),Qt.window.showErrorMessage("Extension initialization failed!",t)}};function Ai(e){tr(e).then(t=>{t&&e.subscriptions.push(...t)})}function Ui(){}0&&(module.exports={activate,deactivate});
